/*! For license information please see app.min.js.LICENSE.txt */
(()=>{var t={360(t){t.exports=function(){"use strict";var t=function(){return t=Object.assign||function(t){for(var e,r=1,i=arguments.length;r<i;r++)for(var n in e=arguments[r])Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t},t.apply(this,arguments)},e="lgUpdateSlides",r="lgPosterClick",i="lgBeforeNextSlide",n="lgBeforePrevSlide",o={mode:"lg-slide",easing:"ease",speed:400,licenseKey:"0000-0000-000-0000",height:"100%",width:"100%",addClass:"",startClass:"lg-start-zoom",backdropDuration:300,container:"",startAnimationDuration:400,zoomFromOrigin:!0,hideBarsDelay:0,showBarsAfter:1e4,slideDelay:0,supportLegacyBrowser:!0,allowMediaOverlap:!1,videoMaxSize:"1280-720",loadYouTubePoster:!0,defaultCaptionHeight:0,ariaLabelledby:"",ariaDescribedby:"",resetScrollPosition:!0,hideScrollbar:!1,closable:!0,swipeToClose:!0,closeOnTap:!0,showCloseIcon:!0,showMaximizeIcon:!1,loop:!0,escKey:!0,keyPress:!0,trapFocus:!0,controls:!0,slideEndAnimation:!0,hideControlOnEnd:!1,mousewheel:!1,getCaptionFromTitleOrAlt:!0,appendSubHtmlTo:".lg-sub-html",subHtmlSelectorRelative:!1,preload:2,numberOfSlideItemsInDom:10,selector:"",selectWithin:"",nextHtml:"",prevHtml:"",index:0,iframeWidth:"100%",iframeHeight:"100%",iframeMaxWidth:"100%",iframeMaxHeight:"100%",download:!0,counter:!0,appendCounterTo:".lg-toolbar",swipeThreshold:50,enableSwipe:!0,enableDrag:!0,dynamic:!1,dynamicEl:[],extraProps:[],exThumbImage:"",isMobile:void 0,mobileSettings:{controls:!1,showCloseIcon:!1,download:!1},plugins:[],strings:{closeGallery:"Close gallery",toggleMaximize:"Toggle maximize",previousSlide:"Previous slide",nextSlide:"Next slide",download:"Download",playVideo:"Play video",mediaLoadingFailed:"Oops... Failed to load content..."}},s=function(){function t(t){return this.cssVenderPrefixes=["TransitionDuration","TransitionTimingFunction","Transform","Transition"],this.selector=this._getSelector(t),this.firstElement=this._getFirstEl(),this}return t.generateUUID=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){var e=16*Math.random()|0;return("x"==t?e:3&e|8).toString(16)})},t.prototype._getSelector=function(t,e){return void 0===e&&(e=document),"string"!=typeof t?t:(e=e||document,"#"===t.substring(0,1)?e.querySelector(t):e.querySelectorAll(t))},t.prototype._each=function(t){return this.selector?(void 0!==this.selector.length?[].forEach.call(this.selector,t):t(this.selector,0),this):this},t.prototype._setCssVendorPrefix=function(t,e,r){var i=e.replace(/-([a-z])/gi,function(t,e){return e.toUpperCase()});-1!==this.cssVenderPrefixes.indexOf(i)?(t.style[i.charAt(0).toLowerCase()+i.slice(1)]=r,t.style["webkit"+i]=r,t.style["moz"+i]=r,t.style["ms"+i]=r,t.style["o"+i]=r):t.style[i]=r},t.prototype._getFirstEl=function(){return this.selector&&void 0!==this.selector.length?this.selector[0]:this.selector},t.prototype.isEventMatched=function(t,e){var r=e.split(".");return t.split(".").filter(function(t){return t}).every(function(t){return-1!==r.indexOf(t)})},t.prototype.attr=function(t,e){return void 0===e?this.firstElement?this.firstElement.getAttribute(t):"":(this._each(function(r){r.setAttribute(t,e)}),this)},t.prototype.find=function(t){return a(this._getSelector(t,this.selector))},t.prototype.first=function(){return this.selector&&void 0!==this.selector.length?a(this.selector[0]):a(this.selector)},t.prototype.eq=function(t){return a(this.selector[t])},t.prototype.parent=function(){return a(this.selector.parentElement)},t.prototype.get=function(){return this._getFirstEl()},t.prototype.removeAttr=function(t){var e=t.split(" ");return this._each(function(t){e.forEach(function(e){return t.removeAttribute(e)})}),this},t.prototype.wrap=function(t){if(!this.firstElement)return this;var e=document.createElement("div");return e.className=t,this.firstElement.parentNode.insertBefore(e,this.firstElement),this.firstElement.parentNode.removeChild(this.firstElement),e.appendChild(this.firstElement),this},t.prototype.addClass=function(t){return void 0===t&&(t=""),this._each(function(e){t.split(" ").forEach(function(t){t&&e.classList.add(t)})}),this},t.prototype.removeClass=function(t){return this._each(function(e){t.split(" ").forEach(function(t){t&&e.classList.remove(t)})}),this},t.prototype.hasClass=function(t){return!!this.firstElement&&this.firstElement.classList.contains(t)},t.prototype.hasAttribute=function(t){return!!this.firstElement&&this.firstElement.hasAttribute(t)},t.prototype.toggleClass=function(t){return this.firstElement?(this.hasClass(t)?this.removeClass(t):this.addClass(t),this):this},t.prototype.css=function(t,e){var r=this;return this._each(function(i){r._setCssVendorPrefix(i,t,e)}),this},t.prototype.on=function(e,r){var i=this;return this.selector?(e.split(" ").forEach(function(e){Array.isArray(t.eventListeners[e])||(t.eventListeners[e]=[]),t.eventListeners[e].push(r),i.selector.addEventListener(e.split(".")[0],r)}),this):this},t.prototype.once=function(t,e){var r=this;return this.on(t,function(){r.off(t),e(t)}),this},t.prototype.off=function(e){var r=this;return this.selector?(Object.keys(t.eventListeners).forEach(function(i){r.isEventMatched(e,i)&&(t.eventListeners[i].forEach(function(t){r.selector.removeEventListener(i.split(".")[0],t)}),t.eventListeners[i]=[])}),this):this},t.prototype.trigger=function(t,e){if(!this.firstElement)return this;var r=new CustomEvent(t.split(".")[0],{detail:e||null});return this.firstElement.dispatchEvent(r),this},t.prototype.load=function(t){var e=this;return fetch(t).then(function(t){return t.text()}).then(function(t){e.selector.innerHTML=t}),this},t.prototype.html=function(t){return void 0===t?this.firstElement?this.firstElement.innerHTML:"":(this._each(function(e){e.innerHTML=t}),this)},t.prototype.append=function(t){return this._each(function(e){"string"==typeof t?e.insertAdjacentHTML("beforeend",t):e.appendChild(t)}),this},t.prototype.prepend=function(t){return this._each(function(e){"string"==typeof t?e.insertAdjacentHTML("afterbegin",t):t instanceof HTMLElement&&e.insertBefore(t.cloneNode(!0),e.firstChild)}),this},t.prototype.remove=function(){return this._each(function(t){t.parentNode.removeChild(t)}),this},t.prototype.empty=function(){return this._each(function(t){t.innerHTML=""}),this},t.prototype.scrollTop=function(t){return void 0!==t?(document.body.scrollTop=t,document.documentElement.scrollTop=t,this):window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0},t.prototype.scrollLeft=function(t){return void 0!==t?(document.body.scrollLeft=t,document.documentElement.scrollLeft=t,this):window.pageXOffset||document.documentElement.scrollLeft||document.body.scrollLeft||0},t.prototype.offset=function(){if(!this.firstElement)return{left:0,top:0};var t=this.firstElement.getBoundingClientRect(),e=a("body").style().marginLeft;return{left:t.left-parseFloat(e)+this.scrollLeft(),top:t.top+this.scrollTop()}},t.prototype.style=function(){return this.firstElement?this.firstElement.currentStyle||window.getComputedStyle(this.firstElement):{}},t.prototype.width=function(){var t=this.style();return this.firstElement.clientWidth-parseFloat(t.paddingLeft)-parseFloat(t.paddingRight)},t.prototype.height=function(){var t=this.style();return this.firstElement.clientHeight-parseFloat(t.paddingTop)-parseFloat(t.paddingBottom)},t.eventListeners={},t}();function a(t){return function(){if("function"==typeof window.CustomEvent)return!1;window.CustomEvent=function(t,e){e=e||{bubbles:!1,cancelable:!1,detail:null};var r=document.createEvent("CustomEvent");return r.initCustomEvent(t,e.bubbles,e.cancelable,e.detail),r}}(),Element.prototype.matches||(Element.prototype.matches=Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector),new s(t)}var l=["src","sources","subHtml","subHtmlUrl","html","video","poster","slideName","responsive","srcset","sizes","iframe","downloadUrl","download","width","facebookShareUrl","tweetText","iframeTitle","twitterShareUrl","pinterestShareUrl","pinterestText","fbHtml","disqusIdentifier","disqusUrl"];function c(t){return"href"===t?"src":t=(t=(t=t.replace("data-","")).charAt(0).toLowerCase()+t.slice(1)).replace(/-([a-z])/g,function(t){return t[1].toUpperCase()})}var u=function(t,e,r){fetch(t).then(function(t){return t.text()}).then(function(t){if("append"===r){var i='<div class="lg-sub-html">'+t+"</div>";e.append(i)}else e.html(t)})},h=function(t,e,r,i){void 0===r&&(r=0);var n=a(t).attr("data-lg-size")||i;if(n){var o=n.split(",");if(o[1])for(var s=window.innerWidth,l=0;l<o.length;l++){var c=o[l];if(parseInt(c.split("-")[2],10)>s){n=c;break}l===o.length-1&&(n=c)}var u=n.split("-"),h=parseInt(u[0],10),d=parseInt(u[1],10),p=e.width(),g=e.height()-r,f=Math.min(p,h),m=Math.min(g,d),y=Math.min(f/h,m/d);return{width:h*y,height:d*y}}},d=function(t,e,r,i,n){if(n){var o=a(t).find("img").first();if(o.get()){var s=e.get().getBoundingClientRect(),l=s.width,c=e.height()-(r+i),u=o.width(),h=o.height(),d=o.style(),p=(l-u)/2-o.offset().left+(parseFloat(d.paddingLeft)||0)+(parseFloat(d.borderLeft)||0)+a(window).scrollLeft()+s.left,g=(c-h)/2-o.offset().top+(parseFloat(d.paddingTop)||0)+(parseFloat(d.borderTop)||0)+a(window).scrollTop()+r;return"translate3d("+(p*=-1)+"px, "+(g*=-1)+"px, 0) scale3d("+u/n.width+", "+h/n.height+", 1)"}}},p=function(t,e,r,i,n,o){var s="<img "+r+" "+(i?'srcset="'+i+'"':"")+"  "+(n?'sizes="'+n+'"':"")+' class="lg-object lg-image" data-index="'+t+'" src="'+e+'" />',a="";return o&&(a=("string"==typeof o?JSON.parse(o):o).map(function(t){var e="";return Object.keys(t).forEach(function(r){e+=" "+r+'="'+t[r]+'"'}),"<source "+e+"></source>"})),""+a+s},g=function(t,e,r,i){var n=[],o=function(){for(var t=0,e=0,r=arguments.length;e<r;e++)t+=arguments[e].length;var i=Array(t),n=0;for(e=0;e<r;e++)for(var o=arguments[e],s=0,a=o.length;s<a;s++,n++)i[n]=o[s];return i}(l,e);return[].forEach.call(t,function(t){for(var e={},s=0;s<t.attributes.length;s++){var l=t.attributes[s];if(l.specified){var u=c(l.name),h="";o.indexOf(u)>-1&&(h=u),h&&(e[h]=l.value)}}var d=a(t),p=d.find("img").first().attr("alt"),g=d.attr("title"),f=i?d.attr(i):d.find("img").first().attr("src");e.thumb=f,r&&!e.subHtml&&(e.subHtml=g||p||""),e.alt=p||g||"",n.push(e)}),n},f=0,m=function(){function l(t,e){if(this.lgOpened=!1,this.index=0,this.plugins=[],this.lGalleryOn=!1,this.lgBusy=!1,this.currentItemsInDom=[],this.prevScrollTop=0,this.bodyPaddingRight=0,this.isDummyImageRemoved=!1,this.dragOrSwipeEnabled=!1,this.mediaContainerPosition={top:0,bottom:0},!t)return this;if(f++,this.lgId=f,this.el=t,this.LGel=a(t),this.generateSettings(e),this.buildModules(),this.settings.dynamic&&void 0!==this.settings.dynamicEl&&!Array.isArray(this.settings.dynamicEl))throw"When using dynamic mode, you must also define dynamicEl as an Array.";return this.galleryItems=this.getItems(),this.normalizeSettings(),this.init(),this.validateLicense(),this}return l.prototype.generateSettings=function(e){if(this.settings=t(t({},o),e),this.settings.isMobile&&"function"==typeof this.settings.isMobile?this.settings.isMobile():/iPhone|iPad|iPod|Android/i.test(navigator.userAgent)){var r=t(t({},this.settings.mobileSettings),this.settings.mobileSettings);this.settings=t(t({},this.settings),r)}},l.prototype.normalizeSettings=function(){if(this.settings.slideEndAnimation&&(this.settings.hideControlOnEnd=!1),this.settings.closable||(this.settings.swipeToClose=!1),this.zoomFromOrigin=this.settings.zoomFromOrigin,this.settings.dynamic&&(this.zoomFromOrigin=!1),this.settings.container){var t=this.settings.container;if("function"==typeof t)this.settings.container=t();else if("string"==typeof t){var e=document.querySelector(t);this.settings.container=null!=e?e:document.body}}else this.settings.container=document.body;this.settings.preload=Math.min(this.settings.preload,this.galleryItems.length)},l.prototype.init=function(){var t=this;this.addSlideVideoInfo(this.galleryItems),this.buildStructure(),this.LGel.trigger("lgInit",{instance:this}),this.settings.keyPress&&this.keyPress(),setTimeout(function(){t.enableDrag(),t.enableSwipe(),t.triggerPosterClick()},50),this.arrow(),this.settings.mousewheel&&this.mousewheel(),this.settings.dynamic||this.openGalleryOnItemClick()},l.prototype.openGalleryOnItemClick=function(){for(var t=this,e=function(e){var i=r.items[e],n=a(i),o=s.generateUUID();n.attr("data-lg-id",o).on("click.lgcustom-item-"+o,function(r){r.preventDefault();var n=t.settings.index||e;t.openGallery(n,i)})},r=this,i=0;i<this.items.length;i++)e(i)},l.prototype.buildModules=function(){var t=this;this.settings.plugins.forEach(function(e){t.plugins.push(new e(t,a))})},l.prototype.validateLicense=function(){this.settings.licenseKey?"0000-0000-000-0000"===this.settings.licenseKey&&console.warn("lightGallery: "+this.settings.licenseKey+" license key is not valid for production use"):console.error("Please provide a valid license key")},l.prototype.getSlideItem=function(t){return a(this.getSlideItemId(t))},l.prototype.getSlideItemId=function(t){return"#lg-item-"+this.lgId+"-"+t},l.prototype.getIdName=function(t){return t+"-"+this.lgId},l.prototype.getElementById=function(t){return a("#"+this.getIdName(t))},l.prototype.manageSingleSlideClassName=function(){this.galleryItems.length<2?this.outer.addClass("lg-single-item"):this.outer.removeClass("lg-single-item")},l.prototype.buildStructure=function(){var t=this;if(!this.$container||!this.$container.get()){var e="",r="";this.settings.controls&&(e='<button type="button" id="'+this.getIdName("lg-prev")+'" aria-label="'+this.settings.strings.previousSlide+'" class="lg-prev lg-icon"> '+this.settings.prevHtml+' </button>\n                <button type="button" id="'+this.getIdName("lg-next")+'" aria-label="'+this.settings.strings.nextSlide+'" class="lg-next lg-icon"> '+this.settings.nextHtml+" </button>"),".lg-item"!==this.settings.appendSubHtmlTo&&(r='<div class="lg-sub-html" role="status" aria-live="polite"></div>');var i="";this.settings.allowMediaOverlap&&(i+="lg-media-overlap ");var n=this.settings.ariaLabelledby?'aria-labelledby="'+this.settings.ariaLabelledby+'"':"",o=this.settings.ariaDescribedby?'aria-describedby="'+this.settings.ariaDescribedby+'"':"",s="lg-container "+this.settings.addClass+" "+(document.body!==this.settings.container?"lg-inline":""),l=this.settings.closable&&this.settings.showCloseIcon?'<button type="button" aria-label="'+this.settings.strings.closeGallery+'" id="'+this.getIdName("lg-close")+'" class="lg-close lg-icon"></button>':"",c=this.settings.showMaximizeIcon?'<button type="button" aria-label="'+this.settings.strings.toggleMaximize+'" id="'+this.getIdName("lg-maximize")+'" class="lg-maximize lg-icon"></button>':"",u='\n        <div class="'+s+'" id="'+this.getIdName("lg-container")+'" tabindex="-1" aria-modal="true" '+n+" "+o+' role="dialog"\n        >\n            <div id="'+this.getIdName("lg-backdrop")+'" class="lg-backdrop"></div>\n\n            <div id="'+this.getIdName("lg-outer")+'" class="lg-outer lg-use-css3 lg-css3 lg-hide-items '+i+' ">\n\n              <div id="'+this.getIdName("lg-content")+'" class="lg-content">\n                <div id="'+this.getIdName("lg-inner")+'" class="lg-inner">\n                </div>\n                '+e+'\n              </div>\n                <div id="'+this.getIdName("lg-toolbar")+'" class="lg-toolbar lg-group">\n                    '+c+"\n                    "+l+"\n                    </div>\n                    "+(".lg-outer"===this.settings.appendSubHtmlTo?r:"")+'\n                <div id="'+this.getIdName("lg-components")+'" class="lg-components">\n                    '+(".lg-sub-html"===this.settings.appendSubHtmlTo?r:"")+"\n                </div>\n            </div>\n        </div>\n        ";a(this.settings.container).append(u),document.body!==this.settings.container&&a(this.settings.container).css("position","relative"),this.outer=this.getElementById("lg-outer"),this.$lgComponents=this.getElementById("lg-components"),this.$backdrop=this.getElementById("lg-backdrop"),this.$container=this.getElementById("lg-container"),this.$inner=this.getElementById("lg-inner"),this.$content=this.getElementById("lg-content"),this.$toolbar=this.getElementById("lg-toolbar"),this.$backdrop.css("transition-duration",this.settings.backdropDuration+"ms");var h=this.settings.mode+" ";this.manageSingleSlideClassName(),this.settings.enableDrag&&(h+="lg-grab "),this.outer.addClass(h),this.$inner.css("transition-timing-function",this.settings.easing),this.$inner.css("transition-duration",this.settings.speed+"ms"),this.settings.download&&this.$toolbar.append('<a id="'+this.getIdName("lg-download")+'" target="_blank" rel="noopener" aria-label="'+this.settings.strings.download+'" download class="lg-download lg-icon"></a>'),this.counter(),a(window).on("resize.lg.global"+this.lgId+" orientationchange.lg.global"+this.lgId,function(){t.refreshOnResize()}),this.hideBars(),this.manageCloseGallery(),this.toggleMaximize(),this.initModules()}},l.prototype.refreshOnResize=function(){if(this.lgOpened){var t=this.galleryItems[this.index].__slideVideoInfo;this.mediaContainerPosition=this.getMediaContainerPosition();var e=this.mediaContainerPosition,r=e.top,i=e.bottom;if(this.currentImageSize=h(this.items[this.index],this.outer,r+i,t&&this.settings.videoMaxSize),t&&this.resizeVideoSlide(this.index,this.currentImageSize),this.zoomFromOrigin&&!this.isDummyImageRemoved){var n=this.getDummyImgStyles(this.currentImageSize);this.outer.find(".lg-current .lg-dummy-img").first().attr("style",n)}this.LGel.trigger("lgContainerResize")}},l.prototype.resizeVideoSlide=function(t,e){var r=this.getVideoContStyle(e);this.getSlideItem(t).find(".lg-video-cont").attr("style",r)},l.prototype.updateSlides=function(t,r){if(this.index>t.length-1&&(this.index=t.length-1),1===t.length&&(this.index=0),t.length){var i=this.galleryItems[r].src;this.galleryItems=t,this.updateControls(),this.$inner.empty(),this.currentItemsInDom=[];var n=0;this.galleryItems.some(function(t,e){return t.src===i&&(n=e,!0)}),this.currentItemsInDom=this.organizeSlideItems(n,-1),this.loadContent(n,!0),this.getSlideItem(n).addClass("lg-current"),this.index=n,this.updateCurrentCounter(n),this.LGel.trigger(e)}else this.closeGallery()},l.prototype.getItems=function(){if(this.items=[],this.settings.dynamic)return this.settings.dynamicEl||[];if("this"===this.settings.selector)this.items.push(this.el);else if(this.settings.selector)if("string"==typeof this.settings.selector)if(this.settings.selectWithin){var t=a(this.settings.selectWithin);this.items=t.find(this.settings.selector).get()}else this.items=this.el.querySelectorAll(this.settings.selector);else this.items=this.settings.selector;else this.items=this.el.children;return g(this.items,this.settings.extraProps,this.settings.getCaptionFromTitleOrAlt,this.settings.exThumbImage)},l.prototype.shouldHideScrollbar=function(){return this.settings.hideScrollbar&&document.body===this.settings.container},l.prototype.hideScrollbar=function(){if(this.shouldHideScrollbar()){this.bodyPaddingRight=parseFloat(a("body").style().paddingRight);var t=document.documentElement.getBoundingClientRect(),e=window.innerWidth-t.width;a(document.body).css("padding-right",e+this.bodyPaddingRight+"px"),a(document.body).addClass("lg-overlay-open")}},l.prototype.resetScrollBar=function(){this.shouldHideScrollbar()&&(a(document.body).css("padding-right",this.bodyPaddingRight+"px"),a(document.body).removeClass("lg-overlay-open"))},l.prototype.openGallery=function(t,e){var r=this;if(void 0===t&&(t=this.settings.index),!this.lgOpened){this.lgOpened=!0,this.outer.removeClass("lg-hide-items"),this.hideScrollbar(),this.$container.addClass("lg-show");var i=this.getItemsToBeInsertedToDom(t,t);this.currentItemsInDom=i;var n="";i.forEach(function(t){n=n+'<div id="'+t+'" class="lg-item"></div>'}),this.$inner.append(n),this.addHtml(t);var o="";this.mediaContainerPosition=this.getMediaContainerPosition();var s=this.mediaContainerPosition,l=s.top,c=s.bottom;this.settings.allowMediaOverlap||this.setMediaContainerPosition(l,c);var u=this.galleryItems[t].__slideVideoInfo;this.zoomFromOrigin&&e&&(this.currentImageSize=h(e,this.outer,l+c,u&&this.settings.videoMaxSize),o=d(e,this.outer,l,c,this.currentImageSize)),this.zoomFromOrigin&&o||(this.outer.addClass(this.settings.startClass),this.getSlideItem(t).removeClass("lg-complete"));var p=this.settings.zoomFromOrigin?100:this.settings.backdropDuration;setTimeout(function(){r.outer.addClass("lg-components-open")},p),this.index=t,this.LGel.trigger("lgBeforeOpen"),this.getSlideItem(t).addClass("lg-current"),this.lGalleryOn=!1,this.prevScrollTop=a(window).scrollTop(),setTimeout(function(){if(r.zoomFromOrigin&&o){var e=r.getSlideItem(t);e.css("transform",o),setTimeout(function(){e.addClass("lg-start-progress lg-start-end-progress").css("transition-duration",r.settings.startAnimationDuration+"ms"),r.outer.addClass("lg-zoom-from-image")}),setTimeout(function(){e.css("transform","translate3d(0, 0, 0)")},100)}setTimeout(function(){r.$backdrop.addClass("in"),r.$container.addClass("lg-show-in")},10),setTimeout(function(){r.settings.trapFocus&&document.body===r.settings.container&&r.trapFocus()},r.settings.backdropDuration+50),r.zoomFromOrigin&&o||setTimeout(function(){r.outer.addClass("lg-visible")},r.settings.backdropDuration),r.slide(t,!1,!1,!1),r.LGel.trigger("lgAfterOpen")}),document.body===this.settings.container&&a("html").addClass("lg-on")}},l.prototype.getMediaContainerPosition=function(){if(this.settings.allowMediaOverlap)return{top:0,bottom:0};var t=this.$toolbar.get().clientHeight||0,e=this.outer.find(".lg-components .lg-sub-html").get(),r=this.settings.defaultCaptionHeight||e&&e.clientHeight||0,i=this.outer.find(".lg-thumb-outer").get();return{top:t,bottom:(i?i.clientHeight:0)+r}},l.prototype.setMediaContainerPosition=function(t,e){void 0===t&&(t=0),void 0===e&&(e=0),this.$content.css("top",t+"px").css("bottom",e+"px")},l.prototype.hideBars=function(){var t=this;setTimeout(function(){t.outer.removeClass("lg-hide-items"),t.settings.hideBarsDelay>0&&(t.outer.on("mousemove.lg click.lg touchstart.lg",function(){t.outer.removeClass("lg-hide-items"),clearTimeout(t.hideBarTimeout),t.hideBarTimeout=setTimeout(function(){t.outer.addClass("lg-hide-items")},t.settings.hideBarsDelay)}),t.outer.trigger("mousemove.lg"))},this.settings.showBarsAfter)},l.prototype.initPictureFill=function(t){if(this.settings.supportLegacyBrowser)try{picturefill({elements:[t.get()]})}catch(t){console.warn("lightGallery :- If you want srcset or picture tag to be supported for older browser please include picturefil javascript library in your document.")}},l.prototype.counter=function(){if(this.settings.counter){var t='<div class="lg-counter" role="status" aria-live="polite">\n                <span id="'+this.getIdName("lg-counter-current")+'" class="lg-counter-current">'+(this.index+1)+' </span> /\n                <span id="'+this.getIdName("lg-counter-all")+'" class="lg-counter-all">'+this.galleryItems.length+" </span></div>";this.outer.find(this.settings.appendCounterTo).append(t)}},l.prototype.addHtml=function(t){var e,r;if(this.galleryItems[t].subHtmlUrl?r=this.galleryItems[t].subHtmlUrl:e=this.galleryItems[t].subHtml,!r)if(e){var i=e.substring(0,1);"."!==i&&"#"!==i||(e=this.settings.subHtmlSelectorRelative&&!this.settings.dynamic?a(this.items).eq(t).find(e).first().html():a(e).first().html())}else e="";if(".lg-item"!==this.settings.appendSubHtmlTo)r?u(r,this.outer.find(".lg-sub-html"),"replace"):this.outer.find(".lg-sub-html").html(e);else{var n=a(this.getSlideItemId(t));r?u(r,n,"append"):n.append('<div class="lg-sub-html">'+e+"</div>")}null!=e&&(""===e?this.outer.find(this.settings.appendSubHtmlTo).addClass("lg-empty-html"):this.outer.find(this.settings.appendSubHtmlTo).removeClass("lg-empty-html")),this.LGel.trigger("lgAfterAppendSubHtml",{index:t})},l.prototype.preload=function(t){for(var e=1;e<=this.settings.preload&&!(e>=this.galleryItems.length-t);e++)this.loadContent(t+e,!1);for(var r=1;r<=this.settings.preload&&!(t-r<0);r++)this.loadContent(t-r,!1)},l.prototype.getDummyImgStyles=function(t){return t?"width:"+t.width+"px;\n                margin-left: -"+t.width/2+"px;\n                margin-top: -"+t.height/2+"px;\n                height:"+t.height+"px":""},l.prototype.getVideoContStyle=function(t){return t?"width:"+t.width+"px;\n                height:"+t.height+"px":""},l.prototype.getDummyImageContent=function(t,e,r){var i;if(this.settings.dynamic||(i=a(this.items).eq(e)),i){var n;if(!(n=this.settings.exThumbImage?i.attr(this.settings.exThumbImage):i.find("img").first().attr("src")))return"";var o=this.getDummyImgStyles(this.currentImageSize),s=document.createElement("img");return s.alt=r||"",s.src=n,s.className="lg-dummy-img",s.style.cssText=o,t.addClass("lg-first-slide"),this.outer.addClass("lg-first-slide-loading"),s}return""},l.prototype.setImgMarkup=function(t,e,r){var i,n=this.galleryItems[r],o=n.alt,s=n.srcset,l=n.sizes,c=n.sources,u=o?'alt="'+o+'"':"";i=this.isFirstSlideWithZoomAnimation()?this.getDummyImageContent(e,r,u):p(r,t,u,s,l,c);var h=document.createElement("picture");h.className="lg-img-wrap",a(h).append(i),e.prepend(h)},l.prototype.onSlideObjectLoad=function(t,e,r,i){var n=t.find(".lg-object").first();(function(t){return!!t&&!!t.complete&&0!==t.naturalWidth})(n.get())||e?r():(n.on("load.lg error.lg",function(){r&&r()}),n.on("error.lg",function(){i&&i()}))},l.prototype.onLgObjectLoad=function(t,e,r,i,n,o){var s=this;this.onSlideObjectLoad(t,o,function(){s.triggerSlideItemLoad(t,e,r,i,n)},function(){t.addClass("lg-complete lg-complete_"),t.html('<span class="lg-error-msg">'+s.settings.strings.mediaLoadingFailed+"</span>")})},l.prototype.triggerSlideItemLoad=function(t,e,r,i,n){var o=this,s=this.galleryItems[e],a=n&&"video"===this.getSlideType(s)&&!s.poster?i:0;setTimeout(function(){t.addClass("lg-complete lg-complete_"),o.LGel.trigger("lgSlideItemLoad",{index:e,delay:r||0,isFirstSlide:n})},a)},l.prototype.isFirstSlideWithZoomAnimation=function(){return!(this.lGalleryOn||!this.zoomFromOrigin||!this.currentImageSize)},l.prototype.addSlideVideoInfo=function(t){var e=this;t.forEach(function(t,r){t.__slideVideoInfo=function(t,e,r){if(!t)return e?{html5:!0}:void console.error("lightGallery :- data-src is not provided on slide item "+(r+1)+". Please make sure the selector property is properly configured. More info - https://www.lightgalleryjs.com/demos/html-markup/");var i=t.match(/\/\/(?:www\.)?youtu(?:\.be|be\.com|be-nocookie\.com)\/(?:watch\?v=|embed\/)?([a-z0-9\-\_\%]+)([\&|?][\S]*)*/i),n=t.match(/\/\/(?:www\.)?(?:player\.)?vimeo.com\/(?:video\/)?([0-9a-z\-_]+)(.*)?/i),o=t.match(/https?:\/\/(.+)?(wistia\.com|wi\.st)\/(medias|embed)\/([0-9a-z\-_]+)(.*)/);return i?{youtube:i}:n?{vimeo:n}:o?{wistia:o}:void 0}(t.src,!!t.video,r),t.__slideVideoInfo&&e.settings.loadYouTubePoster&&!t.poster&&t.__slideVideoInfo.youtube&&(t.poster="//img.youtube.com/vi/"+t.__slideVideoInfo.youtube[1]+"/maxresdefault.jpg")})},l.prototype.loadContent=function(t,e){var r=this,i=this.galleryItems[t],n=a(this.getSlideItemId(t)),o=i.poster,s=i.srcset,l=i.sizes,c=i.sources,u=i.src,d=i.video,g=d&&"string"==typeof d?JSON.parse(d):d;if(i.responsive){var f=i.responsive.split(",");u=function(t){for(var e=[],r=[],i="",n=0;n<t.length;n++){var o=t[n].split(" ");""===o[0]&&o.splice(0,1),r.push(o[0]),e.push(o[1])}for(var s=window.innerWidth,a=0;a<e.length;a++)if(parseInt(e[a],10)>s){i=r[a];break}return i}(f)||u}var m=i.__slideVideoInfo,y="",b=!!i.iframe,v=!this.lGalleryOn,_=0;if(v&&(_=this.zoomFromOrigin&&this.currentImageSize?this.settings.startAnimationDuration+10:this.settings.backdropDuration+10),!n.hasClass("lg-loaded")){if(m){var C=this.mediaContainerPosition,k=C.top,w=C.bottom,E=h(this.items[t],this.outer,k+w,m&&this.settings.videoMaxSize);y=this.getVideoContStyle(E)}if(b){var x=function(t,e,r,i,n,o){return'<div class="lg-media-cont lg-has-iframe" style="width:'+t+"; max-width:"+r+"; height: "+e+"; max-height:"+i+'">\n                    <iframe class="lg-object" frameborder="0" '+(o?'title="'+o+'"':"")+' src="'+n+'"  allowfullscreen="true"></iframe>\n                </div>'}(this.settings.iframeWidth,this.settings.iframeHeight,this.settings.iframeMaxWidth,this.settings.iframeMaxHeight,u,i.iframeTitle);n.prepend(x)}else if(o){var S="";v&&this.zoomFromOrigin&&this.currentImageSize&&(S=this.getDummyImageContent(n,t,"")),x=function(t,e,r,i,n){var o;o=n&&n.youtube?"lg-has-youtube":n&&n.vimeo?"lg-has-vimeo":"lg-has-html5";var s=e;return"string"!=typeof e&&(s=e.outerHTML),'<div class="lg-video-cont '+o+'" style="'+r+'">\n                <div class="lg-video-play-button">\n                <svg\n                    viewBox="0 0 20 20"\n                    preserveAspectRatio="xMidYMid"\n                    focusable="false"\n                    aria-labelledby="'+i+'"\n                    role="img"\n                    class="lg-video-play-icon"\n                >\n                    <title>'+i+'</title>\n                    <polygon class="lg-video-play-icon-inner" points="1,0 20,10 1,20"></polygon>\n                </svg>\n                <svg class="lg-video-play-icon-bg" viewBox="0 0 50 50" focusable="false">\n                    <circle cx="50%" cy="50%" r="20"></circle></svg>\n                <svg class="lg-video-play-icon-circle" viewBox="0 0 50 50" focusable="false">\n                    <circle cx="50%" cy="50%" r="20"></circle>\n                </svg>\n            </div>\n            '+s+'\n            <img class="lg-object lg-video-poster" src="'+t+'" />\n        </div>'}(o,S||"",y,this.settings.strings.playVideo,m),n.prepend(x)}else if(m)x='<div class="lg-video-cont " style="'+y+'"></div>',n.prepend(x);else if(this.setImgMarkup(u,n,t),s||c){var A=n.find(".lg-object");this.initPictureFill(A)}(o||m)&&this.LGel.trigger("lgHasVideo",{index:t,src:u,html5Video:g,hasPoster:!!o}),this.LGel.trigger("lgAfterAppendSlide",{index:t}),this.lGalleryOn&&".lg-item"===this.settings.appendSubHtmlTo&&this.addHtml(t)}var D=0;_&&!a(document.body).hasClass("lg-from-hash")&&(D=_),this.isFirstSlideWithZoomAnimation()&&(setTimeout(function(){n.removeClass("lg-start-end-progress lg-start-progress").removeAttr("style")},this.settings.startAnimationDuration+100),n.hasClass("lg-loaded")||setTimeout(function(){if("image"===r.getSlideType(i)){var e=i.alt,a=e?'alt="'+e+'"':"";if(n.find(".lg-img-wrap").append(p(t,u,a,s,l,i.sources)),s||c){var h=n.find(".lg-object");r.initPictureFill(h)}}("image"===r.getSlideType(i)||"video"===r.getSlideType(i)&&o)&&(r.onLgObjectLoad(n,t,_,D,!0,!1),r.onSlideObjectLoad(n,!(!m||!m.html5||o),function(){r.loadContentOnFirstSlideLoad(t,n,D)},function(){r.loadContentOnFirstSlideLoad(t,n,D)}))},this.settings.startAnimationDuration+100)),n.addClass("lg-loaded"),this.isFirstSlideWithZoomAnimation()&&("video"!==this.getSlideType(i)||o)||this.onLgObjectLoad(n,t,_,D,v,!(!m||!m.html5||o)),this.zoomFromOrigin&&this.currentImageSize||!n.hasClass("lg-complete_")||this.lGalleryOn||setTimeout(function(){n.addClass("lg-complete")},this.settings.backdropDuration),this.lGalleryOn=!0,!0===e&&(n.hasClass("lg-complete_")?this.preload(t):n.find(".lg-object").first().on("load.lg error.lg",function(){r.preload(t)}))},l.prototype.loadContentOnFirstSlideLoad=function(t,e,r){var i=this;setTimeout(function(){e.find(".lg-dummy-img").remove(),e.removeClass("lg-first-slide"),i.outer.removeClass("lg-first-slide-loading"),i.isDummyImageRemoved=!0,i.preload(t)},r+300)},l.prototype.getItemsToBeInsertedToDom=function(t,e,r){var i=this;void 0===r&&(r=0);var n=[],o=Math.max(r,3);o=Math.min(o,this.galleryItems.length);var s="lg-item-"+this.lgId+"-"+e;if(this.galleryItems.length<=3)return this.galleryItems.forEach(function(t,e){n.push("lg-item-"+i.lgId+"-"+e)}),n;if(t<(this.galleryItems.length-1)/2){for(var a=t;a>t-o/2&&a>=0;a--)n.push("lg-item-"+this.lgId+"-"+a);var l=n.length;for(a=0;a<o-l;a++)n.push("lg-item-"+this.lgId+"-"+(t+a+1))}else{for(a=t;a<=this.galleryItems.length-1&&a<t+o/2;a++)n.push("lg-item-"+this.lgId+"-"+a);for(l=n.length,a=0;a<o-l;a++)n.push("lg-item-"+this.lgId+"-"+(t-a-1))}return this.settings.loop&&(t===this.galleryItems.length-1?n.push("lg-item-"+this.lgId+"-0"):0===t&&n.push("lg-item-"+this.lgId+"-"+(this.galleryItems.length-1))),-1===n.indexOf(s)&&n.push("lg-item-"+this.lgId+"-"+e),n},l.prototype.organizeSlideItems=function(t,e){var r=this,i=this.getItemsToBeInsertedToDom(t,e,this.settings.numberOfSlideItemsInDom);return i.forEach(function(t){-1===r.currentItemsInDom.indexOf(t)&&r.$inner.append('<div id="'+t+'" class="lg-item"></div>')}),this.currentItemsInDom.forEach(function(t){-1===i.indexOf(t)&&a("#"+t).remove()}),i},l.prototype.getPreviousSlideIndex=function(){var t=0;try{var e=this.outer.find(".lg-current").first().attr("id");t=parseInt(e.split("-")[3])||0}catch(e){t=0}return t},l.prototype.setDownloadValue=function(t){if(this.settings.download){var e=this.galleryItems[t];if(!1===e.downloadUrl||"false"===e.downloadUrl)this.outer.addClass("lg-hide-download");else{var r=this.getElementById("lg-download");this.outer.removeClass("lg-hide-download"),r.attr("href",e.downloadUrl||e.src),e.download&&r.attr("download",e.download)}}},l.prototype.makeSlideAnimation=function(t,e,r){var i=this;this.lGalleryOn&&r.addClass("lg-slide-progress"),setTimeout(function(){i.outer.addClass("lg-no-trans"),i.outer.find(".lg-item").removeClass("lg-prev-slide lg-next-slide"),"prev"===t?(e.addClass("lg-prev-slide"),r.addClass("lg-next-slide")):(e.addClass("lg-next-slide"),r.addClass("lg-prev-slide")),setTimeout(function(){i.outer.find(".lg-item").removeClass("lg-current"),e.addClass("lg-current"),i.outer.removeClass("lg-no-trans")},50)},this.lGalleryOn?this.settings.slideDelay:0)},l.prototype.slide=function(t,e,r,i){var n=this,o=this.getPreviousSlideIndex();if(this.currentItemsInDom=this.organizeSlideItems(t,o),!this.lGalleryOn||o!==t){var s=this.galleryItems.length;if(!this.lgBusy){this.settings.counter&&this.updateCurrentCounter(t);var a=this.getSlideItem(t),l=this.getSlideItem(o),c=this.galleryItems[t],u=c.__slideVideoInfo;if(this.outer.attr("data-lg-slide-type",this.getSlideType(c)),this.setDownloadValue(t),u){var d=this.mediaContainerPosition,p=d.top,g=d.bottom,f=h(this.items[t],this.outer,p+g,u&&this.settings.videoMaxSize);this.resizeVideoSlide(t,f)}if(this.LGel.trigger("lgBeforeSlide",{prevIndex:o,index:t,fromTouch:!!e,fromThumb:!!r}),this.lgBusy=!0,clearTimeout(this.hideBarTimeout),this.arrowDisable(t),i||(t<o?i="prev":t>o&&(i="next")),e){this.outer.find(".lg-item").removeClass("lg-prev-slide lg-current lg-next-slide");var m=void 0,y=void 0;s>2?(m=t-1,y=t+1,(0===t&&o===s-1||t===s-1&&0===o)&&(y=0,m=s-1)):(m=0,y=1),"prev"===i?this.getSlideItem(y).addClass("lg-next-slide"):this.getSlideItem(m).addClass("lg-prev-slide"),a.addClass("lg-current")}else this.makeSlideAnimation(i,a,l);this.lGalleryOn?setTimeout(function(){n.loadContent(t,!0),".lg-item"!==n.settings.appendSubHtmlTo&&n.addHtml(t)},this.settings.speed+50+(e?0:this.settings.slideDelay)):this.loadContent(t,!0),setTimeout(function(){n.lgBusy=!1,l.removeClass("lg-slide-progress"),n.LGel.trigger("lgAfterSlide",{prevIndex:o,index:t,fromTouch:e,fromThumb:r})},(this.lGalleryOn?this.settings.speed+100:100)+(e?0:this.settings.slideDelay))}this.index=t}},l.prototype.updateCurrentCounter=function(t){this.getElementById("lg-counter-current").html(t+1+"")},l.prototype.updateCounterTotal=function(){this.getElementById("lg-counter-all").html(this.galleryItems.length+"")},l.prototype.getSlideType=function(t){return t.__slideVideoInfo?"video":t.iframe?"iframe":"image"},l.prototype.touchMove=function(t,e,r){var i=e.pageX-t.pageX,n=e.pageY-t.pageY,o=!1;if(this.swipeDirection?o=!0:Math.abs(i)>15?(this.swipeDirection="horizontal",o=!0):Math.abs(n)>15&&(this.swipeDirection="vertical",o=!0),o){var s=this.getSlideItem(this.index);if("horizontal"===this.swipeDirection){null==r||r.preventDefault(),this.outer.addClass("lg-dragging"),this.setTranslate(s,i,0);var a=s.get().offsetWidth,l=15*a/100-Math.abs(10*i/100);this.setTranslate(this.outer.find(".lg-prev-slide").first(),-a+i-l,0),this.setTranslate(this.outer.find(".lg-next-slide").first(),a+i+l,0)}else if("vertical"===this.swipeDirection&&this.settings.swipeToClose){null==r||r.preventDefault(),this.$container.addClass("lg-dragging-vertical");var c=1-Math.abs(n)/window.innerHeight;this.$backdrop.css("opacity",c);var u=1-Math.abs(n)/(2*window.innerWidth);this.setTranslate(s,0,n,u,u),Math.abs(n)>100&&this.outer.addClass("lg-hide-items").removeClass("lg-components-open")}}},l.prototype.touchEnd=function(t,e,i){var n,o=this;"lg-slide"!==this.settings.mode&&this.outer.addClass("lg-slide"),setTimeout(function(){o.$container.removeClass("lg-dragging-vertical"),o.outer.removeClass("lg-dragging lg-hide-items").addClass("lg-components-open");var s=!0;if("horizontal"===o.swipeDirection){n=t.pageX-e.pageX;var l=Math.abs(t.pageX-e.pageX);n<0&&l>o.settings.swipeThreshold?(o.goToNextSlide(!0),s=!1):n>0&&l>o.settings.swipeThreshold&&(o.goToPrevSlide(!0),s=!1)}else if("vertical"===o.swipeDirection){if(n=Math.abs(t.pageY-e.pageY),o.settings.closable&&o.settings.swipeToClose&&n>100)return void o.closeGallery();o.$backdrop.css("opacity",1)}if(o.outer.find(".lg-item").removeAttr("style"),s&&Math.abs(t.pageX-e.pageX)<5){var c=a(i.target);o.isPosterElement(c)&&o.LGel.trigger(r)}o.swipeDirection=void 0}),setTimeout(function(){o.outer.hasClass("lg-dragging")||"lg-slide"===o.settings.mode||o.outer.removeClass("lg-slide")},this.settings.speed+100)},l.prototype.enableSwipe=function(){var t=this,e={},i={},n=!1,o=!1;this.settings.enableSwipe&&(this.$inner.on("touchstart.lg",function(r){t.dragOrSwipeEnabled=!0;var i=t.getSlideItem(t.index);!a(r.target).hasClass("lg-item")&&!i.get().contains(r.target)||t.outer.hasClass("lg-zoomed")||t.lgBusy||1!==r.touches.length||(o=!0,t.touchAction="swipe",t.manageSwipeClass(),e={pageX:r.touches[0].pageX,pageY:r.touches[0].pageY})}),this.$inner.on("touchmove.lg",function(r){o&&"swipe"===t.touchAction&&1===r.touches.length&&(i={pageX:r.touches[0].pageX,pageY:r.touches[0].pageY},t.touchMove(e,i,r),n=!0)}),this.$inner.on("touchend.lg",function(s){if("swipe"===t.touchAction){if(n)n=!1,t.touchEnd(i,e,s);else if(o){var l=a(s.target);t.isPosterElement(l)&&t.LGel.trigger(r)}t.touchAction=void 0,o=!1}}))},l.prototype.enableDrag=function(){var t=this,e={},i={},n=!1,o=!1;this.settings.enableDrag&&(this.outer.on("mousedown.lg",function(r){t.dragOrSwipeEnabled=!0;var i=t.getSlideItem(t.index);(a(r.target).hasClass("lg-item")||i.get().contains(r.target))&&(t.outer.hasClass("lg-zoomed")||t.lgBusy||(r.preventDefault(),t.lgBusy||(t.manageSwipeClass(),e={pageX:r.pageX,pageY:r.pageY},n=!0,t.outer.get().scrollLeft+=1,t.outer.get().scrollLeft-=1,t.outer.removeClass("lg-grab").addClass("lg-grabbing"),t.LGel.trigger("lgDragStart"))))}),a(window).on("mousemove.lg.global"+this.lgId,function(r){n&&t.lgOpened&&(o=!0,i={pageX:r.pageX,pageY:r.pageY},t.touchMove(e,i),t.LGel.trigger("lgDragMove"))}),a(window).on("mouseup.lg.global"+this.lgId,function(s){if(t.lgOpened){var l=a(s.target);o?(o=!1,t.touchEnd(i,e,s),t.LGel.trigger("lgDragEnd")):t.isPosterElement(l)&&t.LGel.trigger(r),n&&(n=!1,t.outer.removeClass("lg-grabbing").addClass("lg-grab"))}}))},l.prototype.triggerPosterClick=function(){var t=this;this.$inner.on("click.lg",function(e){!t.dragOrSwipeEnabled&&t.isPosterElement(a(e.target))&&t.LGel.trigger(r)})},l.prototype.manageSwipeClass=function(){var t=this.index+1,e=this.index-1;this.settings.loop&&this.galleryItems.length>2&&(0===this.index?e=this.galleryItems.length-1:this.index===this.galleryItems.length-1&&(t=0)),this.outer.find(".lg-item").removeClass("lg-next-slide lg-prev-slide"),e>-1&&this.getSlideItem(e).addClass("lg-prev-slide"),this.getSlideItem(t).addClass("lg-next-slide")},l.prototype.goToNextSlide=function(t){var e=this,r=this.settings.loop;t&&this.galleryItems.length<3&&(r=!1),this.lgBusy||(this.index+1<this.galleryItems.length?(this.index++,this.LGel.trigger(i,{index:this.index}),this.slide(this.index,!!t,!1,"next")):r?(this.index=0,this.LGel.trigger(i,{index:this.index}),this.slide(this.index,!!t,!1,"next")):this.settings.slideEndAnimation&&!t&&(this.outer.addClass("lg-right-end"),setTimeout(function(){e.outer.removeClass("lg-right-end")},400)))},l.prototype.goToPrevSlide=function(t){var e=this,r=this.settings.loop;t&&this.galleryItems.length<3&&(r=!1),this.lgBusy||(this.index>0?(this.index--,this.LGel.trigger(n,{index:this.index,fromTouch:t}),this.slide(this.index,!!t,!1,"prev")):r?(this.index=this.galleryItems.length-1,this.LGel.trigger(n,{index:this.index,fromTouch:t}),this.slide(this.index,!!t,!1,"prev")):this.settings.slideEndAnimation&&!t&&(this.outer.addClass("lg-left-end"),setTimeout(function(){e.outer.removeClass("lg-left-end")},400)))},l.prototype.keyPress=function(){var t=this;a(window).on("keydown.lg.global"+this.lgId,function(e){t.lgOpened&&!0===t.settings.escKey&&27===e.keyCode&&(e.preventDefault(),t.settings.allowMediaOverlap&&t.outer.hasClass("lg-can-toggle")&&t.outer.hasClass("lg-components-open")?t.outer.removeClass("lg-components-open"):t.closeGallery()),t.lgOpened&&t.galleryItems.length>1&&(37===e.keyCode&&(e.preventDefault(),t.goToPrevSlide()),39===e.keyCode&&(e.preventDefault(),t.goToNextSlide()))})},l.prototype.arrow=function(){var t=this;this.getElementById("lg-prev").on("click.lg",function(){t.goToPrevSlide()}),this.getElementById("lg-next").on("click.lg",function(){t.goToNextSlide()})},l.prototype.arrowDisable=function(t){if(!this.settings.loop&&this.settings.hideControlOnEnd){var e=this.getElementById("lg-prev"),r=this.getElementById("lg-next");t+1===this.galleryItems.length?r.attr("disabled","disabled").addClass("disabled"):r.removeAttr("disabled").removeClass("disabled"),0===t?e.attr("disabled","disabled").addClass("disabled"):e.removeAttr("disabled").removeClass("disabled")}},l.prototype.setTranslate=function(t,e,r,i,n){void 0===i&&(i=1),void 0===n&&(n=1),t.css("transform","translate3d("+e+"px, "+r+"px, 0px) scale3d("+i+", "+n+", 1)")},l.prototype.mousewheel=function(){var t=this,e=0;this.outer.on("wheel.lg",function(r){if(r.deltaY&&!(t.galleryItems.length<2)){r.preventDefault();var i=(new Date).getTime();i-e<1e3||(e=i,r.deltaY>0?t.goToNextSlide():r.deltaY<0&&t.goToPrevSlide())}})},l.prototype.isSlideElement=function(t){return t.hasClass("lg-outer")||t.hasClass("lg-item")||t.hasClass("lg-img-wrap")||t.hasClass("lg-img-rotate")},l.prototype.isPosterElement=function(t){var e=this.getSlideItem(this.index).find(".lg-video-play-button").get();return t.hasClass("lg-video-poster")||t.hasClass("lg-video-play-button")||e&&e.contains(t.get())},l.prototype.toggleMaximize=function(){var t=this;this.getElementById("lg-maximize").on("click.lg",function(){t.$container.toggleClass("lg-inline"),t.refreshOnResize()})},l.prototype.invalidateItems=function(){for(var t=0;t<this.items.length;t++){var e=a(this.items[t]);e.off("click.lgcustom-item-"+e.attr("data-lg-id"))}},l.prototype.trapFocus=function(){var t=this;this.$container.get().focus({preventScroll:!0}),a(window).on("keydown.lg.global"+this.lgId,function(e){if(t.lgOpened&&("Tab"===e.key||9===e.keyCode)){var r=function(t){var e=t.querySelectorAll('a[href]:not([disabled]), button:not([disabled]), textarea:not([disabled]), input[type="text"]:not([disabled]), input[type="radio"]:not([disabled]), input[type="checkbox"]:not([disabled]), select:not([disabled])');return[].filter.call(e,function(t){var e=window.getComputedStyle(t);return"none"!==e.display&&"hidden"!==e.visibility})}(t.$container.get()),i=r[0],n=r[r.length-1];e.shiftKey?document.activeElement===i&&(n.focus(),e.preventDefault()):document.activeElement===n&&(i.focus(),e.preventDefault())}})},l.prototype.manageCloseGallery=function(){var t=this;if(this.settings.closable){var e=!1;this.getElementById("lg-close").on("click.lg",function(){t.closeGallery()}),this.settings.closeOnTap&&(this.outer.on("mousedown.lg",function(r){var i=a(r.target);e=!!t.isSlideElement(i)}),this.outer.on("mousemove.lg",function(){e=!1}),this.outer.on("mouseup.lg",function(r){var i=a(r.target);t.isSlideElement(i)&&e&&(t.outer.hasClass("lg-dragging")||t.closeGallery())}))}},l.prototype.closeGallery=function(t){var e=this;if(!this.lgOpened||!this.settings.closable&&!t)return 0;this.LGel.trigger("lgBeforeClose"),this.settings.resetScrollPosition&&!this.settings.hideScrollbar&&a(window).scrollTop(this.prevScrollTop);var r,i=this.items[this.index];if(this.zoomFromOrigin&&i){var n=this.mediaContainerPosition,o=n.top,s=n.bottom,l=this.galleryItems[this.index],c=l.__slideVideoInfo,u=l.poster,p=h(i,this.outer,o+s,c&&u&&this.settings.videoMaxSize);r=d(i,this.outer,o,s,p)}this.zoomFromOrigin&&r?(this.outer.addClass("lg-closing lg-zoom-from-image"),this.getSlideItem(this.index).addClass("lg-start-end-progress").css("transition-duration",this.settings.startAnimationDuration+"ms").css("transform",r)):(this.outer.addClass("lg-hide-items"),this.outer.removeClass("lg-zoom-from-image")),this.destroyModules(),this.lGalleryOn=!1,this.isDummyImageRemoved=!1,this.zoomFromOrigin=this.settings.zoomFromOrigin,clearTimeout(this.hideBarTimeout),this.hideBarTimeout=!1,a("html").removeClass("lg-on"),this.outer.removeClass("lg-visible lg-components-open"),this.$backdrop.removeClass("in").css("opacity",0);var g=this.zoomFromOrigin&&r?Math.max(this.settings.startAnimationDuration,this.settings.backdropDuration):this.settings.backdropDuration;return this.$container.removeClass("lg-show-in"),setTimeout(function(){e.zoomFromOrigin&&r&&e.outer.removeClass("lg-zoom-from-image"),e.$container.removeClass("lg-show"),e.resetScrollBar(),e.$backdrop.removeAttr("style").css("transition-duration",e.settings.backdropDuration+"ms"),e.outer.removeClass("lg-closing "+e.settings.startClass),e.getSlideItem(e.index).removeClass("lg-start-end-progress"),e.$inner.empty(),e.lgOpened&&e.LGel.trigger("lgAfterClose",{instance:e}),e.$container.get()&&e.$container.get().blur(),e.lgOpened=!1},g+100),g+100},l.prototype.initModules=function(){this.plugins.forEach(function(t){try{t.init()}catch(t){console.warn("lightGallery:- make sure lightGallery module is properly initiated")}})},l.prototype.destroyModules=function(t){this.plugins.forEach(function(e){try{t?e.destroy():e.closeGallery&&e.closeGallery()}catch(t){console.warn("lightGallery:- make sure lightGallery module is properly destroyed")}})},l.prototype.refresh=function(t){this.settings.dynamic||this.invalidateItems(),this.galleryItems=t||this.getItems(),this.updateControls(),this.openGalleryOnItemClick(),this.LGel.trigger(e)},l.prototype.updateControls=function(){this.addSlideVideoInfo(this.galleryItems),this.updateCounterTotal(),this.manageSingleSlideClassName()},l.prototype.destroyGallery=function(){this.destroyModules(!0),this.settings.dynamic||this.invalidateItems(),a(window).off(".lg.global"+this.lgId),this.LGel.off(".lg"),this.$container.remove()},l.prototype.destroy=function(){var t=this.closeGallery(!0);return t?setTimeout(this.destroyGallery.bind(this),t):this.destroyGallery(),t},l}();return function(t,e){return new m(t,e)}}()},563(t){t.exports=function(){"use strict";var t=function(){return(t=Object.assign||function(t){for(var e,r=1,i=arguments.length;r<i;r++)for(var n in e=arguments[r])Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t}).apply(this,arguments)},e={fullScreen:!0,fullscreenPluginStrings:{toggleFullscreen:"Toggle Fullscreen"}};return function(){function r(r,i){return this.core=r,this.$LG=i,this.settings=t(t({},e),this.core.settings),this}return r.prototype.init=function(){var t="";if(this.settings.fullScreen){if(!(document.fullscreenEnabled||document.webkitFullscreenEnabled||document.mozFullScreenEnabled||document.msFullscreenEnabled))return;t='<button type="button" aria-label="'+this.settings.fullscreenPluginStrings.toggleFullscreen+'" class="lg-fullscreen lg-icon"></button>',this.core.$toolbar.append(t),this.fullScreen()}},r.prototype.isFullScreen=function(){return document.fullscreenElement||document.mozFullScreenElement||document.webkitFullscreenElement||document.msFullscreenElement},r.prototype.requestFullscreen=function(){var t=document.documentElement;t.requestFullscreen?t.requestFullscreen():t.msRequestFullscreen?t.msRequestFullscreen():t.mozRequestFullScreen?t.mozRequestFullScreen():t.webkitRequestFullscreen&&t.webkitRequestFullscreen()},r.prototype.exitFullscreen=function(){document.exitFullscreen?document.exitFullscreen():document.msExitFullscreen?document.msExitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitExitFullscreen&&document.webkitExitFullscreen()},r.prototype.fullScreen=function(){var t=this;this.$LG(document).on("fullscreenchange.lg.global"+this.core.lgId+" \n            webkitfullscreenchange.lg.global"+this.core.lgId+" \n            mozfullscreenchange.lg.global"+this.core.lgId+" \n            MSFullscreenChange.lg.global"+this.core.lgId,function(){t.core.lgOpened&&t.core.outer.toggleClass("lg-fullscreen-on")}),this.core.outer.find(".lg-fullscreen").first().on("click.lg",function(){t.isFullScreen()?t.exitFullscreen():t.requestFullscreen()})},r.prototype.closeGallery=function(){this.isFullScreen()&&this.exitFullscreen()},r.prototype.destroy=function(){this.$LG(document).off("fullscreenchange.lg.global"+this.core.lgId+" \n            webkitfullscreenchange.lg.global"+this.core.lgId+" \n            mozfullscreenchange.lg.global"+this.core.lgId+" \n            MSFullscreenChange.lg.global"+this.core.lgId)},r}()}()},569(t){t.exports=function(){"use strict";var t=function(){return(t=Object.assign||function(t){for(var e,r=1,i=arguments.length;r<i;r++)for(var n in e=arguments[r])Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t}).apply(this,arguments)},e={scale:1,zoom:!0,infiniteZoom:!0,actualSize:!0,showZoomInOutIcons:!1,actualSizeIcons:{zoomIn:"lg-zoom-in",zoomOut:"lg-zoom-out"},enableZoomAfter:300,zoomPluginStrings:{zoomIn:"Zoom in",zoomOut:"Zoom out",viewActualSize:"View actual size"}};return function(){function r(r,i){return this.core=r,this.$LG=i,this.settings=t(t({},e),this.core.settings),this}return r.prototype.buildTemplates=function(){var t=this.settings.showZoomInOutIcons?'<button id="'+this.core.getIdName("lg-zoom-in")+'" type="button" aria-label="'+this.settings.zoomPluginStrings.zoomIn+'" class="lg-zoom-in lg-icon"></button><button id="'+this.core.getIdName("lg-zoom-out")+'" type="button" aria-label="'+this.settings.zoomPluginStrings.zoomOut+'" class="lg-zoom-out lg-icon"></button>':"";this.settings.actualSize&&(t+='<button id="'+this.core.getIdName("lg-actual-size")+'" type="button" aria-label="'+this.settings.zoomPluginStrings.viewActualSize+'" class="'+this.settings.actualSizeIcons.zoomIn+' lg-icon"></button>'),this.core.outer.addClass("lg-use-transition-for-zoom"),this.core.$toolbar.first().append(t)},r.prototype.enableZoom=function(t){var e=this,r=this.settings.enableZoomAfter+t.detail.delay;this.$LG("body").first().hasClass("lg-from-hash")&&t.detail.delay?r=0:this.$LG("body").first().removeClass("lg-from-hash"),this.zoomableTimeout=setTimeout(function(){e.isImageSlide(e.core.index)&&(e.core.getSlideItem(t.detail.index).addClass("lg-zoomable"),t.detail.index===e.core.index&&e.setZoomEssentials())},r+30)},r.prototype.enableZoomOnSlideItemLoad=function(){this.core.LGel.on("lgSlideItemLoad.zoom",this.enableZoom.bind(this))},r.prototype.getDragCords=function(t){return{x:t.pageX,y:t.pageY}},r.prototype.getSwipeCords=function(t){return{x:t.touches[0].pageX,y:t.touches[0].pageY}},r.prototype.getDragAllowedAxises=function(t,e){if(!this.containerRect)return{allowX:!1,allowY:!1};var r=this.core.getSlideItem(this.core.index).find(".lg-image").first().get(),i=0,n=0,o=r.getBoundingClientRect();t?(i=r.offsetHeight*t,n=r.offsetWidth*t):e?(i=o.height+e*o.height,n=o.width+e*o.width):(i=o.height,n=o.width);var s=i>this.containerRect.height;return{allowX:n>this.containerRect.width,allowY:s}},r.prototype.setZoomEssentials=function(){this.containerRect=this.core.$content.get().getBoundingClientRect()},r.prototype.zoomImage=function(t,e,r,i){if(!(Math.abs(e)<=0)){var n,o,s=this.containerRect.width/2+this.containerRect.left,a=this.containerRect.height/2+this.containerRect.top+this.scrollTop;1===t&&(this.positionChanged=!1);var l=this.getDragAllowedAxises(0,e),c=l.allowY,u=l.allowX;this.positionChanged&&(n=this.left/(this.scale-e),o=this.top/(this.scale-e),this.pageX=s-n,this.pageY=a-o,this.positionChanged=!1);var h,d,p=this.getPossibleSwipeDragCords(e),g=s-this.pageX,f=a-this.pageY;if(t-e>1){var m=(t-e)/Math.abs(e);h=(g=(e<0?-g:g)+this.left*(m+(e<0?-1:1)))/m,d=(f=(e<0?-f:f)+this.top*(m+(e<0?-1:1)))/m}else h=g*(m=(t-e)*e),d=f*m;r&&(u?this.isBeyondPossibleLeft(h,p.minX)?h=p.minX:this.isBeyondPossibleRight(h,p.maxX)&&(h=p.maxX):t>1&&(h<p.minX?h=p.minX:h>p.maxX&&(h=p.maxX)),c?this.isBeyondPossibleTop(d,p.minY)?d=p.minY:this.isBeyondPossibleBottom(d,p.maxY)&&(d=p.maxY):t>1&&(d<p.minY?d=p.minY:d>p.maxY&&(d=p.maxY))),this.setZoomStyles({x:h,y:d,scale:t}),this.left=h,this.top=d,i&&this.setZoomImageSize()}},r.prototype.resetImageTranslate=function(t){if(this.isImageSlide(t)){var e=this.core.getSlideItem(t).find(".lg-image").first();this.imageReset=!1,e.removeClass("reset-transition reset-transition-y reset-transition-x"),this.core.outer.removeClass("lg-actual-size"),e.css("width","auto").css("height","auto"),setTimeout(function(){e.removeClass("no-transition")},10)}},r.prototype.setZoomImageSize=function(){var t=this,e=this.core.getSlideItem(this.core.index).find(".lg-image").first();setTimeout(function(){var r=t.getCurrentImageActualSizeScale();t.scale>=r&&(e.addClass("no-transition"),t.imageReset=!0)},500),setTimeout(function(){var r=t.getCurrentImageActualSizeScale();if(t.scale>=r){var i=t.getDragAllowedAxises(t.scale);e.css("width",e.get().naturalWidth+"px").css("height",e.get().naturalHeight+"px"),t.core.outer.addClass("lg-actual-size"),i.allowX&&i.allowY?e.addClass("reset-transition"):i.allowX&&!i.allowY?e.addClass("reset-transition-x"):!i.allowX&&i.allowY&&e.addClass("reset-transition-y")}},550)},r.prototype.setZoomStyles=function(t){var e=this.core.getSlideItem(this.core.index).find(".lg-img-wrap").first(),r=this.core.getSlideItem(this.core.index).find(".lg-image").first(),i=this.core.outer.find(".lg-current .lg-dummy-img").first();this.scale=t.scale,r.css("transform","scale3d("+t.scale+", "+t.scale+", 1)"),i.css("transform","scale3d("+t.scale+", "+t.scale+", 1)");var n="translate3d("+t.x+"px, "+t.y+"px, 0)";e.css("transform",n)},r.prototype.setActualSize=function(t,e){var r=this;if(!this.zoomInProgress){this.zoomInProgress=!0;var i=this.core.galleryItems[this.core.index];this.resetImageTranslate(t),setTimeout(function(){if(i.src&&!r.core.outer.hasClass("lg-first-slide-loading")){var t=r.getCurrentImageActualSizeScale(),n=r.scale;r.core.outer.hasClass("lg-zoomed")?r.scale=1:r.scale=r.getScale(t),r.setPageCords(e),r.beginZoom(r.scale),r.zoomImage(r.scale,r.scale-n,!0,!0)}},50),setTimeout(function(){r.core.outer.removeClass("lg-grabbing").addClass("lg-grab")},60),setTimeout(function(){r.zoomInProgress=!1},610)}},r.prototype.getNaturalWidth=function(t){var e=this.core.getSlideItem(t).find(".lg-image").first(),r=this.core.galleryItems[t].width;return r?parseFloat(r):e.get().naturalWidth},r.prototype.getActualSizeScale=function(t,e){return t>=e?t/e||2:1},r.prototype.getCurrentImageActualSizeScale=function(){var t=this.core.getSlideItem(this.core.index).find(".lg-image").first().get().offsetWidth,e=this.getNaturalWidth(this.core.index)||t;return this.getActualSizeScale(e,t)},r.prototype.getPageCords=function(t){var e={};if(t)e.x=t.pageX||t.touches[0].pageX,e.y=t.pageY||t.touches[0].pageY;else{var r=this.core.$content.get().getBoundingClientRect();e.x=r.width/2+r.left,e.y=r.height/2+this.scrollTop+r.top}return e},r.prototype.setPageCords=function(t){var e=this.getPageCords(t);this.pageX=e.x,this.pageY=e.y},r.prototype.manageActualPixelClassNames=function(){this.core.getElementById("lg-actual-size").removeClass(this.settings.actualSizeIcons.zoomIn).addClass(this.settings.actualSizeIcons.zoomOut)},r.prototype.beginZoom=function(t){return this.core.outer.removeClass("lg-zoom-drag-transition lg-zoom-dragging"),t>1?(this.core.outer.addClass("lg-zoomed"),this.manageActualPixelClassNames()):this.resetZoom(),t>1},r.prototype.getScale=function(t){var e=this.getCurrentImageActualSizeScale();return t<1?t=1:t>e&&(t=e),t},r.prototype.init=function(){var t=this;if(this.settings.zoom){this.buildTemplates(),this.enableZoomOnSlideItemLoad();var e=null;this.core.outer.on("dblclick.lg",function(e){t.$LG(e.target).hasClass("lg-image")&&t.setActualSize(t.core.index,e)}),this.core.outer.on("touchstart.lg",function(r){var i=t.$LG(r.target);1===r.touches.length&&i.hasClass("lg-image")&&(e?(clearTimeout(e),e=null,r.preventDefault(),t.setActualSize(t.core.index,r)):e=setTimeout(function(){e=null},300))}),this.core.LGel.on("lgContainerResize.zoom lgRotateRight.zoom lgRotateLeft.zoom lgFlipHorizontal.zoom lgFlipVertical.zoom",function(){if(t.core.lgOpened&&t.isImageSlide(t.core.index)&&!t.core.touchAction){var e=t.core.getSlideItem(t.core.index).find(".lg-img-wrap").first();t.top=0,t.left=0,t.setZoomEssentials(),t.setZoomSwipeStyles(e,{x:0,y:0}),t.positionChanged=!0}}),this.$LG(window).on("scroll.lg.zoom.global"+this.core.lgId,function(){t.core.lgOpened&&(t.scrollTop=t.$LG(window).scrollTop())}),this.core.getElementById("lg-zoom-out").on("click.lg",function(){if(t.isImageSlide(t.core.index)){var e=0;t.imageReset&&(t.resetImageTranslate(t.core.index),e=50),setTimeout(function(){var e=t.scale-t.settings.scale;e<1&&(e=1),t.beginZoom(e),t.zoomImage(e,-t.settings.scale,!0,!t.settings.infiniteZoom)},e)}}),this.core.getElementById("lg-zoom-in").on("click.lg",function(){t.zoomIn()}),this.core.getElementById("lg-actual-size").on("click.lg",function(){t.setActualSize(t.core.index)}),this.core.LGel.on("lgBeforeOpen.zoom",function(){t.core.outer.find(".lg-item").removeClass("lg-zoomable")}),this.core.LGel.on("lgAfterOpen.zoom",function(){t.scrollTop=t.$LG(window).scrollTop(),t.pageX=t.core.outer.width()/2,t.pageY=t.core.outer.height()/2+t.scrollTop,t.scale=1}),this.core.LGel.on("lgAfterSlide.zoom",function(e){var r=e.detail.prevIndex;t.scale=1,t.positionChanged=!1,t.zoomInProgress=!1,t.resetZoom(r),t.resetImageTranslate(r),t.isImageSlide(t.core.index)&&t.setZoomEssentials()}),this.zoomDrag(),this.pinchZoom(),this.zoomSwipe(),this.zoomableTimeout=!1,this.positionChanged=!1,this.zoomInProgress=!1}},r.prototype.zoomIn=function(){if(this.isImageSlide(this.core.index)){var t=this.scale+this.settings.scale;this.settings.infiniteZoom||(t=this.getScale(t)),this.beginZoom(t),this.zoomImage(t,Math.min(this.settings.scale,t-this.scale),!0,!this.settings.infiniteZoom)}},r.prototype.resetZoom=function(t){this.core.outer.removeClass("lg-zoomed lg-zoom-drag-transition");var e=this.core.getElementById("lg-actual-size"),r=this.core.getSlideItem(void 0!==t?t:this.core.index);e.removeClass(this.settings.actualSizeIcons.zoomOut).addClass(this.settings.actualSizeIcons.zoomIn),r.find(".lg-img-wrap").first().removeAttr("style"),r.find(".lg-image").first().removeAttr("style"),this.scale=1,this.left=0,this.top=0,this.setPageCords()},r.prototype.getTouchDistance=function(t){return Math.sqrt((t.touches[0].pageX-t.touches[1].pageX)*(t.touches[0].pageX-t.touches[1].pageX)+(t.touches[0].pageY-t.touches[1].pageY)*(t.touches[0].pageY-t.touches[1].pageY))},r.prototype.pinchZoom=function(){var t=this,e=0,r=!1,i=1,n=0,o=this.core.getSlideItem(this.core.index);this.core.outer.on("touchstart.lg",function(r){if(o=t.core.getSlideItem(t.core.index),t.isImageSlide(t.core.index)&&2===r.touches.length){if(r.preventDefault(),t.core.outer.hasClass("lg-first-slide-loading"))return;i=t.scale||1,t.core.outer.removeClass("lg-zoom-drag-transition lg-zoom-dragging"),t.setPageCords(r),t.resetImageTranslate(t.core.index),t.core.touchAction="pinch",e=t.getTouchDistance(r)}}),this.core.$inner.on("touchmove.lg",function(s){if(2===s.touches.length&&"pinch"===t.core.touchAction&&(t.$LG(s.target).hasClass("lg-item")||o.get().contains(s.target))){s.preventDefault();var a=t.getTouchDistance(s),l=e-a;if(!r&&Math.abs(l)>5&&(r=!0),r){n=t.scale;var c=Math.max(1,i+.02*-l);t.scale=Math.round(100*(c+Number.EPSILON))/100;var u=t.scale-n;t.zoomImage(t.scale,Math.round(100*(u+Number.EPSILON))/100,!1,!1)}}}),this.core.$inner.on("touchend.lg",function(i){if("pinch"===t.core.touchAction&&(t.$LG(i.target).hasClass("lg-item")||o.get().contains(i.target))){if(r=!1,e=0,t.scale<=1)t.resetZoom();else{var n=t.getCurrentImageActualSizeScale();if(t.scale>=n){var s=n-t.scale;0===s&&(s=.01),t.zoomImage(n,s,!1,!0)}t.manageActualPixelClassNames(),t.core.outer.addClass("lg-zoomed")}t.core.touchAction=void 0}})},r.prototype.touchendZoom=function(t,e,r,i,n){var o=e.x-t.x,s=e.y-t.y,a=Math.abs(o)/n+1,l=Math.abs(s)/n+1;a>2&&(a+=1),l>2&&(l+=1),o*=a,s*=l;var c=this.core.getSlideItem(this.core.index).find(".lg-img-wrap").first(),u={};u.x=this.left+o,u.y=this.top+s;var h=this.getPossibleSwipeDragCords();(Math.abs(o)>15||Math.abs(s)>15)&&(i&&(this.isBeyondPossibleTop(u.y,h.minY)?u.y=h.minY:this.isBeyondPossibleBottom(u.y,h.maxY)&&(u.y=h.maxY)),r&&(this.isBeyondPossibleLeft(u.x,h.minX)?u.x=h.minX:this.isBeyondPossibleRight(u.x,h.maxX)&&(u.x=h.maxX)),i?this.top=u.y:u.y=this.top,r?this.left=u.x:u.x=this.left,this.setZoomSwipeStyles(c,u),this.positionChanged=!0)},r.prototype.getZoomSwipeCords=function(t,e,r,i,n){var o={};if(i){if(o.y=this.top+(e.y-t.y),this.isBeyondPossibleTop(o.y,n.minY)){var s=n.minY-o.y;o.y=n.minY-s/6}else if(this.isBeyondPossibleBottom(o.y,n.maxY)){var a=o.y-n.maxY;o.y=n.maxY+a/6}}else o.y=this.top;if(r){if(o.x=this.left+(e.x-t.x),this.isBeyondPossibleLeft(o.x,n.minX)){var l=n.minX-o.x;o.x=n.minX-l/6}else if(this.isBeyondPossibleRight(o.x,n.maxX)){var c=o.x-n.maxX;o.x=n.maxX+c/6}}else o.x=this.left;return o},r.prototype.isBeyondPossibleLeft=function(t,e){return t>=e},r.prototype.isBeyondPossibleRight=function(t,e){return t<=e},r.prototype.isBeyondPossibleTop=function(t,e){return t>=e},r.prototype.isBeyondPossibleBottom=function(t,e){return t<=e},r.prototype.isImageSlide=function(t){var e=this.core.galleryItems[t];return"image"===this.core.getSlideType(e)},r.prototype.getPossibleSwipeDragCords=function(t){var e=this.core.getSlideItem(this.core.index).find(".lg-image").first(),r=this.core.mediaContainerPosition.bottom,i=e.get().getBoundingClientRect(),n=i.height,o=i.width;return t&&(n+=t*n,o+=t*o),{minY:(n-this.containerRect.height)/2,maxY:(this.containerRect.height-n)/2+r,minX:(o-this.containerRect.width)/2,maxX:(this.containerRect.width-o)/2}},r.prototype.setZoomSwipeStyles=function(t,e){t.css("transform","translate3d("+e.x+"px, "+e.y+"px, 0)")},r.prototype.zoomSwipe=function(){var t,e,r=this,i={},n={},o=!1,s=!1,a=!1,l=new Date,c=(new Date,this.core.getSlideItem(this.core.index));this.core.$inner.on("touchstart.lg",function(n){if(r.isImageSlide(r.core.index)&&(c=r.core.getSlideItem(r.core.index),(r.$LG(n.target).hasClass("lg-item")||c.get().contains(n.target))&&1===n.touches.length&&r.core.outer.hasClass("lg-zoomed"))){n.preventDefault(),l=new Date,r.core.touchAction="zoomSwipe",e=r.core.getSlideItem(r.core.index).find(".lg-img-wrap").first();var o=r.getDragAllowedAxises(0);a=o.allowY,((s=o.allowX)||a)&&(i=r.getSwipeCords(n)),t=r.getPossibleSwipeDragCords(),r.core.outer.addClass("lg-zoom-dragging lg-zoom-drag-transition")}}),this.core.$inner.on("touchmove.lg",function(l){if(1===l.touches.length&&"zoomSwipe"===r.core.touchAction&&(r.$LG(l.target).hasClass("lg-item")||c.get().contains(l.target))){l.preventDefault(),r.core.touchAction="zoomSwipe",n=r.getSwipeCords(l);var u=r.getZoomSwipeCords(i,n,s,a,t);(Math.abs(n.x-i.x)>15||Math.abs(n.y-i.y)>15)&&(o=!0,r.setZoomSwipeStyles(e,u))}}),this.core.$inner.on("touchend.lg",function(t){if("zoomSwipe"===r.core.touchAction&&(r.$LG(t.target).hasClass("lg-item")||c.get().contains(t.target))){if(t.preventDefault(),r.core.touchAction=void 0,r.core.outer.removeClass("lg-zoom-dragging"),!o)return;o=!1;var e=(new Date).valueOf()-l.valueOf();r.touchendZoom(i,n,s,a,e)}})},r.prototype.zoomDrag=function(){var t,e,r,i,n=this,o={},s={},a=!1,l=!1,c=!1,u=!1;this.core.outer.on("mousedown.lg.zoom",function(e){if(n.isImageSlide(n.core.index)){var s=n.core.getSlideItem(n.core.index);if(n.$LG(e.target).hasClass("lg-item")||s.get().contains(e.target)){t=new Date,i=n.core.getSlideItem(n.core.index).find(".lg-img-wrap").first();var l=n.getDragAllowedAxises(0);u=l.allowY,c=l.allowX,n.core.outer.hasClass("lg-zoomed")&&n.$LG(e.target).hasClass("lg-object")&&(c||u)&&(e.preventDefault(),o=n.getDragCords(e),r=n.getPossibleSwipeDragCords(),a=!0,n.core.outer.removeClass("lg-grab").addClass("lg-grabbing lg-zoom-drag-transition lg-zoom-dragging"))}}}),this.$LG(window).on("mousemove.lg.zoom.global"+this.core.lgId,function(t){if(a){l=!0,s=n.getDragCords(t);var e=n.getZoomSwipeCords(o,s,c,u,r);n.setZoomSwipeStyles(i,e)}}),this.$LG(window).on("mouseup.lg.zoom.global"+this.core.lgId,function(r){if(a){if(e=new Date,a=!1,n.core.outer.removeClass("lg-zoom-dragging"),l&&(o.x!==s.x||o.y!==s.y)){s=n.getDragCords(r);var i=e.valueOf()-t.valueOf();n.touchendZoom(o,s,c,u,i)}l=!1}n.core.outer.removeClass("lg-grabbing").addClass("lg-grab")})},r.prototype.closeGallery=function(){this.resetZoom(),this.zoomInProgress=!1},r.prototype.destroy=function(){this.$LG(window).off(".lg.zoom.global"+this.core.lgId),this.core.LGel.off(".lg.zoom"),this.core.LGel.off(".zoom"),clearTimeout(this.zoomableTimeout),this.zoomableTimeout=!1},r}()}()},816(t){t.exports=function(){function t(t,e,r){return e.addEventListener?e.addEventListener(t,r,!1):e.attachEvent("on"+t,r)}function e(t,e,r){return e.removeEventListener?e.removeEventListener(t,r,!1):e.detachEvent("on"+t,r)}function r(t){return"[object Array]"===Object.prototype.toString.call(t)}function i(t,e){return window.getComputedStyle?window.getComputedStyle(e)[t]:e.currentStyle[t]}var n=function(){for(var t=3,e=document.createElement("b"),r=e.all||[];e.innerHTML="\x3c!--[if gt IE "+ ++t+"]><i><![endif]--\x3e",r[0];);return 4<t?t:document.documentMode}(),o=navigator.platform.toLowerCase().indexOf("mac")+1,s=function(i){if(!(this instanceof s))return new s(i);var n=this,a={rows_in_block:50,blocks_in_cluster:4,tag:null,show_no_data_row:!0,no_data_class:"clusterize-no-data",no_data_text:"No data",keep_parity:!0,callbacks:{}};n.options={};for(var l,c="rows_in_block blocks_in_cluster show_no_data_row no_data_class no_data_text keep_parity tag callbacks".split(" "),u=0;l=c[u];u++)n.options[l]=void 0!==i[l]&&null!=i[l]?i[l]:a[l];for(a=["scroll","content"],u=0;c=a[u];u++)if(n[c+"_elem"]=i[c+"Id"]?document.getElementById(i[c+"Id"]):i[c+"Elem"],!n[c+"_elem"])throw Error("Error! Could not find "+c+" element");n.content_elem.hasAttribute("tabindex")||n.content_elem.setAttribute("tabindex",0);var h=r(i.rows)?i.rows:n.fetchMarkup(),d={};i=n.scroll_elem.scrollTop,n.insertToDOM(h,d),n.scroll_elem.scrollTop=i;var p=!1,g=0,f=!1,m=function(){o&&(f||(n.content_elem.style.pointerEvents="none"),f=!0,clearTimeout(g),g=setTimeout(function(){n.content_elem.style.pointerEvents="auto",f=!1},50)),p!=(p=n.getClusterNum(h))&&n.insertToDOM(h,d),n.options.callbacks.scrollingProgress&&n.options.callbacks.scrollingProgress(n.getScrollProgress())},y=0,b=function(){clearTimeout(y),y=setTimeout(n.refresh,100)};t("scroll",n.scroll_elem,m),t("resize",window,b),n.destroy=function(t){e("scroll",n.scroll_elem,m),e("resize",window,b),n.html((t?n.generateEmptyRow():h).join(""))},n.refresh=function(t){(n.getRowsHeight(h)||t)&&n.update(h)},n.update=function(t){h=r(t)?t:[],t=n.scroll_elem.scrollTop,h.length*n.options.item_height<t&&(p=n.scroll_elem.scrollTop=0),n.insertToDOM(h,d),n.scroll_elem.scrollTop=t},n.clear=function(){n.update([])},n.getRowsAmount=function(){return h.length},n.getScrollProgress=function(){return this.options.scroll_top/(h.length*this.options.item_height)*100||0};var v=function(t,e){var i=r(e)?e:[];i.length&&(h="append"==t?h.concat(i):i.concat(h),n.insertToDOM(h,d))};n.append=function(t){v("append",t)},n.prepend=function(t){v("prepend",t)}};return s.prototype={constructor:s,fetchMarkup:function(){for(var t=[],e=this.getChildNodes(this.content_elem);e.length;)t.push(e.shift().outerHTML);return t},exploreEnvironment:function(t,e){var r=this.options;r.content_tag=this.content_elem.tagName.toLowerCase(),t.length&&(n&&9>=n&&!r.tag&&(r.tag=t[0].match(/<([^>\s/]*)/)[1].toLowerCase()),1>=this.content_elem.children.length&&(e.data=this.html(t[0]+t[0]+t[0])),r.tag||(r.tag=this.content_elem.children[0].tagName.toLowerCase()),this.getRowsHeight(t))},getRowsHeight:function(t){var e=this.options,r=e.item_height;if(e.cluster_height=0,t.length&&(t=this.content_elem.children).length){var n=t[Math.floor(t.length/2)];return e.item_height=n.offsetHeight,"tr"==e.tag&&"collapse"!=i("borderCollapse",this.content_elem)&&(e.item_height+=parseInt(i("borderSpacing",this.content_elem),10)||0),"tr"!=e.tag&&(t=parseInt(i("marginTop",n),10)||0,n=parseInt(i("marginBottom",n),10)||0,e.item_height+=Math.max(t,n)),e.block_height=e.item_height*e.rows_in_block,e.rows_in_cluster=e.blocks_in_cluster*e.rows_in_block,e.cluster_height=e.blocks_in_cluster*e.block_height,r!=e.item_height}},getClusterNum:function(t){var e=this.options;e.scroll_top=this.scroll_elem.scrollTop;var r=e.cluster_height-e.block_height;return Math.min(Math.floor(e.scroll_top/r),Math.floor(t.length*e.item_height/r))},generateEmptyRow:function(){var t=this.options;if(!t.tag||!t.show_no_data_row)return[];var e=document.createElement(t.tag),r=document.createTextNode(t.no_data_text);if(e.className=t.no_data_class,"tr"==t.tag){var i=document.createElement("td");i.colSpan=100,i.appendChild(r)}return e.appendChild(i||r),[e.outerHTML]},generate:function(t){var e=this.options,r=t.length;if(r<e.rows_in_block)return{top_offset:0,bottom_offset:0,rows_above:0,rows:r?t:this.generateEmptyRow()};var i=Math.max((e.rows_in_cluster-e.rows_in_block)*this.getClusterNum(t),0),n=i+e.rows_in_cluster,o=Math.max(i*e.item_height,0);e=Math.max((r-n)*e.item_height,0),r=[];var s=i;for(1>o&&s++;i<n;i++)t[i]&&r.push(t[i]);return{top_offset:o,bottom_offset:e,rows_above:s,rows:r}},renderExtraTag:function(t,e){var r=document.createElement(this.options.tag);return r.className=["clusterize-extra-row","clusterize-"+t].join(" "),e&&(r.style.height=e+"px"),r.outerHTML},insertToDOM:function(t,e){this.options.cluster_height||this.exploreEnvironment(t,e);var r=this.generate(t),i=r.rows.join(""),n=this.checkChanges("data",i,e),o=this.checkChanges("top",r.top_offset,e),s=this.checkChanges("bottom",r.bottom_offset,e),a=this.options.callbacks,l=[];n||o?(r.top_offset&&(this.options.keep_parity&&l.push(this.renderExtraTag("keep-parity")),l.push(this.renderExtraTag("top-space",r.top_offset))),l.push(i),r.bottom_offset&&l.push(this.renderExtraTag("bottom-space",r.bottom_offset)),a.clusterWillChange&&a.clusterWillChange(),this.html(l.join("")),"ol"==this.options.content_tag&&this.content_elem.setAttribute("start",r.rows_above),this.content_elem.style["counter-increment"]="clusterize-counter "+(r.rows_above-1),a.clusterChanged&&a.clusterChanged()):s&&(this.content_elem.lastChild.style.height=r.bottom_offset+"px")},html:function(t){var e=this.content_elem;if(n&&9>=n&&"tr"==this.options.tag){var r=document.createElement("div");for(r.innerHTML="<table><tbody>"+t+"</tbody></table>";t=e.lastChild;)e.removeChild(t);for(r=this.getChildNodes(r.firstChild.firstChild);r.length;)e.appendChild(r.shift())}else e.innerHTML=t},getChildNodes:function(t){for(var e=[],r=0,i=(t=t.children).length;r<i;r++)e.push(t[r]);return e},checkChanges:function(t,e,r){var i=e!=r[t];return r[t]=e,i}},s}()},879(t){var e;e=function(){"use strict";function t(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,i=Array(e);r<e;r++)i[r]=t[r];return i}function e(t,e,r){return(e=function(t){var e=function(t){if("object"!=typeof t||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var r=e.call(t,"string");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==typeof e?e:e+""}(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function r(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,i)}return r}function i(t){for(var i=1;i<arguments.length;i++){var n=null!=arguments[i]?arguments[i]:{};i%2?r(Object(n),!0).forEach(function(r){e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}function n(e){return function(e){if(Array.isArray(e))return t(e)}(e)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(e)||s(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(t){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o(t)}function s(e,r){if(e){if("string"==typeof e)return t(e,r);var i={}.toString.call(e).slice(8,-1);return"Object"===i&&e.constructor&&(i=e.constructor.name),"Map"===i||"Set"===i?Array.from(e):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?t(e,r):void 0}}var a=function(t){return"string"==typeof t?document.querySelector(t):t()},l=function(t,e){var r="string"==typeof t?document.createElement(t):t;for(var i in e){var n=e[i];if("inside"===i)n.append(r);else if("dest"===i)a(n[0]).insertAdjacentElement(n[1],r);else if("around"===i){var o=n;o.parentNode.insertBefore(r,o),r.append(o),null!=o.getAttribute("autofocus")&&o.focus()}else i in r?r[i]=n:r.setAttribute(i,n)}return r},c=function(t,e){return t=String(t).toLowerCase(),e?t.normalize("NFD").replace(/[\u0300-\u036f]/g,"").normalize("NFC"):t},u=function(t,e){return l("mark",i({innerHTML:t},"string"==typeof e&&{class:e})).outerHTML},h=function(t,e){e.input.dispatchEvent(new CustomEvent(t,{bubbles:!0,detail:e.feedback,cancelable:!0}))},d=function(t,e,r){var i=r||{},n=i.mode,o=i.diacritics,s=i.highlight,a=c(e,o);if(e=String(e),t=c(t,o),"loose"===n){var l=(t=t.replace(/ /g,"")).length,h=0,d=Array.from(e).map(function(e,r){return h<l&&a[r]===t[h]&&(e=s?u(e,s):e,h++),e}).join("");if(h===l)return d}else{var p=a.indexOf(t);if(~p)return t=e.substring(p,p+t.length),s?e.replace(t,u(t,s)):e}},p=function(t,e){return new Promise(function(r,i){var n;return(n=t.data).cache&&n.store?r():new Promise(function(t,r){return"function"==typeof n.src?new Promise(function(t,r){return"AsyncFunction"===n.src.constructor.name?n.src(e).then(t,r):t(n.src(e))}).then(t,r):t(n.src)}).then(function(e){try{return t.feedback=n.store=e,h("response",t),r()}catch(t){return i(t)}},i)})},g=function(t,e){var r=e.data,i=e.searchEngine,n=[];r.store.forEach(function(o,a){var l=function(r){var s=r?o[r]:o,a="function"==typeof i?i(t,s):d(t,s,{mode:i,diacritics:e.diacritics,highlight:e.resultItem.highlight});if(a){var l={match:a,value:o};r&&(l.key=r),n.push(l)}};if(r.keys){var c,u=function(t){var e="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!e){if(Array.isArray(t)||(e=s(t))){e&&(t=e);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var n,o=!0,a=!1;return{s:function(){e=e.call(t)},n:function(){var t=e.next();return o=t.done,t},e:function(t){a=!0,n=t},f:function(){try{o||null==e.return||e.return()}finally{if(a)throw n}}}}(r.keys);try{for(u.s();!(c=u.n()).done;)l(c.value)}catch(t){u.e(t)}finally{u.f()}}else l()}),r.filter&&(n=r.filter(n));var o=n.slice(0,e.resultsList.maxResults);e.feedback={query:t,matches:n,results:o},h("results",e)},f="aria-expanded",m="aria-activedescendant",y="aria-selected",b=function(t,e){t.feedback.selection=i({index:e},t.feedback.results[e])},v=function(t){t.isOpen||((t.wrapper||t.input).setAttribute(f,!0),t.list.removeAttribute("hidden"),t.isOpen=!0,h("open",t))},_=function(t){t.isOpen&&((t.wrapper||t.input).setAttribute(f,!1),t.input.setAttribute(m,""),t.list.setAttribute("hidden",""),t.isOpen=!1,h("close",t))},C=function(t,e){var r=e.resultItem,i=e.list.getElementsByTagName(r.tag),o=!!r.selected&&r.selected.split(" ");if(e.isOpen&&i.length){var s,a,l=e.cursor;t>=i.length&&(t=0),t<0&&(t=i.length-1),e.cursor=t,l>-1&&(i[l].removeAttribute(y),o&&(a=i[l].classList).remove.apply(a,n(o))),i[t].setAttribute(y,!0),o&&(s=i[t].classList).add.apply(s,n(o)),e.input.setAttribute(m,i[e.cursor].id),e.list.scrollTop=i[t].offsetTop-e.list.clientHeight+i[t].clientHeight+5,e.feedback.cursor=e.cursor,b(e,t),h("navigate",e)}},k=function(t){C(t.cursor+1,t)},w=function(t){C(t.cursor-1,t)},E=function(t,e,r){(r=r>=0?r:t.cursor)<0||(t.feedback.event=e,b(t,r),h("selection",t),_(t))};function x(t,e){var r=this;return new Promise(function(n,o){var s,a;return s=e||((a=t.input)instanceof HTMLInputElement||a instanceof HTMLTextAreaElement?a.value:a.innerHTML),function(t,e,r){return e?e(t):t.length>=r}(s=t.query?t.query(s):s,t.trigger,t.threshold)?p(t,s).then(function(e){try{return t.feedback instanceof Error?n():(g(s,t),t.resultsList&&function(t){var e=t.resultsList,r=t.list,n=t.resultItem,o=t.feedback,s=o.matches,a=o.results;if(t.cursor=-1,r.innerHTML="",s.length||e.noResults){var c=new DocumentFragment;a.forEach(function(t,e){var r=l(n.tag,i({id:"".concat(n.id,"_").concat(e),role:"option",innerHTML:t.match,inside:c},n.class&&{class:n.class}));n.element&&n.element(r,t)}),r.append(c),e.element&&e.element(r,o),v(t)}else _(t)}(t),c.call(r))}catch(t){return o(t)}},o):(_(t),c.call(r));function c(){return n()}})}var S=function(t,e){for(var r in t)for(var i in t[r])e(r,i)};function A(t){var e=this;return new Promise(function(r,n){var o,s,a;if(o=t.placeHolder,a={role:"combobox","aria-owns":(s=t.resultsList).id,"aria-haspopup":!0,"aria-expanded":!1},l(t.input,i(i({"aria-controls":s.id,"aria-autocomplete":"both"},o&&{placeholder:o}),!t.wrapper&&i({},a))),t.wrapper&&(t.wrapper=l("div",i({around:t.input,class:t.name+"_wrapper"},a))),s&&(t.list=l(s.tag,i({dest:[s.destination,s.position],id:s.id,role:"listbox",hidden:"hidden"},s.class&&{class:s.class}))),function(t){var e,r,n,o=t.events,s=(e=function(){return x(t)},r=t.debounce,function(){clearTimeout(n),n=setTimeout(function(){return e()},r)}),a=t.events=i({input:i({},o&&o.input)},t.resultsList&&{list:o?i({},o.list):{}}),l={input:{input:function(){s()},keydown:function(e){!function(t,e){switch(t.keyCode){case 40:case 38:t.preventDefault(),40===t.keyCode?k(e):w(e);break;case 13:e.submit||t.preventDefault(),e.cursor>=0&&E(e,t);break;case 9:e.resultsList.tabSelect&&e.cursor>=0&&E(e,t);break;case 27:e.input.value="",h("clear",e),_(e)}}(e,t)},blur:function(){_(t)}},list:{mousedown:function(t){t.preventDefault()},click:function(e){!function(t,e){var r=e.resultItem.tag.toUpperCase(),i=Array.from(e.list.querySelectorAll(r)),n=t.target.closest(r);n&&n.nodeName===r&&E(e,t,i.indexOf(n))}(e,t)}}};S(l,function(e,r){(t.resultsList||"input"===r)&&(a[e][r]||(a[e][r]=l[e][r]))}),S(a,function(e,r){t[e].addEventListener(r,a[e][r])})}(t),t.data.cache)return p(t).then(function(t){try{return c.call(e)}catch(t){return n(t)}},n);function c(){return h("init",t),r()}return c.call(e)})}function D(t){var e=t.prototype;e.init=function(){A(this)},e.start=function(t){x(this,t)},e.unInit=function(){if(this.wrapper){var t=this.wrapper.parentNode;t.insertBefore(this.input,this.wrapper),t.removeChild(this.wrapper)}var e;S((e=this).events,function(t,r){e[t].removeEventListener(r,e.events[t][r])})},e.open=function(){v(this)},e.close=function(){_(this)},e.goTo=function(t){C(t,this)},e.next=function(){k(this)},e.previous=function(){w(this)},e.select=function(t){E(this,null,t)},e.search=function(t,e,r){return d(t,e,r)}}return function t(e){this.options=e,this.id=t.instances=(t.instances||0)+1,this.name="autoComplete",this.wrapper=1,this.threshold=1,this.debounce=0,this.resultsList={position:"afterend",tag:"ul",maxResults:5},this.resultItem={tag:"li"},function(t){var e=t.name,r=t.options,i=t.resultsList,n=t.resultItem;for(var s in r)if("object"===o(r[s]))for(var l in t[s]||(t[s]={}),r[s])t[s][l]=r[s][l];else t[s]=r[s];t.selector=t.selector||"#"+e,i.destination=i.destination||t.selector,i.id=i.id||e+"_list_"+t.id,n.id=n.id||e+"_result",t.input=a(t.selector)}(this),D.call(this,t),A(this)}},t.exports=e()}},e={};function r(i){var n=e[i];if(void 0!==n)return n.exports;var o=e[i]={exports:{}};return t[i].call(o.exports,o,o.exports,r),o.exports}r.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return r.d(e,{a:e}),e},r.d=(t,e)=>{for(var i in e)r.o(e,i)&&!r.o(t,i)&&Object.defineProperty(t,i,{enumerable:!0,get:e[i]})},r.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),r.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},(()=>{"use strict";var t={};r.r(t),r.d(t,{decode:()=>ke,encode:()=>xe,format:()=>Se,parse:()=>Ne});var e={};r.r(e),r.d(e,{Any:()=>He,Cc:()=>$e,Cf:()=>je,P:()=>Re,S:()=>Ge,Z:()=>Ze});var i={};r.r(i),r.d(i,{arrayReplaceAt:()=>vr,assign:()=>br,escapeHtml:()=>Lr,escapeRE:()=>zr,fromCodePoint:()=>Cr,has:()=>yr,isMdAsciiPunct:()=>Br,isPunctChar:()=>Or,isSpace:()=>Mr,isString:()=>fr,isValidEntityCode:()=>_r,isWhiteSpace:()=>qr,lib:()=>Nr,normalizeReference:()=>Pr,unescapeAll:()=>Sr,unescapeMd:()=>xr});var n={};r.r(n),r.d(n,{parseLinkDestination:()=>Gr,parseLinkLabel:()=>Rr,parseLinkTitle:()=>Hr});var o=r(816),s=r.n(o);class a{constructor(t,e){this.wrapper=t,this.storage=e,this.filters={}}prefillFromStorage(t){const e=this.storage.get(t);e&&(Object.keys(e).forEach(t=>{if("object"==typeof e[t]&&null!==e[t]&&"from"in e[t]&&"to"in e[t])return;const r=e[t];this.wrapper.querySelectorAll(`input[data-dataTable-filter="${t}"]`).forEach(t=>{const e=t.value.toLowerCase();Array.isArray(r)?r.filter(t=>null!==t).map(t=>t.toLowerCase()).includes(e)&&(t.checked=!0):null!==r&&e===r.toLowerCase()&&(t.checked=!0)})}),Object.entries(e).filter(([t,e])=>"object"==typeof e&&null!==e&&"from"in e&&"to"in e).forEach(([t,e])=>{const r=this.wrapper.querySelector(`input[name="${t}[from]"]`),i=this.wrapper.querySelector(`input[name="${t}[to]"]`);r&&e.from&&(r.valueAsDate=new Date(e.from)),i&&e.to&&(i.valueAsDate=new Date(e.to))}),this.storage.clearAll())}getActiveFilters(){const t={};return this.wrapper.querySelectorAll("[data-dataTable-filter]:checked").forEach(e=>{const r=e.getAttribute("data-dataTable-filter"),i=e.value.toLowerCase();t[r]?Array.isArray(t[r])?t[r].push(i):t[r]=[t[r],i]:t[r]=i}),this.wrapper.querySelectorAll('[data-dataTable-filter*="[]"]').forEach(e=>{const r=e.getAttribute("data-dataTable-filter").replace("[]",""),i=e.querySelector(`input[name="${r}[from]"]`),n=e.querySelector(`input[name="${r}[to]"]`);if(i&&n&&i.valueAsDate&&n.valueAsDate){const e=new Date(i.valueAsNumber).setUTCHours(0,0,0),o=new Date(n.valueAsNumber).setUTCHours(23,59,59);t[r]={from:e,to:o}}}),t}updateDropdownState(t){this.wrapper.querySelectorAll(".filter-dropdown [data-dropdown-toggle]").forEach(t=>{t.classList.remove("active")}),Object.entries(t).forEach(([t,e])=>{if(e&&"object"==typeof e&&"from"in e&&"to"in e){const e=this.wrapper.querySelector(`[data-datatable-filter="${t}[]"]`)?.closest(".filter-dropdown"),r=e.querySelector("[data-dropdown-toggle]");return void(r&&r.classList.add("active"))}const r=this.wrapper.querySelector(`[data-dataTable-filter="${t}"]:checked`)?.closest(".filter-dropdown"),i=r.querySelector("[data-dropdown-toggle]");i&&i.classList.add("active")})}applyFiltersToRows(t,e=""){const r=this.getActiveFilters(),i=e.toLowerCase();return t.forEach(t=>{t.active=!t.searchables||t.searchables.toLowerCase().includes(i);for(const[e,i]of Object.entries(r)){const r=t.filterables[e];i&&"object"==typeof i&&"from"in i&&"to"in i?t.active=t.active&&r>=i.from&&r<=i.to:Array.isArray(i)?t.active=t.active&&i.includes(r?.toLowerCase()):t.active=t.active&&(Array.isArray(r)?r.map(t=>t.toLowerCase()).includes(i):r?.toLowerCase()===i)}}),t}resetAll(){this.wrapper.querySelectorAll('[data-dataTable-filter], [data-dataTable-filter*="[]"] input').forEach(t=>{"radio"===t.type||"checkbox"===t.type?t.checked=!1:t.value=""}),this.storage.clearAll()}resetOne(t){this.wrapper.querySelectorAll(`[data-dataTable-filter][name^="${t}"], [data-dataTable-filter*="[]"] [name^="${t}"]`).forEach(t=>{"radio"===t.type||"checkbox"===t.type?t.checked=!1:t.value=""})}}class l{static calculate(t){return t.filter(t=>t.active).reduce((t,e)=>(Object.entries(e.summables).forEach(([e,r])=>t[e]=(t[e]||0)+r),t),{})}static render(t,e){const r=this.calculate(e);t.querySelectorAll("[data-dataTable-summable]").forEach(t=>{const e=t.getAttribute("data-dataTable-summable");t.innerHTML=void 0!==r[e]?(t=>{t=(t+"").replace(/[^0-9+\-Ee.]/g,"");const e=isFinite(+t)?+t:0,r=isFinite(0)?Math.abs(0):0;let i="";return i=(r?function(t,e){if(-1===(""+t).indexOf("e"))return+(Math.round(t+"e+"+e)+"e-"+e);{const r=(""+t).split("e");let i="";return+r[1]+e>0&&(i="+"),(+(Math.round(+r[0]+"e"+i+(+r[1]+e))+"e-"+e)).toFixed(e)}}(e,r).toString():""+Math.round(e)).split("."),i[0].length>3&&(i[0]=i[0].replace(/\B(?=(?:\d{3})+(?!\d))/g," ")),(i[1]||"").length<r&&(i[1]=i[1]||"",i[1]+=new Array(r-i[1].length+1).join("0")),i.join(",")})(r[e]):0})}}class c{constructor(t){this.columns=t,this.sortAsc=!1,this.sortOnPrevious=null}attachListeners(t,e,r){this.columns.forEach(i=>i.addEventListener("click",()=>{const n=i.getAttribute("data-dataTable-sort");n===this.sortOnPrevious?this.sortAsc=!this.sortAsc:this.sortAsc=!0,this.sortOnPrevious=n,this.columns.forEach(t=>t.querySelector(".sorting-icon")?.setAttribute("aria-sort","none")),i.querySelector(".sorting-icon")?.setAttribute("aria-sort",this.sortAsc?"ascending":"descending"),t.sort((t,e)=>{const r=t.sort[n],i=e.sort[n];return void 0===r?1:void 0===i?-1:r<i?this.sortAsc?-1:1:r>i?this.sortAsc?1:-1:0}),e.update(t.filter(t=>t.active).map(t=>t.markup)),r.scrollTop=0}))}}class u{constructor(t,e,r){this.wrapper=t,this.tbody=e,this.scrollElem=r,this.cluster=null}init(t){this.cluster=new(s())({rows:t.filter(t=>t.active).map(t=>t.markup),scrollElem:this.scrollElem,contentElem:this.tbody,no_data_class:"clusterize-loading",callbacks:{clusterChanged:()=>{l.render(this.wrapper,t);const e=this.wrapper.querySelector("[data-dataTable-result-count]");e&&(e.innerText=t.filter(t=>t.active).length),document.dispatchEvent(new CustomEvent("dataTableClusterWasChanged",{bubbles:!0,cancelable:!1}))}}})}update(t){this.cluster&&(this.cluster.update(t.filter(t=>t.active).map(t=>t.markup)),this.scrollElem.scrollTop=0)}}class h{constructor(t="dataTableFilters"){this.storageKey=t}clearAll(){localStorage.removeItem(this.storageKey)}get(t){const e=localStorage.getItem(this.storageKey);return e&&JSON.parse(e)[t]||{}}set(t){localStorage.setItem(this.storageKey,JSON.stringify(t))}}const d=6371008.8,p={centimeters:637100880,centimetres:637100880,degrees:360/(2*Math.PI),feet:20902260.511392,inches:39.37*d,kilometers:6371.0088,kilometres:6371.0088,meters:d,metres:d,miles:3958.761333810546,millimeters:6371008800,millimetres:6371008800,nauticalmiles:d/1852,radians:1,yards:6967335.223679999},g=Object.defineProperty,f=Object.defineProperties,m=Object.getOwnPropertyDescriptors,y=Object.getOwnPropertySymbols,b=Object.prototype.hasOwnProperty,v=Object.prototype.propertyIsEnumerable,_=(t,e,r)=>e in t?g(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,C=(t,e)=>{for(var r in e||(e={}))b.call(e,r)&&_(t,r,e[r]);if(y)for(var r of y(e))v.call(e,r)&&_(t,r,e[r]);return t},k=(t,e)=>f(t,m(e));function w(t,e,r={}){var i=z(t),n=z(e),o=I(n[1]-i[1]),s=I(n[0]-i[0]),a=I(i[1]),l=I(n[1]),c=Math.pow(Math.sin(o/2),2)+Math.pow(Math.sin(s/2),2)*Math.cos(a)*Math.cos(l);return A(2*Math.atan2(Math.sqrt(c),Math.sqrt(1-c)),r.units)}function E(t,e,r={}){const i={type:"Feature"};return(0===r.id||r.id)&&(i.id=r.id),r.bbox&&(i.bbox=r.bbox),i.properties=e||{},i.geometry=t,i}function x(t,e,r={}){if(!t)throw new Error("coordinates is required");if(!Array.isArray(t))throw new Error("coordinates must be an Array");if(t.length<2)throw new Error("coordinates must be at least 2 numbers long");if(!T(t[0])||!T(t[1]))throw new Error("coordinates must contain numbers");return E({type:"Point",coordinates:t},e,r)}function S(t,e,r={}){if(t.length<2)throw new Error("coordinates must be an array of two or more positions");return E({type:"LineString",coordinates:t},e,r)}function A(t,e="kilometers"){const r=p[e];if(!r)throw new Error(e+" units is invalid");return t*r}function D(t){return t%(2*Math.PI)*180/Math.PI}function I(t){return t%360*Math.PI/180}function F(t,e="kilometers",r="kilometers"){if(!(t>=0))throw new Error("length must be a positive number");return A(function(t,e="kilometers"){const r=p[e];if(!r)throw new Error(e+" units is invalid");return t/r}(t,e),r)}function T(t){return!isNaN(t)&&null!==t&&!Array.isArray(t)}function z(t){if(!t)throw new Error("coord is required");if(!Array.isArray(t)){if("Feature"===t.type&&null!==t.geometry&&"Point"===t.geometry.type)return[...t.geometry.coordinates];if("Point"===t.type)return[...t.coordinates]}if(Array.isArray(t)&&t.length>=2&&!Array.isArray(t[0])&&!Array.isArray(t[1]))return[...t];throw new Error("coord must be GeoJSON Point or an Array of numbers")}function M(t,e,r){if(!t)throw new Error("No feature passed");if(!r)throw new Error(".featureOf() requires a name");if(!t||"Feature"!==t.type||!t.geometry)throw new Error("Invalid input to "+r+", Feature with geometry required");if(!t.geometry||t.geometry.type!==e)throw new Error("Invalid input to "+r+": must be a "+e+", given "+t.geometry.type)}function q(t,e,r){if(null!==t)for(var i,n,o,s,a,l,c,u,h=0,d=0,p=t.type,g="FeatureCollection"===p,f="Feature"===p,m=g?t.features.length:1,y=0;y<m;y++){a=(u=!!(c=g?t.features[y].geometry:f?t.geometry:t)&&"GeometryCollection"===c.type)?c.geometries.length:1;for(var b=0;b<a;b++){var v=0,_=0;if(null!==(s=u?c.geometries[b]:c)){l=s.coordinates;var C=s.type;switch(h=!r||"Polygon"!==C&&"MultiPolygon"!==C?0:1,C){case null:break;case"Point":if(!1===e(l,d,y,v,_))return!1;d++,v++;break;case"LineString":case"MultiPoint":for(i=0;i<l.length;i++){if(!1===e(l[i],d,y,v,_))return!1;d++,"MultiPoint"===C&&v++}"LineString"===C&&v++;break;case"Polygon":case"MultiLineString":for(i=0;i<l.length;i++){for(n=0;n<l[i].length-h;n++){if(!1===e(l[i][n],d,y,v,_))return!1;d++}"MultiLineString"===C&&v++,"Polygon"===C&&_++}"Polygon"===C&&v++;break;case"MultiPolygon":for(i=0;i<l.length;i++){for(_=0,n=0;n<l[i].length;n++){for(o=0;o<l[i][n].length-h;o++){if(!1===e(l[i][n][o],d,y,v,_))return!1;d++}_++}v++}break;case"GeometryCollection":for(i=0;i<s.geometries.length;i++)if(!1===q(s.geometries[i],e,r))return!1;break;default:throw new Error("Unknown Geometry Type")}}}}}function O(t,e){!function(t,e){var r,i,n,o,s,a,l,c,u,h,d=0,p="FeatureCollection"===t.type,g="Feature"===t.type,f=p?t.features.length:1;for(r=0;r<f;r++){for(a=p?t.features[r].geometry:g?t.geometry:t,c=p?t.features[r].properties:g?t.properties:{},u=p?t.features[r].bbox:g?t.bbox:void 0,h=p?t.features[r].id:g?t.id:void 0,s=(l=!!a&&"GeometryCollection"===a.type)?a.geometries.length:1,n=0;n<s;n++)if(null!==(o=l?a.geometries[n]:a))switch(o.type){case"Point":case"LineString":case"MultiPoint":case"Polygon":case"MultiLineString":case"MultiPolygon":if(!1===e(o,d,c,u,h))return!1;break;case"GeometryCollection":for(i=0;i<o.geometries.length;i++)if(!1===e(o.geometries[i],d,c,u,h))return!1;break;default:throw new Error("Unknown Geometry Type")}else if(!1===e(null,d,c,u,h))return!1;d++}}(t,function(t,r,i,n,o){var s,a=null===t?null:t.type;switch(a){case null:case"Point":case"LineString":case"Polygon":return!1!==e(E(t,i,{bbox:n,id:o}),r,0)&&void 0}switch(a){case"MultiPoint":s="Point";break;case"MultiLineString":s="LineString";break;case"MultiPolygon":s="Polygon"}for(var l=0;l<t.coordinates.length;l++){var c=t.coordinates[l];if(!1===e(E({type:s,coordinates:c},i),r,l))return!1}})}function B(t,e){O(t,function(t,r,i){var n=0;if(t.geometry){var o=t.geometry.type;if("Point"!==o&&"MultiPoint"!==o){var s,a=0,l=0,c=0;return!1!==q(t,function(o,u,h,d,p){if(void 0===s||r>a||d>l||p>c)return s=o,a=r,l=d,c=p,void(n=0);var g=S([s,o],t.properties);if(!1===e(g,r,i,p,n))return!1;n++,s=o})&&void 0}}})}function P(t,e,r={}){if(!t||!e)throw new Error("lines and pt are required arguments");const i=z(e);let n=x([1/0,1/0],{dist:1/0,index:-1,multiFeatureIndex:-1,location:-1}),o=0;return O(t,function(t,s,a){const l=function(t){if(Array.isArray(t))return t;if("Feature"===t.type){if(null!==t.geometry)return t.geometry.coordinates}else if(t.coordinates)return t.coordinates;throw new Error("coords must be GeoJSON Feature, Geometry Object or an Array")}(t);for(let t=0;t<l.length-1;t++){const s=x(l[t]),c=z(s),u=x(l[t+1]),h=z(u),d=w(s,u,r);let p,g;h[0]===i[0]&&h[1]===i[1]?[p,g]=[h,!0]:c[0]===i[0]&&c[1]===i[1]?[p,g]=[c,!1]:[p,g]=$(c,h,i);const f=x(p,{dist:w(e,p,r),multiFeatureIndex:a,location:o+w(s,p,r)});f.properties.dist<n.properties.dist&&(n=k(C({},f),{properties:k(C({},f.properties),{index:g?t+1:t})})),o+=d}}),n}function N(t,e){const[r,i,n]=t,[o,s,a]=e;return[i*a-n*s,n*o-r*a,r*s-i*o]}function R(t){const e=function(t){return Math.sqrt(Math.pow(t[0],2)+Math.pow(t[1],2)+Math.pow(t[2],2))}(t);return[t[0]/e,t[1]/e,t[2]/e]}function G(t){const e=I(t[1]),r=I(t[0]);return[Math.cos(e)*Math.cos(r),Math.cos(e)*Math.sin(r),Math.sin(e)]}function H(t){const[e,r,i]=t,n=Math.min(Math.max(i,-1),1),o=D(Math.asin(n));return[D(Math.atan2(r,e)),o]}function $(t,e,r){const i=G(t),n=G(e),o=G(r),s=N(i,n);if(0===s[0]&&0===s[1]&&0===s[2])return j(i,n)>0?[[...e],!0]:[[...r],!1];const a=N(s,o);if(0===a[0]&&0===a[1]&&0===a[2])return[[...e],!0];const l=R(N(a,s)),c=[-l[0],-l[1],-l[2]],u=j(o,l)>j(o,c)?l:c,h=R(s),d=j(N(i,u),h),p=j(N(u,n),h);return d>=0&&p>=0?[H(u),!1]:j(i,o)>j(n,o)?[[...t],!1]:[[...e],!0]}function j(t,e){return t[0]*e[0]+t[1]*e[1]}function Z(t,e,r={}){const i=z(t),n=z(e);n[0]+=n[0]-i[0]>180?-360:i[0]-n[0]>180?360:0;const o=function(t,e,r){const i=r=void 0===r?d:Number(r),n=t[1]*Math.PI/180,o=e[1]*Math.PI/180,s=o-n;let a=Math.abs(e[0]-t[0])*Math.PI/180;a>Math.PI&&(a-=2*Math.PI);const l=Math.log(Math.tan(o/2+Math.PI/4)/Math.tan(n/2+Math.PI/4)),c=Math.abs(l)>1e-11?s/l:Math.cos(n);return Math.sqrt(s*s+c*c*a*a)*i}(i,n);return F(o,"meters",r.units)}class V{constructor(t,e,r){this.wrapper=t,this.config=e,this.modalManager=r,this.placesControl=null,this.mainFeatureGroup=L.featureGroup(),this.routePolylines=[],this.map=L.map(this.wrapper,{scrollWheelZoom:!0,minZoom:1,maxZoom:21}),this.config.tileLayerUrls.forEach(t=>{L.tileLayer(t).addTo(this.map)}),this.defaultPolylineStyle={color:this.config.polylineColor,weight:1.5,opacity:.5,smoothFactor:1,overrideExisting:!0,detectColors:!0},this.inactivePolylineStyle={weight:0,opacity:0},this.map.on("click",t=>this._handleMapClick(t)),this.map.on("popupclose",()=>this._resetRouteStyles()),this.map.on("popupopen",t=>this._handlePopupOpen(t))}_resetRouteStyles(){this.routePolylines.forEach(t=>{t.polyline.setStyle(this.defaultPolylineStyle)})}_handlePopupOpen(t){const e=t.popup.getElement();e&&e.querySelectorAll("a[data-model-content-url]").forEach(t=>{t.addEventListener("click",e=>{e.preventDefault(),e.stopPropagation(),this.modalManager.open(t.getAttribute("data-model-content-url"))})})}_handleMapClick(t){const e=x([t.latlng.lng,t.latlng.lat]);this._resetRouteStyles();const r=[],i=[];if(this.routePolylines.forEach(t=>{const n=S(t.latlngs.map(t=>[t.lng,t.lat]));(function(t,e,r={}){var i,n;const o=null!=(i=r.method)?i:"geodesic",s=null!=(n=r.units)?n:"kilometers";if(!t)throw new Error("pt is required");if(Array.isArray(t)?t=x(t):"Point"===t.type?t=E(t):M(t,"Point","point"),!e)throw new Error("line is required");Array.isArray(e)?e=S(e):"LineString"===e.type?e=E(e):M(e,"LineString","line");let a=1/0;const l=t.geometry.coordinates;return B(e,t=>{if(t){const e=t.geometry.coordinates[0],r=t.geometry.coordinates[1],i=function(t,e,r,i){if("geodesic"===i.method)return P(S([e,r]).geometry,t,{units:"degrees"}).properties.dist;const n=[r[0]-e[0],r[1]-e[1]],o=j([t[0]-e[0],t[1]-e[1]],n);if(o<=0)return Z(t,e,{units:"degrees"});const s=j(n,n);if(s<=o)return Z(t,r,{units:"degrees"});const a=o/s;return Z(t,[e[0]+a*n[0],e[1]+a*n[1]],{units:"degrees"})}(l,e,r,{method:o});i<a&&(a=i)}}),F(a,"degrees",s)})(e,n,{units:"meters"})<=100?r.push(t):i.push(t)}),0===r.length)return;i.forEach(t=>{t.polyline.setStyle(this.inactivePolylineStyle)});const n=`\n            <div class="m-4 text-sm max-h-50 overflow-y-auto">\n                <div class="font-medium">${r.length} nearby route(s):</div>\n                 <ul class="divide-default divide-y divide-gray-200">\n                    ${r.map(t=>`\n                     <li class="py-2">\n                      <a href="#" title="${t.route.name}" class="block truncate font-medium text-blue-600 hover:underline" \n                        data-model-content-url="${t.route.activityUrl}">\n                        ${t.route.name}\n                      </a>\n                      <div class="flex items-center justify-between text-xs text-gray-500">\n                        <div>${t.route.startDate}</div>\n                        <div>${t.route.distance}</div>\n                      </div>\n                    </li>`).join("")}\n                </ul>\n            </div>`;L.popup(t.latlng,{content:n,maxWidth:300,minWidth:300}).openOn(this.map)}redraw(t){t=t.filter(t=>t.active),this.mainFeatureGroup.clearLayers(),this.routePolylines=[],this.placesControl&&this.map.removeControl(this.placesControl);const e=[],r=new Map,i=L.featureGroup(),n=(t=>{const e=t.reduce((t,e)=>{const r=e.startLocation.state;return r&&(t[r]=(t[r]||0)+1),t},{}),r=Object.keys(e).reduce((t,r)=>e[t]>e[r]?t:r,"");return r||null})(t);t.forEach(t=>{const{countryCode:e,state:o}=t.startLocation;r.has(e)||r.set(e,L.featureGroup());const s=L.Polyline.fromEncoded(t.encodedPolyline).getLatLngs(),a=L.polyline(s,this.defaultPolylineStyle).addTo(r.get(e));this.routePolylines.push({route:t,polyline:a,latlngs:s}),n===o&&L.polyline(s).addTo(i)}),r.forEach((t,r)=>{t.addTo(this.mainFeatureGroup),e.push({countryCode:r,bounds:t.getBounds()})}),this.mainFeatureGroup.addTo(this.map),this.placesControl=L.control.flyToPlaces({places:e}),this.placesControl.addTo(this.map),i.getBounds().isValid()&&this.map.fitBounds(i.getBounds())}}class U{constructor(t,e){this.wrapper=t,this.heatmap=t.querySelector("[data-leaflet-routes]"),this.resetBtn=t.querySelector("[data-dataTable-reset]"),this.config=JSON.parse(this.heatmap.getAttribute("data-heatmap-config")),this.filterManager=new a(t,new h),this.drawer=new V(this.heatmap,this.config,e)}async render(){this.wrapper.querySelectorAll('input[type="date"][data-default-to-today]').forEach(t=>t.valueAsDate=new Date);const t=JSON.parse(this.heatmap.getAttribute("data-leaflet-routes")),e=()=>{const e=this.filterManager.getActiveFilters();this.filterManager.updateDropdownState(e);const r=this.filterManager.applyFiltersToRows(t);this.drawer.redraw(r),this.resetBtn.classList.toggle("hidden",!(Object.keys(e).length>0));const i=this.wrapper.querySelector("[data-dataTable-result-count]");i&&(i.innerText=r.filter(t=>t.active).length)};e(),this.wrapper.querySelectorAll("[data-dataTable-filter]").forEach(t=>t.addEventListener("input",e)),this.resetBtn&&this.resetBtn.addEventListener("click",t=>{t.preventDefault(),this.filterManager.resetAll(),e()}),this.wrapper.querySelectorAll("[data-datatable-filter-clear]").forEach(t=>{t.addEventListener("click",r=>{r.preventDefault();const i=t.getAttribute("data-datatable-filter-clear");this.filterManager.resetOne(i),e()})})}}const W=t=>{const e=document.querySelector("[data-latest-version]"),r=e.querySelector("a");r&&(r.href=r.href.replace("[LATEST_VERSION]",t),r.textContent=r.textContent.replace("[LATEST_VERSION]",t)),e.classList.remove("hidden")};var Y=r(360),X=r.n(Y),J=r(569),K=r.n(J),Q=r(563),tt=r.n(Q);class et{constructor(t){this.trigger=t.querySelector("[data-light-gallery-trigger]"),this.gallery=X()(this.trigger,{dynamic:!0,plugins:[K(),tt()],backdropDuration:200,dynamicEl:[]})}refresh(t){const e=t.map(t=>JSON.parse(t.element.getAttribute("data-light-gallery-element")));this.gallery.refresh(e)}bindEvents(){this.trigger?.addEventListener("click",()=>this.gallery.openGallery())}}class rt{constructor(t,e){this.wrapper=t,this.dataTableStorage=e,this.resetBtn=t.querySelector("[data-dataTable-reset]"),this.filterManager=new a(t,new h),this.allImages=Array.from(this.wrapper.querySelectorAll("[data-image]")).map(t=>({element:t,filterables:JSON.parse(t.getAttribute("data-filterables")),active:!0})),this.lightGallery=new et(this.wrapper)}async render(){const t=()=>{const t=this.filterManager.getActiveFilters();this.filterManager.updateDropdownState(t);const e=this.filterManager.applyFiltersToRows(this.allImages);for(const{element:t,active:r}of e)t.classList.toggle("hidden",!r);this.resetBtn.classList.toggle("hidden",!(Object.keys(t).length>0));const r=e.filter(t=>t.active),i=this.wrapper.querySelector("[data-dataTable-result-count]");i&&(i.innerText=r.length),this.lightGallery.refresh(r)};this.dataTableStorage.set({photoWall:JSON.parse(this.wrapper.getAttribute("data-default-filters"))}),this.filterManager.prefillFromStorage("photoWall"),t(),this.wrapper.querySelectorAll("[data-dataTable-filter]").forEach(e=>e.addEventListener("input",t)),this.lightGallery.bindEvents(),this.resetBtn&&this.resetBtn.addEventListener("click",e=>{e.preventDefault(),this.filterManager.resetAll(),t()}),this.wrapper.querySelectorAll("[data-datatable-filter-clear]").forEach(e=>{e.addEventListener("click",r=>{r.preventDefault();const i=e.getAttribute("data-datatable-filter-clear");this.filterManager.resetOne(i),t()})})}}const it="undefined"!=typeof window,nt=it&&!("onscroll"in window)||"undefined"!=typeof navigator&&/(gle|ing|ro)bot|crawl|spider/i.test(navigator.userAgent),ot=it&&window.devicePixelRatio>1,st={elements_selector:".lazy",container:nt||it?document:null,threshold:300,thresholds:null,data_src:"src",data_srcset:"srcset",data_sizes:"sizes",data_bg:"bg",data_bg_hidpi:"bg-hidpi",data_bg_multi:"bg-multi",data_bg_multi_hidpi:"bg-multi-hidpi",data_bg_set:"bg-set",data_poster:"poster",class_applied:"applied",class_loading:"loading",class_loaded:"loaded",class_error:"error",class_entered:"entered",class_exited:"exited",unobserve_completed:!0,unobserve_entered:!1,cancel_on_exit:!0,callback_enter:null,callback_exit:null,callback_applied:null,callback_loading:null,callback_loaded:null,callback_error:null,callback_finish:null,callback_cancel:null,use_native:!1,restore_on_error:!1},at=t=>Object.assign({},st,t),lt=function(t,e){let r;const i="LazyLoad::Initialized",n=new t(e);try{r=new CustomEvent(i,{detail:{instance:n}})}catch(t){r=document.createEvent("CustomEvent"),r.initCustomEvent(i,!1,!1,{instance:n})}window.dispatchEvent(r)},ct="src",ut="srcset",ht="sizes",dt="poster",pt="llOriginalAttrs",gt="data",ft="loading",mt="loaded",yt="applied",bt="error",vt="native",_t="data-",Ct="ll-status",kt=(t,e)=>t.getAttribute(_t+e),wt=t=>kt(t,Ct),Et=(t,e)=>((t,e,r)=>{const i=_t+e;null!==r?t.setAttribute(i,r):t.removeAttribute(i)})(t,Ct,e),xt=t=>Et(t,null),St=t=>null===wt(t),At=t=>wt(t)===vt,Dt=[ft,mt,yt,bt],It=(t,e,r,i)=>{t&&"function"==typeof t&&(void 0===i?void 0===r?t(e):t(e,r):t(e,r,i))},Ft=(t,e)=>{it&&""!==e&&t.classList.add(e)},Lt=(t,e)=>{it&&""!==e&&t.classList.remove(e)},Tt=t=>t.llTempImage,zt=(t,e)=>{if(!e)return;const r=e._observer;r&&r.unobserve(t)},Mt=(t,e)=>{t&&(t.loadingCount+=e)},qt=(t,e)=>{t&&(t.toLoadCount=e)},Ot=t=>{let e=[];for(let r,i=0;r=t.children[i];i+=1)"SOURCE"===r.tagName&&e.push(r);return e},Bt=(t,e)=>{const r=t.parentNode;r&&"PICTURE"===r.tagName&&Ot(r).forEach(e)},Pt=(t,e)=>{Ot(t).forEach(e)},Nt=[ct],Rt=[ct,dt],Gt=[ct,ut,ht],Ht=[gt],$t=t=>!!t[pt],jt=t=>t[pt],Zt=t=>delete t[pt],Vt=(t,e)=>{if($t(t))return;const r={};e.forEach(e=>{r[e]=t.getAttribute(e)}),t[pt]=r},Ut=(t,e)=>{if(!$t(t))return;const r=jt(t);e.forEach(e=>{((t,e,r)=>{r?t.setAttribute(e,r):t.removeAttribute(e)})(t,e,r[e])})},Wt=(t,e,r)=>{Ft(t,e.class_applied),Et(t,yt),r&&(e.unobserve_completed&&zt(t,e),It(e.callback_applied,t,r))},Yt=(t,e,r)=>{Ft(t,e.class_loading),Et(t,ft),r&&(Mt(r,1),It(e.callback_loading,t,r))},Xt=(t,e,r)=>{r&&t.setAttribute(e,r)},Jt=(t,e)=>{Xt(t,ht,kt(t,e.data_sizes)),Xt(t,ut,kt(t,e.data_srcset)),Xt(t,ct,kt(t,e.data_src))},Kt={IMG:(t,e)=>{Bt(t,t=>{Vt(t,Gt),Jt(t,e)}),Vt(t,Gt),Jt(t,e)},IFRAME:(t,e)=>{Vt(t,Nt),Xt(t,ct,kt(t,e.data_src))},VIDEO:(t,e)=>{Pt(t,t=>{Vt(t,Nt),Xt(t,ct,kt(t,e.data_src))}),Vt(t,Rt),Xt(t,dt,kt(t,e.data_poster)),Xt(t,ct,kt(t,e.data_src)),t.load()},OBJECT:(t,e)=>{Vt(t,Ht),Xt(t,gt,kt(t,e.data_src))}},Qt=["IMG","IFRAME","VIDEO","OBJECT"],te=(t,e)=>{!e||(t=>t.loadingCount>0)(e)||(t=>t.toLoadCount>0)(e)||It(t.callback_finish,e)},ee=(t,e,r)=>{t.addEventListener(e,r),t.llEvLisnrs[e]=r},re=(t,e,r)=>{t.removeEventListener(e,r)},ie=t=>!!t.llEvLisnrs,ne=t=>{if(!ie(t))return;const e=t.llEvLisnrs;for(let r in e){const i=e[r];re(t,r,i)}delete t.llEvLisnrs},oe=(t,e,r)=>{(t=>{delete t.llTempImage})(t),Mt(r,-1),(t=>{t&&(t.toLoadCount-=1)})(r),Lt(t,e.class_loading),e.unobserve_completed&&zt(t,r)},se=(t,e,r)=>{const i=Tt(t)||t;ie(i)||((t,e,r)=>{ie(t)||(t.llEvLisnrs={});const i="VIDEO"===t.tagName?"loadeddata":"load";ee(t,i,e),ee(t,"error",r)})(i,n=>{((t,e,r,i)=>{const n=At(e);oe(e,r,i),Ft(e,r.class_loaded),Et(e,mt),It(r.callback_loaded,e,i),n||te(r,i)})(0,t,e,r),ne(i)},n=>{((t,e,r,i)=>{const n=At(e);oe(e,r,i),Ft(e,r.class_error),Et(e,bt),It(r.callback_error,e,i),r.restore_on_error&&Ut(e,Gt),n||te(r,i)})(0,t,e,r),ne(i)})},ae=(t,e,r)=>{(t=>Qt.indexOf(t.tagName)>-1)(t)?((t,e,r)=>{se(t,e,r),((t,e,r)=>{const i=Kt[t.tagName];i&&(i(t,e),Yt(t,e,r))})(t,e,r)})(t,e,r):((t,e,r)=>{(t=>{t.llTempImage=document.createElement("IMG")})(t),se(t,e,r),(t=>{$t(t)||(t[pt]={backgroundImage:t.style.backgroundImage})})(t),((t,e,r)=>{const i=kt(t,e.data_bg),n=kt(t,e.data_bg_hidpi),o=ot&&n?n:i;o&&(t.style.backgroundImage=`url("${o}")`,Tt(t).setAttribute(ct,o),Yt(t,e,r))})(t,e,r),((t,e,r)=>{const i=kt(t,e.data_bg_multi),n=kt(t,e.data_bg_multi_hidpi),o=ot&&n?n:i;o&&(t.style.backgroundImage=o,Wt(t,e,r))})(t,e,r),((t,e,r)=>{const i=kt(t,e.data_bg_set);if(!i)return;const n=i.split("|");let o=n.map(t=>`image-set(${t})`);t.style.backgroundImage=o.join(),""===t.style.backgroundImage&&(o=n.map(t=>`-webkit-image-set(${t})`),t.style.backgroundImage=o.join()),Wt(t,e,r)})(t,e,r)})(t,e,r)},le=t=>{t.removeAttribute(ct),t.removeAttribute(ut),t.removeAttribute(ht)},ce=t=>{Bt(t,t=>{Ut(t,Gt)}),Ut(t,Gt)},ue={IMG:ce,IFRAME:t=>{Ut(t,Nt)},VIDEO:t=>{Pt(t,t=>{Ut(t,Nt)}),Ut(t,Rt),t.load()},OBJECT:t=>{Ut(t,Ht)}},he=["IMG","IFRAME","VIDEO"],de=t=>t.use_native&&"loading"in HTMLImageElement.prototype,pe=t=>Array.prototype.slice.call(t),ge=t=>t.container.querySelectorAll(t.elements_selector),fe=t=>(t=>wt(t)===bt)(t),me=(t,e)=>(t=>pe(t).filter(St))(t||ge(e)),ye=function(t,e){const r=at(t);this._settings=r,this.loadingCount=0,((t,e)=>{de(t)||(e._observer=new IntersectionObserver(r=>{((t,e,r)=>{t.forEach(t=>(t=>t.isIntersecting||t.intersectionRatio>0)(t)?((t,e,r,i)=>{const n=(t=>Dt.indexOf(wt(t))>=0)(t);Et(t,"entered"),Ft(t,r.class_entered),Lt(t,r.class_exited),((t,e,r)=>{e.unobserve_entered&&zt(t,r)})(t,r,i),It(r.callback_enter,t,e,i),n||ae(t,r,i)})(t.target,t,e,r):((t,e,r,i)=>{St(t)||(Ft(t,r.class_exited),((t,e,r,i)=>{r.cancel_on_exit&&(t=>wt(t)===ft)(t)&&"IMG"===t.tagName&&(ne(t),(t=>{Bt(t,t=>{le(t)}),le(t)})(t),ce(t),Lt(t,r.class_loading),Mt(i,-1),xt(t),It(r.callback_cancel,t,e,i))})(t,e,r,i),It(r.callback_exit,t,e,i))})(t.target,t,e,r))})(r,t,e)},(t=>({root:t.container===document?null:t.container,rootMargin:t.thresholds||t.threshold+"px"}))(t)))})(r,this),((t,e)=>{it&&(e._onlineHandler=()=>{((t,e)=>{(t=>pe(t).filter(fe))(ge(t)).forEach(e=>{Lt(e,t.class_error),xt(e)}),e.update()})(t,e)},window.addEventListener("online",e._onlineHandler))})(r,this),this.update(e)};ye.prototype={update:function(t){const e=this._settings,r=me(t,e);qt(this,r.length),nt?this.loadAll(r):de(e)?((t,e,r)=>{t.forEach(t=>{-1!==he.indexOf(t.tagName)&&((t,e,r)=>{t.setAttribute("loading","lazy"),se(t,e,r),((t,e)=>{const r=Kt[t.tagName];r&&r(t,e)})(t,e),Et(t,vt)})(t,e,r)}),qt(r,0)})(r,e,this):((t,e)=>{(t=>{t.disconnect()})(t),((t,e)=>{e.forEach(e=>{t.observe(e)})})(t,e)})(this._observer,r)},destroy:function(){this._observer&&this._observer.disconnect(),(t=>{it&&window.removeEventListener("online",t._onlineHandler)})(this),ge(this._settings).forEach(t=>{Zt(t)}),delete this._observer,delete this._settings,delete this._onlineHandler,delete this.loadingCount,delete this.toLoadCount},loadAll:function(t){const e=this._settings;me(t,e).forEach(t=>{zt(t,this),ae(t,e,this)})},restoreAll:function(){const t=this._settings;ge(t).forEach(e=>{((t,e)=>{(t=>{const e=ue[t.tagName];e?e(t):(t=>{if(!$t(t))return;const e=jt(t);t.style.backgroundImage=e.backgroundImage})(t)})(t),((t,e)=>{St(t)||At(t)||(Lt(t,e.class_entered),Lt(t,e.class_exited),Lt(t,e.class_applied),Lt(t,e.class_loading),Lt(t,e.class_loaded),Lt(t,e.class_error))})(t,e),xt(t),Zt(t)})(e,t)})}},ye.load=(t,e)=>{const r=at(e);ae(t,r)},ye.resetStatus=t=>{xt(t)},it&&((t,e)=>{if(e)if(e.length)for(let r,i=0;r=e[i];i+=1)lt(t,r);else lt(t,e)})(ye,window.lazyLoadOptions);var be=r(879),ve=r.n(be);const _e={};function Ce(t,e){"string"!=typeof e&&(e=Ce.defaultChars);const r=function(t){let e=_e[t];if(e)return e;e=_e[t]=[];for(let t=0;t<128;t++){const r=String.fromCharCode(t);e.push(r)}for(let r=0;r<t.length;r++){const i=t.charCodeAt(r);e[i]="%"+("0"+i.toString(16).toUpperCase()).slice(-2)}return e}(e);return t.replace(/(%[a-f0-9]{2})+/gi,function(t){let e="";for(let i=0,n=t.length;i<n;i+=3){const o=parseInt(t.slice(i+1,i+3),16);if(o<128)e+=r[o];else{if(192==(224&o)&&i+3<n){const r=parseInt(t.slice(i+4,i+6),16);if(128==(192&r)){const t=o<<6&1984|63&r;e+=t<128?"":String.fromCharCode(t),i+=3;continue}}if(224==(240&o)&&i+6<n){const r=parseInt(t.slice(i+4,i+6),16),n=parseInt(t.slice(i+7,i+9),16);if(128==(192&r)&&128==(192&n)){const t=o<<12&61440|r<<6&4032|63&n;e+=t<2048||t>=55296&&t<=57343?"":String.fromCharCode(t),i+=6;continue}}if(240==(248&o)&&i+9<n){const r=parseInt(t.slice(i+4,i+6),16),n=parseInt(t.slice(i+7,i+9),16),s=parseInt(t.slice(i+10,i+12),16);if(128==(192&r)&&128==(192&n)&&128==(192&s)){let t=o<<18&1835008|r<<12&258048|n<<6&4032|63&s;t<65536||t>1114111?e+="":(t-=65536,e+=String.fromCharCode(55296+(t>>10),56320+(1023&t))),i+=9;continue}}e+=""}}return e})}Ce.defaultChars=";/?:@&=+$,#",Ce.componentChars="";const ke=Ce,we={};function Ee(t,e,r){"string"!=typeof e&&(r=e,e=Ee.defaultChars),void 0===r&&(r=!0);const i=function(t){let e=we[t];if(e)return e;e=we[t]=[];for(let t=0;t<128;t++){const r=String.fromCharCode(t);/^[0-9a-z]$/i.test(r)?e.push(r):e.push("%"+("0"+t.toString(16).toUpperCase()).slice(-2))}for(let r=0;r<t.length;r++)e[t.charCodeAt(r)]=t[r];return e}(e);let n="";for(let e=0,o=t.length;e<o;e++){const s=t.charCodeAt(e);if(r&&37===s&&e+2<o&&/^[0-9a-f]{2}$/i.test(t.slice(e+1,e+3)))n+=t.slice(e,e+3),e+=2;else if(s<128)n+=i[s];else if(s>=55296&&s<=57343){if(s>=55296&&s<=56319&&e+1<o){const r=t.charCodeAt(e+1);if(r>=56320&&r<=57343){n+=encodeURIComponent(t[e]+t[e+1]),e++;continue}}n+="%EF%BF%BD"}else n+=encodeURIComponent(t[e])}return n}Ee.defaultChars=";/?:@&=+$,-_.!~*'()#",Ee.componentChars="-_.!~*'()";const xe=Ee;function Se(t){let e="";return e+=t.protocol||"",e+=t.slashes?"//":"",e+=t.auth?t.auth+"@":"",t.hostname&&-1!==t.hostname.indexOf(":")?e+="["+t.hostname+"]":e+=t.hostname||"",e+=t.port?":"+t.port:"",e+=t.pathname||"",e+=t.search||"",e+=t.hash||"",e}function Ae(){this.protocol=null,this.slashes=null,this.auth=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.pathname=null}const De=/^([a-z0-9.+-]+:)/i,Ie=/:[0-9]*$/,Fe=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,Le=["{","}","|","\\","^","`"].concat(["<",">",'"',"`"," ","\r","\n","\t"]),Te=["'"].concat(Le),ze=["%","/","?",";","#"].concat(Te),Me=["/","?","#"],qe=/^[+a-z0-9A-Z_-]{0,63}$/,Oe=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,Be={javascript:!0,"javascript:":!0},Pe={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0};Ae.prototype.parse=function(t,e){let r,i,n,o=t;if(o=o.trim(),!e&&1===t.split("#").length){const t=Fe.exec(o);if(t)return this.pathname=t[1],t[2]&&(this.search=t[2]),this}let s=De.exec(o);if(s&&(s=s[0],r=s.toLowerCase(),this.protocol=s,o=o.substr(s.length)),(e||s||o.match(/^\/\/[^@\/]+@[^@\/]+/))&&(n="//"===o.substr(0,2),!n||s&&Be[s]||(o=o.substr(2),this.slashes=!0)),!Be[s]&&(n||s&&!Pe[s])){let t,e,r=-1;for(let t=0;t<Me.length;t++)i=o.indexOf(Me[t]),-1!==i&&(-1===r||i<r)&&(r=i);e=-1===r?o.lastIndexOf("@"):o.lastIndexOf("@",r),-1!==e&&(t=o.slice(0,e),o=o.slice(e+1),this.auth=t),r=-1;for(let t=0;t<ze.length;t++)i=o.indexOf(ze[t]),-1!==i&&(-1===r||i<r)&&(r=i);-1===r&&(r=o.length),":"===o[r-1]&&r--;const n=o.slice(0,r);o=o.slice(r),this.parseHost(n),this.hostname=this.hostname||"";const s="["===this.hostname[0]&&"]"===this.hostname[this.hostname.length-1];if(!s){const t=this.hostname.split(/\./);for(let e=0,r=t.length;e<r;e++){const r=t[e];if(r&&!r.match(qe)){let i="";for(let t=0,e=r.length;t<e;t++)r.charCodeAt(t)>127?i+="x":i+=r[t];if(!i.match(qe)){const i=t.slice(0,e),n=t.slice(e+1),s=r.match(Oe);s&&(i.push(s[1]),n.unshift(s[2])),n.length&&(o=n.join(".")+o),this.hostname=i.join(".");break}}}}this.hostname.length>255&&(this.hostname=""),s&&(this.hostname=this.hostname.substr(1,this.hostname.length-2))}const a=o.indexOf("#");-1!==a&&(this.hash=o.substr(a),o=o.slice(0,a));const l=o.indexOf("?");return-1!==l&&(this.search=o.substr(l),o=o.slice(0,l)),o&&(this.pathname=o),Pe[r]&&this.hostname&&!this.pathname&&(this.pathname=""),this},Ae.prototype.parseHost=function(t){let e=Ie.exec(t);e&&(e=e[0],":"!==e&&(this.port=e.substr(1)),t=t.substr(0,t.length-e.length)),t&&(this.hostname=t)};const Ne=function(t,e){if(t&&t instanceof Ae)return t;const r=new Ae;return r.parse(t,e),r},Re=/[!-#%-\*,-\/:;\?@\[-\]_\{\}\xA1\xA7\xAB\xB6\xB7\xBB\xBF\u037E\u0387\u055A-\u055F\u0589\u058A\u05BE\u05C0\u05C3\u05C6\u05F3\u05F4\u0609\u060A\u060C\u060D\u061B\u061D-\u061F\u066A-\u066D\u06D4\u0700-\u070D\u07F7-\u07F9\u0830-\u083E\u085E\u0964\u0965\u0970\u09FD\u0A76\u0AF0\u0C77\u0C84\u0DF4\u0E4F\u0E5A\u0E5B\u0F04-\u0F12\u0F14\u0F3A-\u0F3D\u0F85\u0FD0-\u0FD4\u0FD9\u0FDA\u104A-\u104F\u10FB\u1360-\u1368\u1400\u166E\u169B\u169C\u16EB-\u16ED\u1735\u1736\u17D4-\u17D6\u17D8-\u17DA\u1800-\u180A\u1944\u1945\u1A1E\u1A1F\u1AA0-\u1AA6\u1AA8-\u1AAD\u1B5A-\u1B60\u1B7D\u1B7E\u1BFC-\u1BFF\u1C3B-\u1C3F\u1C7E\u1C7F\u1CC0-\u1CC7\u1CD3\u2010-\u2027\u2030-\u2043\u2045-\u2051\u2053-\u205E\u207D\u207E\u208D\u208E\u2308-\u230B\u2329\u232A\u2768-\u2775\u27C5\u27C6\u27E6-\u27EF\u2983-\u2998\u29D8-\u29DB\u29FC\u29FD\u2CF9-\u2CFC\u2CFE\u2CFF\u2D70\u2E00-\u2E2E\u2E30-\u2E4F\u2E52-\u2E5D\u3001-\u3003\u3008-\u3011\u3014-\u301F\u3030\u303D\u30A0\u30FB\uA4FE\uA4FF\uA60D-\uA60F\uA673\uA67E\uA6F2-\uA6F7\uA874-\uA877\uA8CE\uA8CF\uA8F8-\uA8FA\uA8FC\uA92E\uA92F\uA95F\uA9C1-\uA9CD\uA9DE\uA9DF\uAA5C-\uAA5F\uAADE\uAADF\uAAF0\uAAF1\uABEB\uFD3E\uFD3F\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE61\uFE63\uFE68\uFE6A\uFE6B\uFF01-\uFF03\uFF05-\uFF0A\uFF0C-\uFF0F\uFF1A\uFF1B\uFF1F\uFF20\uFF3B-\uFF3D\uFF3F\uFF5B\uFF5D\uFF5F-\uFF65]|\uD800[\uDD00-\uDD02\uDF9F\uDFD0]|\uD801\uDD6F|\uD802[\uDC57\uDD1F\uDD3F\uDE50-\uDE58\uDE7F\uDEF0-\uDEF6\uDF39-\uDF3F\uDF99-\uDF9C]|\uD803[\uDEAD\uDF55-\uDF59\uDF86-\uDF89]|\uD804[\uDC47-\uDC4D\uDCBB\uDCBC\uDCBE-\uDCC1\uDD40-\uDD43\uDD74\uDD75\uDDC5-\uDDC8\uDDCD\uDDDB\uDDDD-\uDDDF\uDE38-\uDE3D\uDEA9]|\uD805[\uDC4B-\uDC4F\uDC5A\uDC5B\uDC5D\uDCC6\uDDC1-\uDDD7\uDE41-\uDE43\uDE60-\uDE6C\uDEB9\uDF3C-\uDF3E]|\uD806[\uDC3B\uDD44-\uDD46\uDDE2\uDE3F-\uDE46\uDE9A-\uDE9C\uDE9E-\uDEA2\uDF00-\uDF09]|\uD807[\uDC41-\uDC45\uDC70\uDC71\uDEF7\uDEF8\uDF43-\uDF4F\uDFFF]|\uD809[\uDC70-\uDC74]|\uD80B[\uDFF1\uDFF2]|\uD81A[\uDE6E\uDE6F\uDEF5\uDF37-\uDF3B\uDF44]|\uD81B[\uDE97-\uDE9A\uDFE2]|\uD82F\uDC9F|\uD836[\uDE87-\uDE8B]|\uD83A[\uDD5E\uDD5F]/,Ge=/[\$\+<->\^`\|~\xA2-\xA6\xA8\xA9\xAC\xAE-\xB1\xB4\xB8\xD7\xF7\u02C2-\u02C5\u02D2-\u02DF\u02E5-\u02EB\u02ED\u02EF-\u02FF\u0375\u0384\u0385\u03F6\u0482\u058D-\u058F\u0606-\u0608\u060B\u060E\u060F\u06DE\u06E9\u06FD\u06FE\u07F6\u07FE\u07FF\u0888\u09F2\u09F3\u09FA\u09FB\u0AF1\u0B70\u0BF3-\u0BFA\u0C7F\u0D4F\u0D79\u0E3F\u0F01-\u0F03\u0F13\u0F15-\u0F17\u0F1A-\u0F1F\u0F34\u0F36\u0F38\u0FBE-\u0FC5\u0FC7-\u0FCC\u0FCE\u0FCF\u0FD5-\u0FD8\u109E\u109F\u1390-\u1399\u166D\u17DB\u1940\u19DE-\u19FF\u1B61-\u1B6A\u1B74-\u1B7C\u1FBD\u1FBF-\u1FC1\u1FCD-\u1FCF\u1FDD-\u1FDF\u1FED-\u1FEF\u1FFD\u1FFE\u2044\u2052\u207A-\u207C\u208A-\u208C\u20A0-\u20C0\u2100\u2101\u2103-\u2106\u2108\u2109\u2114\u2116-\u2118\u211E-\u2123\u2125\u2127\u2129\u212E\u213A\u213B\u2140-\u2144\u214A-\u214D\u214F\u218A\u218B\u2190-\u2307\u230C-\u2328\u232B-\u2426\u2440-\u244A\u249C-\u24E9\u2500-\u2767\u2794-\u27C4\u27C7-\u27E5\u27F0-\u2982\u2999-\u29D7\u29DC-\u29FB\u29FE-\u2B73\u2B76-\u2B95\u2B97-\u2BFF\u2CE5-\u2CEA\u2E50\u2E51\u2E80-\u2E99\u2E9B-\u2EF3\u2F00-\u2FD5\u2FF0-\u2FFF\u3004\u3012\u3013\u3020\u3036\u3037\u303E\u303F\u309B\u309C\u3190\u3191\u3196-\u319F\u31C0-\u31E3\u31EF\u3200-\u321E\u322A-\u3247\u3250\u3260-\u327F\u328A-\u32B0\u32C0-\u33FF\u4DC0-\u4DFF\uA490-\uA4C6\uA700-\uA716\uA720\uA721\uA789\uA78A\uA828-\uA82B\uA836-\uA839\uAA77-\uAA79\uAB5B\uAB6A\uAB6B\uFB29\uFBB2-\uFBC2\uFD40-\uFD4F\uFDCF\uFDFC-\uFDFF\uFE62\uFE64-\uFE66\uFE69\uFF04\uFF0B\uFF1C-\uFF1E\uFF3E\uFF40\uFF5C\uFF5E\uFFE0-\uFFE6\uFFE8-\uFFEE\uFFFC\uFFFD]|\uD800[\uDD37-\uDD3F\uDD79-\uDD89\uDD8C-\uDD8E\uDD90-\uDD9C\uDDA0\uDDD0-\uDDFC]|\uD802[\uDC77\uDC78\uDEC8]|\uD805\uDF3F|\uD807[\uDFD5-\uDFF1]|\uD81A[\uDF3C-\uDF3F\uDF45]|\uD82F\uDC9C|\uD833[\uDF50-\uDFC3]|\uD834[\uDC00-\uDCF5\uDD00-\uDD26\uDD29-\uDD64\uDD6A-\uDD6C\uDD83\uDD84\uDD8C-\uDDA9\uDDAE-\uDDEA\uDE00-\uDE41\uDE45\uDF00-\uDF56]|\uD835[\uDEC1\uDEDB\uDEFB\uDF15\uDF35\uDF4F\uDF6F\uDF89\uDFA9\uDFC3]|\uD836[\uDC00-\uDDFF\uDE37-\uDE3A\uDE6D-\uDE74\uDE76-\uDE83\uDE85\uDE86]|\uD838[\uDD4F\uDEFF]|\uD83B[\uDCAC\uDCB0\uDD2E\uDEF0\uDEF1]|\uD83C[\uDC00-\uDC2B\uDC30-\uDC93\uDCA0-\uDCAE\uDCB1-\uDCBF\uDCC1-\uDCCF\uDCD1-\uDCF5\uDD0D-\uDDAD\uDDE6-\uDE02\uDE10-\uDE3B\uDE40-\uDE48\uDE50\uDE51\uDE60-\uDE65\uDF00-\uDFFF]|\uD83D[\uDC00-\uDED7\uDEDC-\uDEEC\uDEF0-\uDEFC\uDF00-\uDF76\uDF7B-\uDFD9\uDFE0-\uDFEB\uDFF0]|\uD83E[\uDC00-\uDC0B\uDC10-\uDC47\uDC50-\uDC59\uDC60-\uDC87\uDC90-\uDCAD\uDCB0\uDCB1\uDD00-\uDE53\uDE60-\uDE6D\uDE70-\uDE7C\uDE80-\uDE88\uDE90-\uDEBD\uDEBF-\uDEC5\uDECE-\uDEDB\uDEE0-\uDEE8\uDEF0-\uDEF8\uDF00-\uDF92\uDF94-\uDFCA]/,He=/[\0-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/,$e=/[\0-\x1F\x7F-\x9F]/,je=/[\xAD\u0600-\u0605\u061C\u06DD\u070F\u0890\u0891\u08E2\u180E\u200B-\u200F\u202A-\u202E\u2060-\u2064\u2066-\u206F\uFEFF\uFFF9-\uFFFB]|\uD804[\uDCBD\uDCCD]|\uD80D[\uDC30-\uDC3F]|\uD82F[\uDCA0-\uDCA3]|\uD834[\uDD73-\uDD7A]|\uDB40[\uDC01\uDC20-\uDC7F]/,Ze=/[ \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000]/,Ve=new Uint16Array('<\0\0\0\0\0\0EMabcfglmnoprstu\\bfmsligP&cutereve;iyx}rc;r;ravepha;acr;d;gpon;f;plyFunction;ingcsr;ign;ildemlaceforsucrkslash;;ed;y;crtause;noullis;a;r;pf;eve;cmpeq;HOacdefhilorsucy;PYcpyute;;italDifferentialD;leys;aeioron;dilrc;nint;ot;dnilla;terDot;i;rcleDMPTot;inus;lus;imes;ocskwiseContourIntegral;eCurlyDQoubleQuote;uote;lnpuon;e;gitruent;nt;ourIntegral;fr;oduct;nterClockwiseContourIntegral;oss;cr;p;Cap;DJSZacefios;otrahd;cy;cy;cy;grsger;r;hv;ayron;;l;ta;r;afcmriticalADGTcute;o;bleAcute;rave;ilde;ond;ferentialD;\0\0\0\0f;;DEot;qual;bleCDLRUVontourIntegrao\0\0nArrow;eoftARTrrow;ightArrow;engLReftARrrow;ightArrow;ightArrow;ightATrrow;ee;p\0\0rrow;ownArrow;erticalBar;nABLRTarrow;BUar;pArrow;reve;eft\0\0ightVector;eeVector;ector;Bar;ight\0eeVector;ector;Bar;ee;Arrow;ctr;rok;NTacdfglmopqstuxG;Hcuteaiyron;rc;ot;r;raveement;apcr;ty\0\0mallSquare;erySmallSquare;gpon;f;silon;uail;Tilde;librium;cir;m;a;mlipsts;onentialE;cfiosy;r;lled\0\0mallSquare;erySmallSquare;\0\0\0f;All;riertrf;cJTabcdfgorstcy;>mma;d;reve;eiydil;rc;;ot;r;;pf;eaterEFGLSTqual;Less;ullEqual;reater;ess;lantEqual;ilde;cr;;AacfiosuRDcy;ctek;;irc;r;lbertSpace;\0f;izontalLine;ctrok;mpownHumqual;EJOacdfgmnostucy;lig;cy;cuteiyrc;ot;r;rave;apcgr;inaryI;lie\0;egrral;section;isibleCTomma;imes;gpton;f;a;cr;ilde;\0cy;lcfosuiyrc;;r;pf;\0r;rcy;kcy;HJacfoscy;cy;ppa;eydil;;r;pf;cr;JTaceflmostcy;<cmnprute;bda;g;lacetrf;r;aeyron;dil;;fstACDFRTUVarnrgleBracket;row;BRar;ightArrow;eiling;o\0bleBracket;n\0eeVector;ector;Bar;loor;ightAVrrow;ector;ere;AVrrow;ector;iangle;BEar;qual;pDTVownVector;eeVector;ector;Bar;ector;Bar;ightsEFGLSTqualGreater;ullEqual;reater;ess;lantEqual;ilde;r;;eftarrow;idot;npwgLRlreftARrrow;ightArrow;ightArrow;eftarightightf;erLReftArrow;ightArrow;cht;rok;;acefiosup;y;dliumSpace;lintrf;r;nusPlus;pf;c;Jacefostucy;cute;aeyron;dil;;gswativeMTVediumSpace;hicneryThitedGLreaterGreateessLesLine;r;Bnptreak;BreakingSpace;f;;CDEGHLNPRSTVoungruent;pCap;oubleVerticalBar;lqxement;ual;Tilde;ists;reater;EFGLSTqual;ullEqual;reater;ess;lantEqual;ilde;umpownHump;qual;efstTriangle;BEar;qual;s;EGLSTqual;reater;ess;lantEqual;ilde;estedGLreaterGreater;essLess;recedes;ESqual;lantEqual;eiverseElement;ghtTriangle;BEar;qual;quuareSubpset;Equal;erset;Equal;bcpset;Equal;ceeds;ESTqual;lantEqual;ilde;erset;Equal;ilde;EFTqual;ullEqual;ilde;erticalBar;cr;ilde;Eacdfgmoprstuvlig;cuteiyrc;blac;r;raveaeicr;ga;cron;pf;enCurlyDQoubleQuote;uote;;clr;ashidees;mlerBParr;acek;et;arenthesis;acfhilorsrtialD;y;r;i;;usMinus;ipncareplanf;;eiocedes;ESTqual;lantEqual;ilde;me;dpuct;ortion;al;cir;;UfosOT"r;pf;cr;BEacefhiorsuarr;Gcnrute;g;r;tl;aeyron;dil;;;verseEUlqement;uilibrium;pEquilibrium;ro;ghtACDFTUVanrgleBracket;row;BLar;eftArrow;eiling;o\0bleBracket;n\0eeVector;ector;Bar;loor;ere;AVrrow;ector;iangle;BEar;qual;pDTVownVector;eeVector;ector;Bar;ector;Bar;puf;ndImplies;ightarrow;chr;;leDelayed;HOacfhimoqstuCcHcy;y;FTcy;cute;;aeiyron;dil;rc;;r;ortDLRUownArroweftArrowightArrowpArrow;gma;allCircle;pf;\0\0t;are;ISUntersection;ubpset;Equal;erset;Equal;nion;cr;ar;bcmp;set;Equal;cheeds;ESTqual;lantEqual;ilde;Th;;esrset;Equal;etHRSacfhiorsORNADE;Hccy;y;bu;;aeyron;dil;;r;ei\0efore;a;cnkSpace;Space;lde;EFTqual;ullEqual;ilde;pf;ipleDot;ctr;rok;\0\0\0\0\0\0\0cruter;ocir;r\0y;ve;iyrc;blac;r;raveacr;dierBParr;acek;et;arenthesis;on;Plus;gpon;f;ADETadpsrrow;BDar;ownArrow;ownArrow;quilibrium;ee;Arrow;ownerLReftArrow;ightArrow;i;lon;ing;cr;ilde;mlDbcdefosvash;ar;y;ash;l;er;btyar;;icalBLSTar;ine;eparator;ilde;ThinSpace;r;pf;cr;dash;cefosirc;dge;r;pf;cr;fiosr;;pf;cr;AIUacfosucy;cy;cy;cuteiyrc;;r;pf;cr;ml;Hacdefoscy;cute;ayron;;ot;\0oWidta;r;pf;cr;\0\0\0\0\0\0\0cutereve;;Ediuy;;rcte;lig;r;raveepfpsym;ha;apcclr;g;\0\0;adsvnd;;lope;;;elmrsz;esd;a;;;;;;;;t;vb;d;pth;arr;gpon;f;;Eaeiop;cir;;d;s;rox;eingctyr;;mp;eildemlcioninnt;Nabcdefiklnoprsuot;crkcepsong;psilon;rime;im;eq;ee;ed;gerk;tbrk;oy;quo;cmprtaus;eptyv;snoahw;;een;r;gcostuvwaiurc;pdptot;lus;imes;\0\0cup;ar;riangleduown;p;plus;earow;akocnklstozenge;riangle;dlrown;eft;ight;k;\0\0;;4;ck;eo;q=uiv;t;ptwxf;;tomtie;DHUVbdhmptuvLRlr;;;;;DUdu;;;;LRlr;;;;;HLRhlr;;;;;;ox;LRlr;;;;;DUdu;;;;inus;lus;imes;LRlr;;;;;HLRhlr;;;;;;evbarceior;mi;m;el;bh;sub;l;etp;Ee;;q\0\0\0\0\0\0\0\0\0\0cprute;;abcdsnd;rcup;aup;p;ot;;eot;aeiu\0s;on;dilrc;ps;sm;ot;dmnilptyv;t;err;ceiy;ck;mark;r;Ecefms;;elq;e\0\0rrowlreft;ight;RSacd;st;irc;ash;nint;id;cir;ubs;uit\0on;e;q\0\0a;t;;flemxente\0;dot;nfry;o;sr;aorr;ss;cur;bp;e;;e;dot;delprvwarrlr;;\0\0r;c;arr;p;;bcdosrcap;aup;p;ot;r;;alrvrr;m;yevwq\0\0reuee;edge;enearrowlreftightecioninnt;lcty;AHabcdefhijlorstuwzrar;glrsger;eth;h;varow;aayron;;;aogrr;tseq;glmta;ptyv;irsht;;arlraegsvm;osnd;suit;amma;in;;iode;ontimes;ncy;c\0\0rn;op;lptuwlar;f;;empsq;dot;inus;lus;quare;blebarwedgnadhownarrowarpoonlrefighkaro\0\0rn;op;cotry;;l;rok;drot;i;fahraangle;ciy;grarr;DacdefglmnopqrstuxDoocsuteter;aioyron;r;clon;;ot;Drot;;;rsave;dot;;ilsnters;;;dot;apscr;ty;svetp1;;;gs;p;gpon;f;alsr;sl;us;i;lvon;csuviorc\0\0antgltressaeils;st;v;DD;parsl;Daot;rr;cdir;oah;mrlo;cipl;seoctationential\0\0\0\0\0\0\0llingdotsey;male;ilrlig;\0\0g;ig;;lig;lig;fjaltt;ig;ns;of;\0f;ak;v;artint;aocs\0\0;;;;\0;;\0\0;;5;\0;;8;l;wn;cr;Eabcdefgijlnorstv;l;cmpute;ma;d;reve;iyrc;;ot;;lqs;qslan;cdlc;ot;o;l;;es;r;;gmel;cy;;Eaj;;;Eaes;p;prox;q;qim;pf;cir;m;el;;>;cdlqrci;r;ot;Par;uest;adels\0pror;qlqlesienrtneqq;Aabcefkosyrilmrrsfildrcy;;cwir;;ar;irc;alrrts;uitlip;con;r;sewarow;arow;amoprrr;tht;klreftarrow;ightarrow;f;bar;cltr;asrok;bpull;hen\0\0\0\0\0\0cute;iyrc;cxy;clfr;rave;inoinnt;t;fin;ta;lig;aopcgtr;elpinarh;f;ed;;cfotare;in;tie;do;celpal;grerarhk;rod;cgpty;on;f;a;uestcir;n;Edsv;ot;;v;;ilde;\0cy;lcfmosuiyrc;;r;ath;pf;\0r;rcy;kcy;acfghjosppa;v;eydil;;r;reen;cy;cy;pf;cr;ABEHabcdefghjlmnoprstuvartrail;arr;;g;ar;\0\0\0\0\0\0\0\0\0ute;mptyv;rabda;g;dl;;uor;bfhlpst;fs;s;p;l;im;l;;aeil;;s;abrrr;rk;akcek;;es;ldu;;aeuyron;diil;;cqrsa;uo;rduhar;shar;h;;fgqstahlrtrrow;taarpoonduownpeftarrows;ightahsrrow;sarpoonquigarrohreetimes;;qslan;cdgsc;ot;o;r;;es;adegspproot;qgqgtiilrsht;;;E;rdu;l;lk;cy;;achtrorneard;ri;iodot;ust;acheEaes;p;prox;q;qim;abnoptwznrg;r;rglmreftarightapsto;ightparrowlrefight;aflr;;us;imes;st;;efngear;lt;achmtrornear;d;;ri;achiqtquo;r;m;eg;;buo;r;rok;<;cdhilqrci;r;remes;arr;uest;Piar;;efrdushar;har;enrtneqq;DacdefhilnopsuDot;clprret;;ese;sto;dluowefker;oymma;;ash;asuredangler;o;cdnro;acdsir;otus;bd;u;p;dpels;f;ctr;pos;lmtimap;GLRVabcdefghijlmoprstuvwgt;;veltftarrrow;ightarrow;;;vightarrow;Ddash;ash;bcnptlaute;g;;Eiop;d;s;rour;al;s\0pmp;eaeouy\0;on;dil;ng;dot;p;;ash;;Aadqsxrr;rhrk;;oot;uieiar;ist;sr;Eest;qs;qslani;rAaprrr;ar;;sv;d;cy;AEadestr;rr;r;;fqstarrroightarro;qslan;si;ri;eiptf;;inn;Edv;ot;;;i;v;;aorr;astllel;;lint;;ceu;c;eAaitrrr;cw;;ghtarrowri;echimpqu;ceru;ort\0\0arm;e;qsubpbcp;Ees;et;eq;qc;e;Ees;et;eq;qgilrldeianglelreft;eight;e;m;esro;p;DHadgilrsash;arr;p;ash;et;;>nfin;Aetrr;;;r<ie;Atrr;rie;im;Aanrr;rhrk;;oear;\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0csuteiyr;c;abioslac;v;old;lig;crir;;\0\0\0n;ave;bmar;acitrirr;oss;n;aeicr;ga;cdnron;;pf;aelr;rp;;adiosvr;efmr;ofgof;r;lope;;cloashl;idees;as;mlbar;\0\0\0\0\0\0\0\0\0r;ast;lle\0\0m;;y;rcimptnt;od;il;enk;r;imo;v;mane;;tvchfork;aunckk;h;s;abcdemstcir;ir;ou;;nim;wo;ipuntint;f;nd;Eaceinosu;p;u;c;acenspprourlyeaespprox;qq;im;ime;sEasdfpalslar;ine;urf;;trel;cir;;ncsp;fiopsur;pf;rime;cr;aeoteirnionnt;st;eABHabcdefhilmnoprstuxartrail;arar;cdenqrteu;te;imptyv;g;del;;uor;abcfhlpstwp;;fs;;s;l;im;l;;aiil;o;nalabrrrk;akcek;;es;ldu;;aeuyron;diil;;clqsa;dhar;uo;rh;acgl;ipsnart;ilrsht;;aordu;l;;v;gnshtahlrstrrow;taarpoonduowpeftahrrowarpoonightarrows;quigarrohreetimes;g;ingdotseahmra;oust;achemid;abptnrg;r;raflr;;us;imes;apr;gt;olint;arachqquo;r;buo;rhirremes;i;efltri;luhar;;\0\0\0\0\0\0\0cute;qu;Eaceinpsy;\0;on;u;dil;rc;Eas;p;im;olint;i;ot;be;Aacmstxrr;rhr;oti;war;minnut;r;oacoyrp;hycy;;rt\0\0iaragmma;fv;;deglnprot;;q;E;;E;e;lus;arr;araeitlslsetmhp;parsl;dle;;e;s;flptcy;;b;ar;f;adres;uitcsuaup;s;p;s;ubp;eset;e;eset;e;afrarcemtr;tmiararr;fanighteppsilohsbcmnp;Edemnprs;ot;;dot;ult;Ee;;lus;arr;eiut;enq;qeq;qm;bp;;c;acenspprourlyeaespproqg;123;Edehlmnps;ost;ub;;dot;soul;b;arr;ult;Ee;;lus;eiut;enq;qeq;qm;bp;;Aanrr;rhr;owar;lig\0\0\0\0\0\0\0\0\0\0\0\0get;;raeyron;dil;;lrec;r;eiko\0e4fa;svym;cnkaspproimsasrnes;bd;ar;;eps;bcfot;ir;;ork;rime;aipdadempstngle;dlqrowneft;e;ight;eot;inus;lus;b;ime;ezium;chtry;;cy;rok;ioxheadlreftarroightarrowAHabcdfghlmoprstuwrar;cruter\0y;ve;iyrc;abhrlac;airsht;;raverlrlk;ct\0\0rn;erop;ri;alcr;gpon;f;adhlsuownarpoonlrefighi;hlonparrows;cit\0\0rn;erop;ng;ri;cr;dirot;lde;i;famrlangle;ABDacdeflnoprszrar;v;asnrgrt;eknprstappothinhirop;hiugmbpsetneq;q;setneq;q;hretianglelreftighty;ashelr;bear;q;lip;btar;trsubppf;rotrcur;bpnEenEeigzag;cefoprsirc;dibgar;e;q;erp;r;pf;;eatcr;\0\0\0\0\0\0\0trr;Aarr;Aarrais;dptfl;imAarrcqr;ptracefiosucuyte;iyrc;;nr;cy;pf;cr;cmy;lacdefhioswcute;ayron;;ot;ettra;r;cy;grarr;pf;cr;jn;j;'.split("").map(t=>t.charCodeAt(0))),Ue=new Uint16Array("aglq\t\0\0p;os;t;t;uot;".split("").map(t=>t.charCodeAt(0)));var We;const Ye=new Map([[0,65533],[128,8364],[130,8218],[131,402],[132,8222],[133,8230],[134,8224],[135,8225],[136,710],[137,8240],[138,352],[139,8249],[140,338],[142,381],[145,8216],[146,8217],[147,8220],[148,8221],[149,8226],[150,8211],[151,8212],[152,732],[153,8482],[154,353],[155,8250],[156,339],[158,382],[159,376]]),Xe=null!==(We=String.fromCodePoint)&&void 0!==We?We:function(t){let e="";return t>65535&&(t-=65536,e+=String.fromCharCode(t>>>10&1023|55296),t=56320|1023&t),e+=String.fromCharCode(t),e};var Je,Ke,Qe,tr,er;function rr(t){return t>=Je.ZERO&&t<=Je.NINE}function ir(t){return t>=Je.UPPER_A&&t<=Je.UPPER_F||t>=Je.LOWER_A&&t<=Je.LOWER_F}function nr(t){return t===Je.EQUALS||function(t){return t>=Je.UPPER_A&&t<=Je.UPPER_Z||t>=Je.LOWER_A&&t<=Je.LOWER_Z||rr(t)}(t)}!function(t){t[t.NUM=35]="NUM",t[t.SEMI=59]="SEMI",t[t.EQUALS=61]="EQUALS",t[t.ZERO=48]="ZERO",t[t.NINE=57]="NINE",t[t.LOWER_A=97]="LOWER_A",t[t.LOWER_F=102]="LOWER_F",t[t.LOWER_X=120]="LOWER_X",t[t.LOWER_Z=122]="LOWER_Z",t[t.UPPER_A=65]="UPPER_A",t[t.UPPER_F=70]="UPPER_F",t[t.UPPER_Z=90]="UPPER_Z"}(Je||(Je={})),function(t){t[t.VALUE_LENGTH=49152]="VALUE_LENGTH",t[t.BRANCH_LENGTH=16256]="BRANCH_LENGTH",t[t.JUMP_TABLE=127]="JUMP_TABLE"}(Ke||(Ke={})),function(t){t[t.EntityStart=0]="EntityStart",t[t.NumericStart=1]="NumericStart",t[t.NumericDecimal=2]="NumericDecimal",t[t.NumericHex=3]="NumericHex",t[t.NamedEntity=4]="NamedEntity"}(Qe||(Qe={})),(er=tr||(tr={}))[er.Legacy=0]="Legacy",er[er.Strict=1]="Strict",er[er.Attribute=2]="Attribute";class or{constructor(t,e,r){this.decodeTree=t,this.emitCodePoint=e,this.errors=r,this.state=Qe.EntityStart,this.consumed=1,this.result=0,this.treeIndex=0,this.excess=1,this.decodeMode=tr.Strict}startEntity(t){this.decodeMode=t,this.state=Qe.EntityStart,this.result=0,this.treeIndex=0,this.excess=1,this.consumed=1}write(t,e){switch(this.state){case Qe.EntityStart:return t.charCodeAt(e)===Je.NUM?(this.state=Qe.NumericStart,this.consumed+=1,this.stateNumericStart(t,e+1)):(this.state=Qe.NamedEntity,this.stateNamedEntity(t,e));case Qe.NumericStart:return this.stateNumericStart(t,e);case Qe.NumericDecimal:return this.stateNumericDecimal(t,e);case Qe.NumericHex:return this.stateNumericHex(t,e);case Qe.NamedEntity:return this.stateNamedEntity(t,e)}}stateNumericStart(t,e){return e>=t.length?-1:(32|t.charCodeAt(e))===Je.LOWER_X?(this.state=Qe.NumericHex,this.consumed+=1,this.stateNumericHex(t,e+1)):(this.state=Qe.NumericDecimal,this.stateNumericDecimal(t,e))}addToNumericResult(t,e,r,i){if(e!==r){const n=r-e;this.result=this.result*Math.pow(i,n)+parseInt(t.substr(e,n),i),this.consumed+=n}}stateNumericHex(t,e){const r=e;for(;e<t.length;){const i=t.charCodeAt(e);if(!rr(i)&&!ir(i))return this.addToNumericResult(t,r,e,16),this.emitNumericEntity(i,3);e+=1}return this.addToNumericResult(t,r,e,16),-1}stateNumericDecimal(t,e){const r=e;for(;e<t.length;){const i=t.charCodeAt(e);if(!rr(i))return this.addToNumericResult(t,r,e,10),this.emitNumericEntity(i,2);e+=1}return this.addToNumericResult(t,r,e,10),-1}emitNumericEntity(t,e){var r;if(this.consumed<=e)return null===(r=this.errors)||void 0===r||r.absenceOfDigitsInNumericCharacterReference(this.consumed),0;if(t===Je.SEMI)this.consumed+=1;else if(this.decodeMode===tr.Strict)return 0;return this.emitCodePoint(function(t){var e;return t>=55296&&t<=57343||t>1114111?65533:null!==(e=Ye.get(t))&&void 0!==e?e:t}(this.result),this.consumed),this.errors&&(t!==Je.SEMI&&this.errors.missingSemicolonAfterCharacterReference(),this.errors.validateNumericCharacterReference(this.result)),this.consumed}stateNamedEntity(t,e){const{decodeTree:r}=this;let i=r[this.treeIndex],n=(i&Ke.VALUE_LENGTH)>>14;for(;e<t.length;e++,this.excess++){const o=t.charCodeAt(e);if(this.treeIndex=ar(r,i,this.treeIndex+Math.max(1,n),o),this.treeIndex<0)return 0===this.result||this.decodeMode===tr.Attribute&&(0===n||nr(o))?0:this.emitNotTerminatedNamedEntity();if(i=r[this.treeIndex],n=(i&Ke.VALUE_LENGTH)>>14,0!==n){if(o===Je.SEMI)return this.emitNamedEntityData(this.treeIndex,n,this.consumed+this.excess);this.decodeMode!==tr.Strict&&(this.result=this.treeIndex,this.consumed+=this.excess,this.excess=0)}}return-1}emitNotTerminatedNamedEntity(){var t;const{result:e,decodeTree:r}=this,i=(r[e]&Ke.VALUE_LENGTH)>>14;return this.emitNamedEntityData(e,i,this.consumed),null===(t=this.errors)||void 0===t||t.missingSemicolonAfterCharacterReference(),this.consumed}emitNamedEntityData(t,e,r){const{decodeTree:i}=this;return this.emitCodePoint(1===e?i[t]&~Ke.VALUE_LENGTH:i[t+1],r),3===e&&this.emitCodePoint(i[t+2],r),r}end(){var t;switch(this.state){case Qe.NamedEntity:return 0===this.result||this.decodeMode===tr.Attribute&&this.result!==this.treeIndex?0:this.emitNotTerminatedNamedEntity();case Qe.NumericDecimal:return this.emitNumericEntity(0,2);case Qe.NumericHex:return this.emitNumericEntity(0,3);case Qe.NumericStart:return null===(t=this.errors)||void 0===t||t.absenceOfDigitsInNumericCharacterReference(this.consumed),0;case Qe.EntityStart:return 0}}}function sr(t){let e="";const r=new or(t,t=>e+=Xe(t));return function(t,i){let n=0,o=0;for(;(o=t.indexOf("&",o))>=0;){e+=t.slice(n,o),r.startEntity(i);const s=r.write(t,o+1);if(s<0){n=o+r.end();break}n=o+s,o=0===s?n+1:n}const s=e+t.slice(n);return e="",s}}function ar(t,e,r,i){const n=(e&Ke.BRANCH_LENGTH)>>7,o=e&Ke.JUMP_TABLE;if(0===n)return 0!==o&&i===o?r:-1;if(o){const e=i-o;return e<0||e>=n?-1:t[r+e]-1}let s=r,a=s+n-1;for(;s<=a;){const e=s+a>>>1,r=t[e];if(r<i)s=e+1;else{if(!(r>i))return t[e+n];a=e-1}}return-1}const lr=sr(Ve);function cr(t,e=tr.Legacy){return lr(t,e)}function ur(t){for(let e=1;e<t.length;e++)t[e][0]+=t[e-1][0]+1;return t}sr(Ue),new Map(ur([[9,"&Tab;"],[0,"&NewLine;"],[22,"&excl;"],[0,"&quot;"],[0,"&num;"],[0,"&dollar;"],[0,"&percnt;"],[0,"&amp;"],[0,"&apos;"],[0,"&lpar;"],[0,"&rpar;"],[0,"&ast;"],[0,"&plus;"],[0,"&comma;"],[1,"&period;"],[0,"&sol;"],[10,"&colon;"],[0,"&semi;"],[0,{v:"&lt;",n:8402,o:"&nvlt;"}],[0,{v:"&equals;",n:8421,o:"&bne;"}],[0,{v:"&gt;",n:8402,o:"&nvgt;"}],[0,"&quest;"],[0,"&commat;"],[26,"&lbrack;"],[0,"&bsol;"],[0,"&rbrack;"],[0,"&Hat;"],[0,"&lowbar;"],[0,"&DiacriticalGrave;"],[5,{n:106,o:"&fjlig;"}],[20,"&lbrace;"],[0,"&verbar;"],[0,"&rbrace;"],[34,"&nbsp;"],[0,"&iexcl;"],[0,"&cent;"],[0,"&pound;"],[0,"&curren;"],[0,"&yen;"],[0,"&brvbar;"],[0,"&sect;"],[0,"&die;"],[0,"&copy;"],[0,"&ordf;"],[0,"&laquo;"],[0,"&not;"],[0,"&shy;"],[0,"&circledR;"],[0,"&macr;"],[0,"&deg;"],[0,"&PlusMinus;"],[0,"&sup2;"],[0,"&sup3;"],[0,"&acute;"],[0,"&micro;"],[0,"&para;"],[0,"&centerdot;"],[0,"&cedil;"],[0,"&sup1;"],[0,"&ordm;"],[0,"&raquo;"],[0,"&frac14;"],[0,"&frac12;"],[0,"&frac34;"],[0,"&iquest;"],[0,"&Agrave;"],[0,"&Aacute;"],[0,"&Acirc;"],[0,"&Atilde;"],[0,"&Auml;"],[0,"&angst;"],[0,"&AElig;"],[0,"&Ccedil;"],[0,"&Egrave;"],[0,"&Eacute;"],[0,"&Ecirc;"],[0,"&Euml;"],[0,"&Igrave;"],[0,"&Iacute;"],[0,"&Icirc;"],[0,"&Iuml;"],[0,"&ETH;"],[0,"&Ntilde;"],[0,"&Ograve;"],[0,"&Oacute;"],[0,"&Ocirc;"],[0,"&Otilde;"],[0,"&Ouml;"],[0,"&times;"],[0,"&Oslash;"],[0,"&Ugrave;"],[0,"&Uacute;"],[0,"&Ucirc;"],[0,"&Uuml;"],[0,"&Yacute;"],[0,"&THORN;"],[0,"&szlig;"],[0,"&agrave;"],[0,"&aacute;"],[0,"&acirc;"],[0,"&atilde;"],[0,"&auml;"],[0,"&aring;"],[0,"&aelig;"],[0,"&ccedil;"],[0,"&egrave;"],[0,"&eacute;"],[0,"&ecirc;"],[0,"&euml;"],[0,"&igrave;"],[0,"&iacute;"],[0,"&icirc;"],[0,"&iuml;"],[0,"&eth;"],[0,"&ntilde;"],[0,"&ograve;"],[0,"&oacute;"],[0,"&ocirc;"],[0,"&otilde;"],[0,"&ouml;"],[0,"&div;"],[0,"&oslash;"],[0,"&ugrave;"],[0,"&uacute;"],[0,"&ucirc;"],[0,"&uuml;"],[0,"&yacute;"],[0,"&thorn;"],[0,"&yuml;"],[0,"&Amacr;"],[0,"&amacr;"],[0,"&Abreve;"],[0,"&abreve;"],[0,"&Aogon;"],[0,"&aogon;"],[0,"&Cacute;"],[0,"&cacute;"],[0,"&Ccirc;"],[0,"&ccirc;"],[0,"&Cdot;"],[0,"&cdot;"],[0,"&Ccaron;"],[0,"&ccaron;"],[0,"&Dcaron;"],[0,"&dcaron;"],[0,"&Dstrok;"],[0,"&dstrok;"],[0,"&Emacr;"],[0,"&emacr;"],[2,"&Edot;"],[0,"&edot;"],[0,"&Eogon;"],[0,"&eogon;"],[0,"&Ecaron;"],[0,"&ecaron;"],[0,"&Gcirc;"],[0,"&gcirc;"],[0,"&Gbreve;"],[0,"&gbreve;"],[0,"&Gdot;"],[0,"&gdot;"],[0,"&Gcedil;"],[1,"&Hcirc;"],[0,"&hcirc;"],[0,"&Hstrok;"],[0,"&hstrok;"],[0,"&Itilde;"],[0,"&itilde;"],[0,"&Imacr;"],[0,"&imacr;"],[2,"&Iogon;"],[0,"&iogon;"],[0,"&Idot;"],[0,"&imath;"],[0,"&IJlig;"],[0,"&ijlig;"],[0,"&Jcirc;"],[0,"&jcirc;"],[0,"&Kcedil;"],[0,"&kcedil;"],[0,"&kgreen;"],[0,"&Lacute;"],[0,"&lacute;"],[0,"&Lcedil;"],[0,"&lcedil;"],[0,"&Lcaron;"],[0,"&lcaron;"],[0,"&Lmidot;"],[0,"&lmidot;"],[0,"&Lstrok;"],[0,"&lstrok;"],[0,"&Nacute;"],[0,"&nacute;"],[0,"&Ncedil;"],[0,"&ncedil;"],[0,"&Ncaron;"],[0,"&ncaron;"],[0,"&napos;"],[0,"&ENG;"],[0,"&eng;"],[0,"&Omacr;"],[0,"&omacr;"],[2,"&Odblac;"],[0,"&odblac;"],[0,"&OElig;"],[0,"&oelig;"],[0,"&Racute;"],[0,"&racute;"],[0,"&Rcedil;"],[0,"&rcedil;"],[0,"&Rcaron;"],[0,"&rcaron;"],[0,"&Sacute;"],[0,"&sacute;"],[0,"&Scirc;"],[0,"&scirc;"],[0,"&Scedil;"],[0,"&scedil;"],[0,"&Scaron;"],[0,"&scaron;"],[0,"&Tcedil;"],[0,"&tcedil;"],[0,"&Tcaron;"],[0,"&tcaron;"],[0,"&Tstrok;"],[0,"&tstrok;"],[0,"&Utilde;"],[0,"&utilde;"],[0,"&Umacr;"],[0,"&umacr;"],[0,"&Ubreve;"],[0,"&ubreve;"],[0,"&Uring;"],[0,"&uring;"],[0,"&Udblac;"],[0,"&udblac;"],[0,"&Uogon;"],[0,"&uogon;"],[0,"&Wcirc;"],[0,"&wcirc;"],[0,"&Ycirc;"],[0,"&ycirc;"],[0,"&Yuml;"],[0,"&Zacute;"],[0,"&zacute;"],[0,"&Zdot;"],[0,"&zdot;"],[0,"&Zcaron;"],[0,"&zcaron;"],[19,"&fnof;"],[34,"&imped;"],[63,"&gacute;"],[65,"&jmath;"],[142,"&circ;"],[0,"&caron;"],[16,"&breve;"],[0,"&DiacriticalDot;"],[0,"&ring;"],[0,"&ogon;"],[0,"&DiacriticalTilde;"],[0,"&dblac;"],[51,"&DownBreve;"],[127,"&Alpha;"],[0,"&Beta;"],[0,"&Gamma;"],[0,"&Delta;"],[0,"&Epsilon;"],[0,"&Zeta;"],[0,"&Eta;"],[0,"&Theta;"],[0,"&Iota;"],[0,"&Kappa;"],[0,"&Lambda;"],[0,"&Mu;"],[0,"&Nu;"],[0,"&Xi;"],[0,"&Omicron;"],[0,"&Pi;"],[0,"&Rho;"],[1,"&Sigma;"],[0,"&Tau;"],[0,"&Upsilon;"],[0,"&Phi;"],[0,"&Chi;"],[0,"&Psi;"],[0,"&ohm;"],[7,"&alpha;"],[0,"&beta;"],[0,"&gamma;"],[0,"&delta;"],[0,"&epsi;"],[0,"&zeta;"],[0,"&eta;"],[0,"&theta;"],[0,"&iota;"],[0,"&kappa;"],[0,"&lambda;"],[0,"&mu;"],[0,"&nu;"],[0,"&xi;"],[0,"&omicron;"],[0,"&pi;"],[0,"&rho;"],[0,"&sigmaf;"],[0,"&sigma;"],[0,"&tau;"],[0,"&upsi;"],[0,"&phi;"],[0,"&chi;"],[0,"&psi;"],[0,"&omega;"],[7,"&thetasym;"],[0,"&Upsi;"],[2,"&phiv;"],[0,"&piv;"],[5,"&Gammad;"],[0,"&digamma;"],[18,"&kappav;"],[0,"&rhov;"],[3,"&epsiv;"],[0,"&backepsilon;"],[10,"&IOcy;"],[0,"&DJcy;"],[0,"&GJcy;"],[0,"&Jukcy;"],[0,"&DScy;"],[0,"&Iukcy;"],[0,"&YIcy;"],[0,"&Jsercy;"],[0,"&LJcy;"],[0,"&NJcy;"],[0,"&TSHcy;"],[0,"&KJcy;"],[1,"&Ubrcy;"],[0,"&DZcy;"],[0,"&Acy;"],[0,"&Bcy;"],[0,"&Vcy;"],[0,"&Gcy;"],[0,"&Dcy;"],[0,"&IEcy;"],[0,"&ZHcy;"],[0,"&Zcy;"],[0,"&Icy;"],[0,"&Jcy;"],[0,"&Kcy;"],[0,"&Lcy;"],[0,"&Mcy;"],[0,"&Ncy;"],[0,"&Ocy;"],[0,"&Pcy;"],[0,"&Rcy;"],[0,"&Scy;"],[0,"&Tcy;"],[0,"&Ucy;"],[0,"&Fcy;"],[0,"&KHcy;"],[0,"&TScy;"],[0,"&CHcy;"],[0,"&SHcy;"],[0,"&SHCHcy;"],[0,"&HARDcy;"],[0,"&Ycy;"],[0,"&SOFTcy;"],[0,"&Ecy;"],[0,"&YUcy;"],[0,"&YAcy;"],[0,"&acy;"],[0,"&bcy;"],[0,"&vcy;"],[0,"&gcy;"],[0,"&dcy;"],[0,"&iecy;"],[0,"&zhcy;"],[0,"&zcy;"],[0,"&icy;"],[0,"&jcy;"],[0,"&kcy;"],[0,"&lcy;"],[0,"&mcy;"],[0,"&ncy;"],[0,"&ocy;"],[0,"&pcy;"],[0,"&rcy;"],[0,"&scy;"],[0,"&tcy;"],[0,"&ucy;"],[0,"&fcy;"],[0,"&khcy;"],[0,"&tscy;"],[0,"&chcy;"],[0,"&shcy;"],[0,"&shchcy;"],[0,"&hardcy;"],[0,"&ycy;"],[0,"&softcy;"],[0,"&ecy;"],[0,"&yucy;"],[0,"&yacy;"],[1,"&iocy;"],[0,"&djcy;"],[0,"&gjcy;"],[0,"&jukcy;"],[0,"&dscy;"],[0,"&iukcy;"],[0,"&yicy;"],[0,"&jsercy;"],[0,"&ljcy;"],[0,"&njcy;"],[0,"&tshcy;"],[0,"&kjcy;"],[1,"&ubrcy;"],[0,"&dzcy;"],[7074,"&ensp;"],[0,"&emsp;"],[0,"&emsp13;"],[0,"&emsp14;"],[1,"&numsp;"],[0,"&puncsp;"],[0,"&ThinSpace;"],[0,"&hairsp;"],[0,"&NegativeMediumSpace;"],[0,"&zwnj;"],[0,"&zwj;"],[0,"&lrm;"],[0,"&rlm;"],[0,"&dash;"],[2,"&ndash;"],[0,"&mdash;"],[0,"&horbar;"],[0,"&Verbar;"],[1,"&lsquo;"],[0,"&CloseCurlyQuote;"],[0,"&lsquor;"],[1,"&ldquo;"],[0,"&CloseCurlyDoubleQuote;"],[0,"&bdquo;"],[1,"&dagger;"],[0,"&Dagger;"],[0,"&bull;"],[2,"&nldr;"],[0,"&hellip;"],[9,"&permil;"],[0,"&pertenk;"],[0,"&prime;"],[0,"&Prime;"],[0,"&tprime;"],[0,"&backprime;"],[3,"&lsaquo;"],[0,"&rsaquo;"],[3,"&oline;"],[2,"&caret;"],[1,"&hybull;"],[0,"&frasl;"],[10,"&bsemi;"],[7,"&qprime;"],[7,{v:"&MediumSpace;",n:8202,o:"&ThickSpace;"}],[0,"&NoBreak;"],[0,"&af;"],[0,"&InvisibleTimes;"],[0,"&ic;"],[72,"&euro;"],[46,"&tdot;"],[0,"&DotDot;"],[37,"&complexes;"],[2,"&incare;"],[4,"&gscr;"],[0,"&hamilt;"],[0,"&Hfr;"],[0,"&Hopf;"],[0,"&planckh;"],[0,"&hbar;"],[0,"&imagline;"],[0,"&Ifr;"],[0,"&lagran;"],[0,"&ell;"],[1,"&naturals;"],[0,"&numero;"],[0,"&copysr;"],[0,"&weierp;"],[0,"&Popf;"],[0,"&Qopf;"],[0,"&realine;"],[0,"&real;"],[0,"&reals;"],[0,"&rx;"],[3,"&trade;"],[1,"&integers;"],[2,"&mho;"],[0,"&zeetrf;"],[0,"&iiota;"],[2,"&bernou;"],[0,"&Cayleys;"],[1,"&escr;"],[0,"&Escr;"],[0,"&Fouriertrf;"],[1,"&Mellintrf;"],[0,"&order;"],[0,"&alefsym;"],[0,"&beth;"],[0,"&gimel;"],[0,"&daleth;"],[12,"&CapitalDifferentialD;"],[0,"&dd;"],[0,"&ee;"],[0,"&ii;"],[10,"&frac13;"],[0,"&frac23;"],[0,"&frac15;"],[0,"&frac25;"],[0,"&frac35;"],[0,"&frac45;"],[0,"&frac16;"],[0,"&frac56;"],[0,"&frac18;"],[0,"&frac38;"],[0,"&frac58;"],[0,"&frac78;"],[49,"&larr;"],[0,"&ShortUpArrow;"],[0,"&rarr;"],[0,"&darr;"],[0,"&harr;"],[0,"&updownarrow;"],[0,"&nwarr;"],[0,"&nearr;"],[0,"&LowerRightArrow;"],[0,"&LowerLeftArrow;"],[0,"&nlarr;"],[0,"&nrarr;"],[1,{v:"&rarrw;",n:824,o:"&nrarrw;"}],[0,"&Larr;"],[0,"&Uarr;"],[0,"&Rarr;"],[0,"&Darr;"],[0,"&larrtl;"],[0,"&rarrtl;"],[0,"&LeftTeeArrow;"],[0,"&mapstoup;"],[0,"&map;"],[0,"&DownTeeArrow;"],[1,"&hookleftarrow;"],[0,"&hookrightarrow;"],[0,"&larrlp;"],[0,"&looparrowright;"],[0,"&harrw;"],[0,"&nharr;"],[1,"&lsh;"],[0,"&rsh;"],[0,"&ldsh;"],[0,"&rdsh;"],[1,"&crarr;"],[0,"&cularr;"],[0,"&curarr;"],[2,"&circlearrowleft;"],[0,"&circlearrowright;"],[0,"&leftharpoonup;"],[0,"&DownLeftVector;"],[0,"&RightUpVector;"],[0,"&LeftUpVector;"],[0,"&rharu;"],[0,"&DownRightVector;"],[0,"&dharr;"],[0,"&dharl;"],[0,"&RightArrowLeftArrow;"],[0,"&udarr;"],[0,"&LeftArrowRightArrow;"],[0,"&leftleftarrows;"],[0,"&upuparrows;"],[0,"&rightrightarrows;"],[0,"&ddarr;"],[0,"&leftrightharpoons;"],[0,"&Equilibrium;"],[0,"&nlArr;"],[0,"&nhArr;"],[0,"&nrArr;"],[0,"&DoubleLeftArrow;"],[0,"&DoubleUpArrow;"],[0,"&DoubleRightArrow;"],[0,"&dArr;"],[0,"&DoubleLeftRightArrow;"],[0,"&DoubleUpDownArrow;"],[0,"&nwArr;"],[0,"&neArr;"],[0,"&seArr;"],[0,"&swArr;"],[0,"&lAarr;"],[0,"&rAarr;"],[1,"&zigrarr;"],[6,"&larrb;"],[0,"&rarrb;"],[15,"&DownArrowUpArrow;"],[7,"&loarr;"],[0,"&roarr;"],[0,"&hoarr;"],[0,"&forall;"],[0,"&comp;"],[0,{v:"&part;",n:824,o:"&npart;"}],[0,"&exist;"],[0,"&nexist;"],[0,"&empty;"],[1,"&Del;"],[0,"&Element;"],[0,"&NotElement;"],[1,"&ni;"],[0,"&notni;"],[2,"&prod;"],[0,"&coprod;"],[0,"&sum;"],[0,"&minus;"],[0,"&MinusPlus;"],[0,"&dotplus;"],[1,"&Backslash;"],[0,"&lowast;"],[0,"&compfn;"],[1,"&radic;"],[2,"&prop;"],[0,"&infin;"],[0,"&angrt;"],[0,{v:"&ang;",n:8402,o:"&nang;"}],[0,"&angmsd;"],[0,"&angsph;"],[0,"&mid;"],[0,"&nmid;"],[0,"&DoubleVerticalBar;"],[0,"&NotDoubleVerticalBar;"],[0,"&and;"],[0,"&or;"],[0,{v:"&cap;",n:65024,o:"&caps;"}],[0,{v:"&cup;",n:65024,o:"&cups;"}],[0,"&int;"],[0,"&Int;"],[0,"&iiint;"],[0,"&conint;"],[0,"&Conint;"],[0,"&Cconint;"],[0,"&cwint;"],[0,"&ClockwiseContourIntegral;"],[0,"&awconint;"],[0,"&there4;"],[0,"&becaus;"],[0,"&ratio;"],[0,"&Colon;"],[0,"&dotminus;"],[1,"&mDDot;"],[0,"&homtht;"],[0,{v:"&sim;",n:8402,o:"&nvsim;"}],[0,{v:"&backsim;",n:817,o:"&race;"}],[0,{v:"&ac;",n:819,o:"&acE;"}],[0,"&acd;"],[0,"&VerticalTilde;"],[0,"&NotTilde;"],[0,{v:"&eqsim;",n:824,o:"&nesim;"}],[0,"&sime;"],[0,"&NotTildeEqual;"],[0,"&cong;"],[0,"&simne;"],[0,"&ncong;"],[0,"&ap;"],[0,"&nap;"],[0,"&ape;"],[0,{v:"&apid;",n:824,o:"&napid;"}],[0,"&backcong;"],[0,{v:"&asympeq;",n:8402,o:"&nvap;"}],[0,{v:"&bump;",n:824,o:"&nbump;"}],[0,{v:"&bumpe;",n:824,o:"&nbumpe;"}],[0,{v:"&doteq;",n:824,o:"&nedot;"}],[0,"&doteqdot;"],[0,"&efDot;"],[0,"&erDot;"],[0,"&Assign;"],[0,"&ecolon;"],[0,"&ecir;"],[0,"&circeq;"],[1,"&wedgeq;"],[0,"&veeeq;"],[1,"&triangleq;"],[2,"&equest;"],[0,"&ne;"],[0,{v:"&Congruent;",n:8421,o:"&bnequiv;"}],[0,"&nequiv;"],[1,{v:"&le;",n:8402,o:"&nvle;"}],[0,{v:"&ge;",n:8402,o:"&nvge;"}],[0,{v:"&lE;",n:824,o:"&nlE;"}],[0,{v:"&gE;",n:824,o:"&ngE;"}],[0,{v:"&lnE;",n:65024,o:"&lvertneqq;"}],[0,{v:"&gnE;",n:65024,o:"&gvertneqq;"}],[0,{v:"&ll;",n:new Map(ur([[824,"&nLtv;"],[7577,"&nLt;"]]))}],[0,{v:"&gg;",n:new Map(ur([[824,"&nGtv;"],[7577,"&nGt;"]]))}],[0,"&between;"],[0,"&NotCupCap;"],[0,"&nless;"],[0,"&ngt;"],[0,"&nle;"],[0,"&nge;"],[0,"&lesssim;"],[0,"&GreaterTilde;"],[0,"&nlsim;"],[0,"&ngsim;"],[0,"&LessGreater;"],[0,"&gl;"],[0,"&NotLessGreater;"],[0,"&NotGreaterLess;"],[0,"&pr;"],[0,"&sc;"],[0,"&prcue;"],[0,"&sccue;"],[0,"&PrecedesTilde;"],[0,{v:"&scsim;",n:824,o:"&NotSucceedsTilde;"}],[0,"&NotPrecedes;"],[0,"&NotSucceeds;"],[0,{v:"&sub;",n:8402,o:"&NotSubset;"}],[0,{v:"&sup;",n:8402,o:"&NotSuperset;"}],[0,"&nsub;"],[0,"&nsup;"],[0,"&sube;"],[0,"&supe;"],[0,"&NotSubsetEqual;"],[0,"&NotSupersetEqual;"],[0,{v:"&subne;",n:65024,o:"&varsubsetneq;"}],[0,{v:"&supne;",n:65024,o:"&varsupsetneq;"}],[1,"&cupdot;"],[0,"&UnionPlus;"],[0,{v:"&sqsub;",n:824,o:"&NotSquareSubset;"}],[0,{v:"&sqsup;",n:824,o:"&NotSquareSuperset;"}],[0,"&sqsube;"],[0,"&sqsupe;"],[0,{v:"&sqcap;",n:65024,o:"&sqcaps;"}],[0,{v:"&sqcup;",n:65024,o:"&sqcups;"}],[0,"&CirclePlus;"],[0,"&CircleMinus;"],[0,"&CircleTimes;"],[0,"&osol;"],[0,"&CircleDot;"],[0,"&circledcirc;"],[0,"&circledast;"],[1,"&circleddash;"],[0,"&boxplus;"],[0,"&boxminus;"],[0,"&boxtimes;"],[0,"&dotsquare;"],[0,"&RightTee;"],[0,"&dashv;"],[0,"&DownTee;"],[0,"&bot;"],[1,"&models;"],[0,"&DoubleRightTee;"],[0,"&Vdash;"],[0,"&Vvdash;"],[0,"&VDash;"],[0,"&nvdash;"],[0,"&nvDash;"],[0,"&nVdash;"],[0,"&nVDash;"],[0,"&prurel;"],[1,"&LeftTriangle;"],[0,"&RightTriangle;"],[0,{v:"&LeftTriangleEqual;",n:8402,o:"&nvltrie;"}],[0,{v:"&RightTriangleEqual;",n:8402,o:"&nvrtrie;"}],[0,"&origof;"],[0,"&imof;"],[0,"&multimap;"],[0,"&hercon;"],[0,"&intcal;"],[0,"&veebar;"],[1,"&barvee;"],[0,"&angrtvb;"],[0,"&lrtri;"],[0,"&bigwedge;"],[0,"&bigvee;"],[0,"&bigcap;"],[0,"&bigcup;"],[0,"&diam;"],[0,"&sdot;"],[0,"&sstarf;"],[0,"&divideontimes;"],[0,"&bowtie;"],[0,"&ltimes;"],[0,"&rtimes;"],[0,"&leftthreetimes;"],[0,"&rightthreetimes;"],[0,"&backsimeq;"],[0,"&curlyvee;"],[0,"&curlywedge;"],[0,"&Sub;"],[0,"&Sup;"],[0,"&Cap;"],[0,"&Cup;"],[0,"&fork;"],[0,"&epar;"],[0,"&lessdot;"],[0,"&gtdot;"],[0,{v:"&Ll;",n:824,o:"&nLl;"}],[0,{v:"&Gg;",n:824,o:"&nGg;"}],[0,{v:"&leg;",n:65024,o:"&lesg;"}],[0,{v:"&gel;",n:65024,o:"&gesl;"}],[2,"&cuepr;"],[0,"&cuesc;"],[0,"&NotPrecedesSlantEqual;"],[0,"&NotSucceedsSlantEqual;"],[0,"&NotSquareSubsetEqual;"],[0,"&NotSquareSupersetEqual;"],[2,"&lnsim;"],[0,"&gnsim;"],[0,"&precnsim;"],[0,"&scnsim;"],[0,"&nltri;"],[0,"&NotRightTriangle;"],[0,"&nltrie;"],[0,"&NotRightTriangleEqual;"],[0,"&vellip;"],[0,"&ctdot;"],[0,"&utdot;"],[0,"&dtdot;"],[0,"&disin;"],[0,"&isinsv;"],[0,"&isins;"],[0,{v:"&isindot;",n:824,o:"&notindot;"}],[0,"&notinvc;"],[0,"&notinvb;"],[1,{v:"&isinE;",n:824,o:"&notinE;"}],[0,"&nisd;"],[0,"&xnis;"],[0,"&nis;"],[0,"&notnivc;"],[0,"&notnivb;"],[6,"&barwed;"],[0,"&Barwed;"],[1,"&lceil;"],[0,"&rceil;"],[0,"&LeftFloor;"],[0,"&rfloor;"],[0,"&drcrop;"],[0,"&dlcrop;"],[0,"&urcrop;"],[0,"&ulcrop;"],[0,"&bnot;"],[1,"&profline;"],[0,"&profsurf;"],[1,"&telrec;"],[0,"&target;"],[5,"&ulcorn;"],[0,"&urcorn;"],[0,"&dlcorn;"],[0,"&drcorn;"],[2,"&frown;"],[0,"&smile;"],[9,"&cylcty;"],[0,"&profalar;"],[7,"&topbot;"],[6,"&ovbar;"],[1,"&solbar;"],[60,"&angzarr;"],[51,"&lmoustache;"],[0,"&rmoustache;"],[2,"&OverBracket;"],[0,"&bbrk;"],[0,"&bbrktbrk;"],[37,"&OverParenthesis;"],[0,"&UnderParenthesis;"],[0,"&OverBrace;"],[0,"&UnderBrace;"],[2,"&trpezium;"],[4,"&elinters;"],[59,"&blank;"],[164,"&circledS;"],[55,"&boxh;"],[1,"&boxv;"],[9,"&boxdr;"],[3,"&boxdl;"],[3,"&boxur;"],[3,"&boxul;"],[3,"&boxvr;"],[7,"&boxvl;"],[7,"&boxhd;"],[7,"&boxhu;"],[7,"&boxvh;"],[19,"&boxH;"],[0,"&boxV;"],[0,"&boxdR;"],[0,"&boxDr;"],[0,"&boxDR;"],[0,"&boxdL;"],[0,"&boxDl;"],[0,"&boxDL;"],[0,"&boxuR;"],[0,"&boxUr;"],[0,"&boxUR;"],[0,"&boxuL;"],[0,"&boxUl;"],[0,"&boxUL;"],[0,"&boxvR;"],[0,"&boxVr;"],[0,"&boxVR;"],[0,"&boxvL;"],[0,"&boxVl;"],[0,"&boxVL;"],[0,"&boxHd;"],[0,"&boxhD;"],[0,"&boxHD;"],[0,"&boxHu;"],[0,"&boxhU;"],[0,"&boxHU;"],[0,"&boxvH;"],[0,"&boxVh;"],[0,"&boxVH;"],[19,"&uhblk;"],[3,"&lhblk;"],[3,"&block;"],[8,"&blk14;"],[0,"&blk12;"],[0,"&blk34;"],[13,"&square;"],[8,"&blacksquare;"],[0,"&EmptyVerySmallSquare;"],[1,"&rect;"],[0,"&marker;"],[2,"&fltns;"],[1,"&bigtriangleup;"],[0,"&blacktriangle;"],[0,"&triangle;"],[2,"&blacktriangleright;"],[0,"&rtri;"],[3,"&bigtriangledown;"],[0,"&blacktriangledown;"],[0,"&dtri;"],[2,"&blacktriangleleft;"],[0,"&ltri;"],[6,"&loz;"],[0,"&cir;"],[32,"&tridot;"],[2,"&bigcirc;"],[8,"&ultri;"],[0,"&urtri;"],[0,"&lltri;"],[0,"&EmptySmallSquare;"],[0,"&FilledSmallSquare;"],[8,"&bigstar;"],[0,"&star;"],[7,"&phone;"],[49,"&female;"],[1,"&male;"],[29,"&spades;"],[2,"&clubs;"],[1,"&hearts;"],[0,"&diamondsuit;"],[3,"&sung;"],[2,"&flat;"],[0,"&natural;"],[0,"&sharp;"],[163,"&check;"],[3,"&cross;"],[8,"&malt;"],[21,"&sext;"],[33,"&VerticalSeparator;"],[25,"&lbbrk;"],[0,"&rbbrk;"],[84,"&bsolhsub;"],[0,"&suphsol;"],[28,"&LeftDoubleBracket;"],[0,"&RightDoubleBracket;"],[0,"&lang;"],[0,"&rang;"],[0,"&Lang;"],[0,"&Rang;"],[0,"&loang;"],[0,"&roang;"],[7,"&longleftarrow;"],[0,"&longrightarrow;"],[0,"&longleftrightarrow;"],[0,"&DoubleLongLeftArrow;"],[0,"&DoubleLongRightArrow;"],[0,"&DoubleLongLeftRightArrow;"],[1,"&longmapsto;"],[2,"&dzigrarr;"],[258,"&nvlArr;"],[0,"&nvrArr;"],[0,"&nvHarr;"],[0,"&Map;"],[6,"&lbarr;"],[0,"&bkarow;"],[0,"&lBarr;"],[0,"&dbkarow;"],[0,"&drbkarow;"],[0,"&DDotrahd;"],[0,"&UpArrowBar;"],[0,"&DownArrowBar;"],[2,"&Rarrtl;"],[2,"&latail;"],[0,"&ratail;"],[0,"&lAtail;"],[0,"&rAtail;"],[0,"&larrfs;"],[0,"&rarrfs;"],[0,"&larrbfs;"],[0,"&rarrbfs;"],[2,"&nwarhk;"],[0,"&nearhk;"],[0,"&hksearow;"],[0,"&hkswarow;"],[0,"&nwnear;"],[0,"&nesear;"],[0,"&seswar;"],[0,"&swnwar;"],[8,{v:"&rarrc;",n:824,o:"&nrarrc;"}],[1,"&cudarrr;"],[0,"&ldca;"],[0,"&rdca;"],[0,"&cudarrl;"],[0,"&larrpl;"],[2,"&curarrm;"],[0,"&cularrp;"],[7,"&rarrpl;"],[2,"&harrcir;"],[0,"&Uarrocir;"],[0,"&lurdshar;"],[0,"&ldrushar;"],[2,"&LeftRightVector;"],[0,"&RightUpDownVector;"],[0,"&DownLeftRightVector;"],[0,"&LeftUpDownVector;"],[0,"&LeftVectorBar;"],[0,"&RightVectorBar;"],[0,"&RightUpVectorBar;"],[0,"&RightDownVectorBar;"],[0,"&DownLeftVectorBar;"],[0,"&DownRightVectorBar;"],[0,"&LeftUpVectorBar;"],[0,"&LeftDownVectorBar;"],[0,"&LeftTeeVector;"],[0,"&RightTeeVector;"],[0,"&RightUpTeeVector;"],[0,"&RightDownTeeVector;"],[0,"&DownLeftTeeVector;"],[0,"&DownRightTeeVector;"],[0,"&LeftUpTeeVector;"],[0,"&LeftDownTeeVector;"],[0,"&lHar;"],[0,"&uHar;"],[0,"&rHar;"],[0,"&dHar;"],[0,"&luruhar;"],[0,"&ldrdhar;"],[0,"&ruluhar;"],[0,"&rdldhar;"],[0,"&lharul;"],[0,"&llhard;"],[0,"&rharul;"],[0,"&lrhard;"],[0,"&udhar;"],[0,"&duhar;"],[0,"&RoundImplies;"],[0,"&erarr;"],[0,"&simrarr;"],[0,"&larrsim;"],[0,"&rarrsim;"],[0,"&rarrap;"],[0,"&ltlarr;"],[1,"&gtrarr;"],[0,"&subrarr;"],[1,"&suplarr;"],[0,"&lfisht;"],[0,"&rfisht;"],[0,"&ufisht;"],[0,"&dfisht;"],[5,"&lopar;"],[0,"&ropar;"],[4,"&lbrke;"],[0,"&rbrke;"],[0,"&lbrkslu;"],[0,"&rbrksld;"],[0,"&lbrksld;"],[0,"&rbrkslu;"],[0,"&langd;"],[0,"&rangd;"],[0,"&lparlt;"],[0,"&rpargt;"],[0,"&gtlPar;"],[0,"&ltrPar;"],[3,"&vzigzag;"],[1,"&vangrt;"],[0,"&angrtvbd;"],[6,"&ange;"],[0,"&range;"],[0,"&dwangle;"],[0,"&uwangle;"],[0,"&angmsdaa;"],[0,"&angmsdab;"],[0,"&angmsdac;"],[0,"&angmsdad;"],[0,"&angmsdae;"],[0,"&angmsdaf;"],[0,"&angmsdag;"],[0,"&angmsdah;"],[0,"&bemptyv;"],[0,"&demptyv;"],[0,"&cemptyv;"],[0,"&raemptyv;"],[0,"&laemptyv;"],[0,"&ohbar;"],[0,"&omid;"],[0,"&opar;"],[1,"&operp;"],[1,"&olcross;"],[0,"&odsold;"],[1,"&olcir;"],[0,"&ofcir;"],[0,"&olt;"],[0,"&ogt;"],[0,"&cirscir;"],[0,"&cirE;"],[0,"&solb;"],[0,"&bsolb;"],[3,"&boxbox;"],[3,"&trisb;"],[0,"&rtriltri;"],[0,{v:"&LeftTriangleBar;",n:824,o:"&NotLeftTriangleBar;"}],[0,{v:"&RightTriangleBar;",n:824,o:"&NotRightTriangleBar;"}],[11,"&iinfin;"],[0,"&infintie;"],[0,"&nvinfin;"],[4,"&eparsl;"],[0,"&smeparsl;"],[0,"&eqvparsl;"],[5,"&blacklozenge;"],[8,"&RuleDelayed;"],[1,"&dsol;"],[9,"&bigodot;"],[0,"&bigoplus;"],[0,"&bigotimes;"],[1,"&biguplus;"],[1,"&bigsqcup;"],[5,"&iiiint;"],[0,"&fpartint;"],[2,"&cirfnint;"],[0,"&awint;"],[0,"&rppolint;"],[0,"&scpolint;"],[0,"&npolint;"],[0,"&pointint;"],[0,"&quatint;"],[0,"&intlarhk;"],[10,"&pluscir;"],[0,"&plusacir;"],[0,"&simplus;"],[0,"&plusdu;"],[0,"&plussim;"],[0,"&plustwo;"],[1,"&mcomma;"],[0,"&minusdu;"],[2,"&loplus;"],[0,"&roplus;"],[0,"&Cross;"],[0,"&timesd;"],[0,"&timesbar;"],[1,"&smashp;"],[0,"&lotimes;"],[0,"&rotimes;"],[0,"&otimesas;"],[0,"&Otimes;"],[0,"&odiv;"],[0,"&triplus;"],[0,"&triminus;"],[0,"&tritime;"],[0,"&intprod;"],[2,"&amalg;"],[0,"&capdot;"],[1,"&ncup;"],[0,"&ncap;"],[0,"&capand;"],[0,"&cupor;"],[0,"&cupcap;"],[0,"&capcup;"],[0,"&cupbrcap;"],[0,"&capbrcup;"],[0,"&cupcup;"],[0,"&capcap;"],[0,"&ccups;"],[0,"&ccaps;"],[2,"&ccupssm;"],[2,"&And;"],[0,"&Or;"],[0,"&andand;"],[0,"&oror;"],[0,"&orslope;"],[0,"&andslope;"],[1,"&andv;"],[0,"&orv;"],[0,"&andd;"],[0,"&ord;"],[1,"&wedbar;"],[6,"&sdote;"],[3,"&simdot;"],[2,{v:"&congdot;",n:824,o:"&ncongdot;"}],[0,"&easter;"],[0,"&apacir;"],[0,{v:"&apE;",n:824,o:"&napE;"}],[0,"&eplus;"],[0,"&pluse;"],[0,"&Esim;"],[0,"&Colone;"],[0,"&Equal;"],[1,"&ddotseq;"],[0,"&equivDD;"],[0,"&ltcir;"],[0,"&gtcir;"],[0,"&ltquest;"],[0,"&gtquest;"],[0,{v:"&leqslant;",n:824,o:"&nleqslant;"}],[0,{v:"&geqslant;",n:824,o:"&ngeqslant;"}],[0,"&lesdot;"],[0,"&gesdot;"],[0,"&lesdoto;"],[0,"&gesdoto;"],[0,"&lesdotor;"],[0,"&gesdotol;"],[0,"&lap;"],[0,"&gap;"],[0,"&lne;"],[0,"&gne;"],[0,"&lnap;"],[0,"&gnap;"],[0,"&lEg;"],[0,"&gEl;"],[0,"&lsime;"],[0,"&gsime;"],[0,"&lsimg;"],[0,"&gsiml;"],[0,"&lgE;"],[0,"&glE;"],[0,"&lesges;"],[0,"&gesles;"],[0,"&els;"],[0,"&egs;"],[0,"&elsdot;"],[0,"&egsdot;"],[0,"&el;"],[0,"&eg;"],[2,"&siml;"],[0,"&simg;"],[0,"&simlE;"],[0,"&simgE;"],[0,{v:"&LessLess;",n:824,o:"&NotNestedLessLess;"}],[0,{v:"&GreaterGreater;",n:824,o:"&NotNestedGreaterGreater;"}],[1,"&glj;"],[0,"&gla;"],[0,"&ltcc;"],[0,"&gtcc;"],[0,"&lescc;"],[0,"&gescc;"],[0,"&smt;"],[0,"&lat;"],[0,{v:"&smte;",n:65024,o:"&smtes;"}],[0,{v:"&late;",n:65024,o:"&lates;"}],[0,"&bumpE;"],[0,{v:"&PrecedesEqual;",n:824,o:"&NotPrecedesEqual;"}],[0,{v:"&sce;",n:824,o:"&NotSucceedsEqual;"}],[2,"&prE;"],[0,"&scE;"],[0,"&precneqq;"],[0,"&scnE;"],[0,"&prap;"],[0,"&scap;"],[0,"&precnapprox;"],[0,"&scnap;"],[0,"&Pr;"],[0,"&Sc;"],[0,"&subdot;"],[0,"&supdot;"],[0,"&subplus;"],[0,"&supplus;"],[0,"&submult;"],[0,"&supmult;"],[0,"&subedot;"],[0,"&supedot;"],[0,{v:"&subE;",n:824,o:"&nsubE;"}],[0,{v:"&supE;",n:824,o:"&nsupE;"}],[0,"&subsim;"],[0,"&supsim;"],[2,{v:"&subnE;",n:65024,o:"&varsubsetneqq;"}],[0,{v:"&supnE;",n:65024,o:"&varsupsetneqq;"}],[2,"&csub;"],[0,"&csup;"],[0,"&csube;"],[0,"&csupe;"],[0,"&subsup;"],[0,"&supsub;"],[0,"&subsub;"],[0,"&supsup;"],[0,"&suphsub;"],[0,"&supdsub;"],[0,"&forkv;"],[0,"&topfork;"],[0,"&mlcp;"],[8,"&Dashv;"],[1,"&Vdashl;"],[0,"&Barv;"],[0,"&vBar;"],[0,"&vBarv;"],[1,"&Vbar;"],[0,"&Not;"],[0,"&bNot;"],[0,"&rnmid;"],[0,"&cirmid;"],[0,"&midcir;"],[0,"&topcir;"],[0,"&nhpar;"],[0,"&parsim;"],[9,{v:"&parsl;",n:8421,o:"&nparsl;"}],[44343,{n:new Map(ur([[56476,"&Ascr;"],[1,"&Cscr;"],[0,"&Dscr;"],[2,"&Gscr;"],[2,"&Jscr;"],[0,"&Kscr;"],[2,"&Nscr;"],[0,"&Oscr;"],[0,"&Pscr;"],[0,"&Qscr;"],[1,"&Sscr;"],[0,"&Tscr;"],[0,"&Uscr;"],[0,"&Vscr;"],[0,"&Wscr;"],[0,"&Xscr;"],[0,"&Yscr;"],[0,"&Zscr;"],[0,"&ascr;"],[0,"&bscr;"],[0,"&cscr;"],[0,"&dscr;"],[1,"&fscr;"],[1,"&hscr;"],[0,"&iscr;"],[0,"&jscr;"],[0,"&kscr;"],[0,"&lscr;"],[0,"&mscr;"],[0,"&nscr;"],[1,"&pscr;"],[0,"&qscr;"],[0,"&rscr;"],[0,"&sscr;"],[0,"&tscr;"],[0,"&uscr;"],[0,"&vscr;"],[0,"&wscr;"],[0,"&xscr;"],[0,"&yscr;"],[0,"&zscr;"],[52,"&Afr;"],[0,"&Bfr;"],[1,"&Dfr;"],[0,"&Efr;"],[0,"&Ffr;"],[0,"&Gfr;"],[2,"&Jfr;"],[0,"&Kfr;"],[0,"&Lfr;"],[0,"&Mfr;"],[0,"&Nfr;"],[0,"&Ofr;"],[0,"&Pfr;"],[0,"&Qfr;"],[1,"&Sfr;"],[0,"&Tfr;"],[0,"&Ufr;"],[0,"&Vfr;"],[0,"&Wfr;"],[0,"&Xfr;"],[0,"&Yfr;"],[1,"&afr;"],[0,"&bfr;"],[0,"&cfr;"],[0,"&dfr;"],[0,"&efr;"],[0,"&ffr;"],[0,"&gfr;"],[0,"&hfr;"],[0,"&ifr;"],[0,"&jfr;"],[0,"&kfr;"],[0,"&lfr;"],[0,"&mfr;"],[0,"&nfr;"],[0,"&ofr;"],[0,"&pfr;"],[0,"&qfr;"],[0,"&rfr;"],[0,"&sfr;"],[0,"&tfr;"],[0,"&ufr;"],[0,"&vfr;"],[0,"&wfr;"],[0,"&xfr;"],[0,"&yfr;"],[0,"&zfr;"],[0,"&Aopf;"],[0,"&Bopf;"],[1,"&Dopf;"],[0,"&Eopf;"],[0,"&Fopf;"],[0,"&Gopf;"],[1,"&Iopf;"],[0,"&Jopf;"],[0,"&Kopf;"],[0,"&Lopf;"],[0,"&Mopf;"],[1,"&Oopf;"],[3,"&Sopf;"],[0,"&Topf;"],[0,"&Uopf;"],[0,"&Vopf;"],[0,"&Wopf;"],[0,"&Xopf;"],[0,"&Yopf;"],[1,"&aopf;"],[0,"&bopf;"],[0,"&copf;"],[0,"&dopf;"],[0,"&eopf;"],[0,"&fopf;"],[0,"&gopf;"],[0,"&hopf;"],[0,"&iopf;"],[0,"&jopf;"],[0,"&kopf;"],[0,"&lopf;"],[0,"&mopf;"],[0,"&nopf;"],[0,"&oopf;"],[0,"&popf;"],[0,"&qopf;"],[0,"&ropf;"],[0,"&sopf;"],[0,"&topf;"],[0,"&uopf;"],[0,"&vopf;"],[0,"&wopf;"],[0,"&xopf;"],[0,"&yopf;"],[0,"&zopf;"]]))}],[8906,"&fflig;"],[0,"&filig;"],[0,"&fllig;"],[0,"&ffilig;"],[0,"&ffllig;"]]));const hr=new Map([[34,"&quot;"],[38,"&amp;"],[39,"&apos;"],[60,"&lt;"],[62,"&gt;"]]);function dr(t,e){return function(r){let i,n=0,o="";for(;i=t.exec(r);)n!==i.index&&(o+=r.substring(n,i.index)),o+=e.get(i[0].charCodeAt(0)),n=i.index+1;return o+r.substring(n)}}var pr,gr;function fr(t){return"[object String]"===function(t){return Object.prototype.toString.call(t)}(t)}String.prototype.codePointAt,dr(/[&<>'"]/g,hr),dr(/["&\u00A0]/g,new Map([[34,"&quot;"],[38,"&amp;"],[160,"&nbsp;"]])),dr(/[&<>\u00A0]/g,new Map([[38,"&amp;"],[60,"&lt;"],[62,"&gt;"],[160,"&nbsp;"]])),function(t){t[t.XML=0]="XML",t[t.HTML=1]="HTML"}(pr||(pr={})),function(t){t[t.UTF8=0]="UTF8",t[t.ASCII=1]="ASCII",t[t.Extensive=2]="Extensive",t[t.Attribute=3]="Attribute",t[t.Text=4]="Text"}(gr||(gr={}));const mr=Object.prototype.hasOwnProperty;function yr(t,e){return mr.call(t,e)}function br(t){return Array.prototype.slice.call(arguments,1).forEach(function(e){if(e){if("object"!=typeof e)throw new TypeError(e+"must be object");Object.keys(e).forEach(function(r){t[r]=e[r]})}}),t}function vr(t,e,r){return[].concat(t.slice(0,e),r,t.slice(e+1))}function _r(t){return!(t>=55296&&t<=57343||t>=64976&&t<=65007||!(65535&~t&&65534!=(65535&t))||t>=0&&t<=8||11===t||t>=14&&t<=31||t>=127&&t<=159||t>1114111)}function Cr(t){if(t>65535){const e=55296+((t-=65536)>>10),r=56320+(1023&t);return String.fromCharCode(e,r)}return String.fromCharCode(t)}const kr=/\\([!"#$%&'()*+,\-./:;<=>?@[\\\]^_`{|}~])/g,wr=new RegExp(kr.source+"|"+/&([a-z#][a-z0-9]{1,31});/gi.source,"gi"),Er=/^#((?:x[a-f0-9]{1,8}|[0-9]{1,8}))$/i;function xr(t){return t.indexOf("\\")<0?t:t.replace(kr,"$1")}function Sr(t){return t.indexOf("\\")<0&&t.indexOf("&")<0?t:t.replace(wr,function(t,e,r){return e||function(t,e){if(35===e.charCodeAt(0)&&Er.test(e)){const r="x"===e[1].toLowerCase()?parseInt(e.slice(2),16):parseInt(e.slice(1),10);return _r(r)?Cr(r):t}const r=cr(t);return r!==t?r:t}(t,r)})}const Ar=/[&<>"]/,Dr=/[&<>"]/g,Ir={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;"};function Fr(t){return Ir[t]}function Lr(t){return Ar.test(t)?t.replace(Dr,Fr):t}const Tr=/[.?*+^$[\]\\(){}|-]/g;function zr(t){return t.replace(Tr,"\\$&")}function Mr(t){switch(t){case 9:case 32:return!0}return!1}function qr(t){if(t>=8192&&t<=8202)return!0;switch(t){case 9:case 10:case 11:case 12:case 13:case 32:case 160:case 5760:case 8239:case 8287:case 12288:return!0}return!1}function Or(t){return Re.test(t)||Ge.test(t)}function Br(t){switch(t){case 33:case 34:case 35:case 36:case 37:case 38:case 39:case 40:case 41:case 42:case 43:case 44:case 45:case 46:case 47:case 58:case 59:case 60:case 61:case 62:case 63:case 64:case 91:case 92:case 93:case 94:case 95:case 96:case 123:case 124:case 125:case 126:return!0;default:return!1}}function Pr(t){return t=t.trim().replace(/\s+/g," "),""==="".toLowerCase()&&(t=t.replace(//g,"")),t.toLowerCase().toUpperCase()}const Nr={mdurl:t,ucmicro:e};function Rr(t,e,r){let i,n,o,s;const a=t.posMax,l=t.pos;for(t.pos=e+1,i=1;t.pos<a;){if(o=t.src.charCodeAt(t.pos),93===o&&(i--,0===i)){n=!0;break}if(s=t.pos,t.md.inline.skipToken(t),91===o)if(s===t.pos-1)i++;else if(r)return t.pos=l,-1}let c=-1;return n&&(c=t.pos),t.pos=l,c}function Gr(t,e,r){let i,n=e;const o={ok:!1,pos:0,str:""};if(60===t.charCodeAt(n)){for(n++;n<r;){if(i=t.charCodeAt(n),10===i)return o;if(60===i)return o;if(62===i)return o.pos=n+1,o.str=Sr(t.slice(e+1,n)),o.ok=!0,o;92===i&&n+1<r?n+=2:n++}return o}let s=0;for(;n<r&&(i=t.charCodeAt(n),32!==i)&&!(i<32||127===i);)if(92===i&&n+1<r){if(32===t.charCodeAt(n+1))break;n+=2}else{if(40===i&&(s++,s>32))return o;if(41===i){if(0===s)break;s--}n++}return e===n||0!==s||(o.str=Sr(t.slice(e,n)),o.pos=n,o.ok=!0),o}function Hr(t,e,r,i){let n,o=e;const s={ok:!1,can_continue:!1,pos:0,str:"",marker:0};if(i)s.str=i.str,s.marker=i.marker;else{if(o>=r)return s;let i=t.charCodeAt(o);if(34!==i&&39!==i&&40!==i)return s;e++,o++,40===i&&(i=41),s.marker=i}for(;o<r;){if(n=t.charCodeAt(o),n===s.marker)return s.pos=o+1,s.str+=Sr(t.slice(e,o)),s.ok=!0,s;if(40===n&&41===s.marker)return s;92===n&&o+1<r&&o++,o++}return s.can_continue=!0,s.str+=Sr(t.slice(e,o)),s}const $r={};function jr(){this.rules=br({},$r)}$r.code_inline=function(t,e,r,i,n){const o=t[e];return"<code"+n.renderAttrs(o)+">"+Lr(o.content)+"</code>"},$r.code_block=function(t,e,r,i,n){const o=t[e];return"<pre"+n.renderAttrs(o)+"><code>"+Lr(t[e].content)+"</code></pre>\n"},$r.fence=function(t,e,r,i,n){const o=t[e],s=o.info?Sr(o.info).trim():"";let a,l="",c="";if(s){const t=s.split(/(\s+)/g);l=t[0],c=t.slice(2).join("")}if(a=r.highlight&&r.highlight(o.content,l,c)||Lr(o.content),0===a.indexOf("<pre"))return a+"\n";if(s){const t=o.attrIndex("class"),e=o.attrs?o.attrs.slice():[];t<0?e.push(["class",r.langPrefix+l]):(e[t]=e[t].slice(),e[t][1]+=" "+r.langPrefix+l);const i={attrs:e};return`<pre><code${n.renderAttrs(i)}>${a}</code></pre>\n`}return`<pre><code${n.renderAttrs(o)}>${a}</code></pre>\n`},$r.image=function(t,e,r,i,n){const o=t[e];return o.attrs[o.attrIndex("alt")][1]=n.renderInlineAsText(o.children,r,i),n.renderToken(t,e,r)},$r.hardbreak=function(t,e,r){return r.xhtmlOut?"<br />\n":"<br>\n"},$r.softbreak=function(t,e,r){return r.breaks?r.xhtmlOut?"<br />\n":"<br>\n":"\n"},$r.text=function(t,e){return Lr(t[e].content)},$r.html_block=function(t,e){return t[e].content},$r.html_inline=function(t,e){return t[e].content},jr.prototype.renderAttrs=function(t){let e,r,i;if(!t.attrs)return"";for(i="",e=0,r=t.attrs.length;e<r;e++)i+=" "+Lr(t.attrs[e][0])+'="'+Lr(t.attrs[e][1])+'"';return i},jr.prototype.renderToken=function(t,e,r){const i=t[e];let n="";if(i.hidden)return"";i.block&&-1!==i.nesting&&e&&t[e-1].hidden&&(n+="\n"),n+=(-1===i.nesting?"</":"<")+i.tag,n+=this.renderAttrs(i),0===i.nesting&&r.xhtmlOut&&(n+=" /");let o=!1;if(i.block&&(o=!0,1===i.nesting&&e+1<t.length)){const r=t[e+1];("inline"===r.type||r.hidden||-1===r.nesting&&r.tag===i.tag)&&(o=!1)}return n+=o?">\n":">",n},jr.prototype.renderInline=function(t,e,r){let i="";const n=this.rules;for(let o=0,s=t.length;o<s;o++){const s=t[o].type;void 0!==n[s]?i+=n[s](t,o,e,r,this):i+=this.renderToken(t,o,e)}return i},jr.prototype.renderInlineAsText=function(t,e,r){let i="";for(let n=0,o=t.length;n<o;n++)switch(t[n].type){case"text":case"html_inline":case"html_block":i+=t[n].content;break;case"image":i+=this.renderInlineAsText(t[n].children,e,r);break;case"softbreak":case"hardbreak":i+="\n"}return i},jr.prototype.render=function(t,e,r){let i="";const n=this.rules;for(let o=0,s=t.length;o<s;o++){const s=t[o].type;"inline"===s?i+=this.renderInline(t[o].children,e,r):void 0!==n[s]?i+=n[s](t,o,e,r,this):i+=this.renderToken(t,o,e,r)}return i};const Zr=jr;function Vr(){this.__rules__=[],this.__cache__=null}Vr.prototype.__find__=function(t){for(let e=0;e<this.__rules__.length;e++)if(this.__rules__[e].name===t)return e;return-1},Vr.prototype.__compile__=function(){const t=this,e=[""];t.__rules__.forEach(function(t){t.enabled&&t.alt.forEach(function(t){e.indexOf(t)<0&&e.push(t)})}),t.__cache__={},e.forEach(function(e){t.__cache__[e]=[],t.__rules__.forEach(function(r){r.enabled&&(e&&r.alt.indexOf(e)<0||t.__cache__[e].push(r.fn))})})},Vr.prototype.at=function(t,e,r){const i=this.__find__(t),n=r||{};if(-1===i)throw new Error("Parser rule not found: "+t);this.__rules__[i].fn=e,this.__rules__[i].alt=n.alt||[],this.__cache__=null},Vr.prototype.before=function(t,e,r,i){const n=this.__find__(t),o=i||{};if(-1===n)throw new Error("Parser rule not found: "+t);this.__rules__.splice(n,0,{name:e,enabled:!0,fn:r,alt:o.alt||[]}),this.__cache__=null},Vr.prototype.after=function(t,e,r,i){const n=this.__find__(t),o=i||{};if(-1===n)throw new Error("Parser rule not found: "+t);this.__rules__.splice(n+1,0,{name:e,enabled:!0,fn:r,alt:o.alt||[]}),this.__cache__=null},Vr.prototype.push=function(t,e,r){const i=r||{};this.__rules__.push({name:t,enabled:!0,fn:e,alt:i.alt||[]}),this.__cache__=null},Vr.prototype.enable=function(t,e){Array.isArray(t)||(t=[t]);const r=[];return t.forEach(function(t){const i=this.__find__(t);if(i<0){if(e)return;throw new Error("Rules manager: invalid rule name "+t)}this.__rules__[i].enabled=!0,r.push(t)},this),this.__cache__=null,r},Vr.prototype.enableOnly=function(t,e){Array.isArray(t)||(t=[t]),this.__rules__.forEach(function(t){t.enabled=!1}),this.enable(t,e)},Vr.prototype.disable=function(t,e){Array.isArray(t)||(t=[t]);const r=[];return t.forEach(function(t){const i=this.__find__(t);if(i<0){if(e)return;throw new Error("Rules manager: invalid rule name "+t)}this.__rules__[i].enabled=!1,r.push(t)},this),this.__cache__=null,r},Vr.prototype.getRules=function(t){return null===this.__cache__&&this.__compile__(),this.__cache__[t]||[]};const Ur=Vr;function Wr(t,e,r){this.type=t,this.tag=e,this.attrs=null,this.map=null,this.nesting=r,this.level=0,this.children=null,this.content="",this.markup="",this.info="",this.meta=null,this.block=!1,this.hidden=!1}Wr.prototype.attrIndex=function(t){if(!this.attrs)return-1;const e=this.attrs;for(let r=0,i=e.length;r<i;r++)if(e[r][0]===t)return r;return-1},Wr.prototype.attrPush=function(t){this.attrs?this.attrs.push(t):this.attrs=[t]},Wr.prototype.attrSet=function(t,e){const r=this.attrIndex(t),i=[t,e];r<0?this.attrPush(i):this.attrs[r]=i},Wr.prototype.attrGet=function(t){const e=this.attrIndex(t);let r=null;return e>=0&&(r=this.attrs[e][1]),r},Wr.prototype.attrJoin=function(t,e){const r=this.attrIndex(t);r<0?this.attrPush([t,e]):this.attrs[r][1]=this.attrs[r][1]+" "+e};const Yr=Wr;function Xr(t,e,r){this.src=t,this.env=r,this.tokens=[],this.inlineMode=!1,this.md=e}Xr.prototype.Token=Yr;const Jr=Xr,Kr=/\r\n?|\n/g,Qr=/\0/g;function ti(t){return/^<a[>\s]/i.test(t)}function ei(t){return/^<\/a\s*>/i.test(t)}const ri=/\+-|\.\.|\?\?\?\?|!!!!|,,|--/,ii=/\((c|tm|r)\)/i,ni=/\((c|tm|r)\)/gi,oi={c:"",r:"",tm:""};function si(t,e){return oi[e.toLowerCase()]}function ai(t){let e=0;for(let r=t.length-1;r>=0;r--){const i=t[r];"text"!==i.type||e||(i.content=i.content.replace(ni,si)),"link_open"===i.type&&"auto"===i.info&&e--,"link_close"===i.type&&"auto"===i.info&&e++}}function li(t){let e=0;for(let r=t.length-1;r>=0;r--){const i=t[r];"text"!==i.type||e||ri.test(i.content)&&(i.content=i.content.replace(/\+-/g,"").replace(/\.{2,}/g,"").replace(/([?!])/g,"$1..").replace(/([?!]){4,}/g,"$1$1$1").replace(/,{2,}/g,",").replace(/(^|[^-])---(?=[^-]|$)/gm,"$1").replace(/(^|\s)--(?=\s|$)/gm,"$1").replace(/(^|[^-\s])--(?=[^-\s]|$)/gm,"$1")),"link_open"===i.type&&"auto"===i.info&&e--,"link_close"===i.type&&"auto"===i.info&&e++}}const ci=/['"]/,ui=/['"]/g;function hi(t,e,r){return t.slice(0,e)+r+t.slice(e+1)}function di(t,e){let r;const i=[];for(let n=0;n<t.length;n++){const o=t[n],s=t[n].level;for(r=i.length-1;r>=0&&!(i[r].level<=s);r--);if(i.length=r+1,"text"!==o.type)continue;let a=o.content,l=0,c=a.length;t:for(;l<c;){ui.lastIndex=l;const u=ui.exec(a);if(!u)break;let h=!0,d=!0;l=u.index+1;const p="'"===u[0];let g=32;if(u.index-1>=0)g=a.charCodeAt(u.index-1);else for(r=n-1;r>=0&&"softbreak"!==t[r].type&&"hardbreak"!==t[r].type;r--)if(t[r].content){g=t[r].content.charCodeAt(t[r].content.length-1);break}let f=32;if(l<c)f=a.charCodeAt(l);else for(r=n+1;r<t.length&&"softbreak"!==t[r].type&&"hardbreak"!==t[r].type;r++)if(t[r].content){f=t[r].content.charCodeAt(0);break}const m=Br(g)||Or(String.fromCharCode(g)),y=Br(f)||Or(String.fromCharCode(f)),b=qr(g),v=qr(f);if(v?h=!1:y&&(b||m||(h=!1)),b?d=!1:m&&(v||y||(d=!1)),34===f&&'"'===u[0]&&g>=48&&g<=57&&(d=h=!1),h&&d&&(h=m,d=y),h||d){if(d)for(r=i.length-1;r>=0;r--){let h=i[r];if(i[r].level<s)break;if(h.single===p&&i[r].level===s){let s,d;h=i[r],p?(s=e.md.options.quotes[2],d=e.md.options.quotes[3]):(s=e.md.options.quotes[0],d=e.md.options.quotes[1]),o.content=hi(o.content,u.index,d),t[h.token].content=hi(t[h.token].content,h.pos,s),l+=d.length-1,h.token===n&&(l+=s.length-1),a=o.content,c=a.length,i.length=r;continue t}}h?i.push({token:n,pos:u.index,single:p,level:s}):d&&p&&(o.content=hi(o.content,u.index,""))}else p&&(o.content=hi(o.content,u.index,""))}}}const pi=[["normalize",function(t){let e;e=t.src.replace(Kr,"\n"),e=e.replace(Qr,""),t.src=e}],["block",function(t){let e;t.inlineMode?(e=new t.Token("inline","",0),e.content=t.src,e.map=[0,1],e.children=[],t.tokens.push(e)):t.md.block.parse(t.src,t.md,t.env,t.tokens)}],["inline",function(t){const e=t.tokens;for(let r=0,i=e.length;r<i;r++){const i=e[r];"inline"===i.type&&t.md.inline.parse(i.content,t.md,t.env,i.children)}}],["linkify",function(t){const e=t.tokens;if(t.md.options.linkify)for(let r=0,i=e.length;r<i;r++){if("inline"!==e[r].type||!t.md.linkify.pretest(e[r].content))continue;let i=e[r].children,n=0;for(let o=i.length-1;o>=0;o--){const s=i[o];if("link_close"!==s.type){if("html_inline"===s.type&&(ti(s.content)&&n>0&&n--,ei(s.content)&&n++),!(n>0)&&"text"===s.type&&t.md.linkify.test(s.content)){const n=s.content;let a=t.md.linkify.match(n);const l=[];let c=s.level,u=0;a.length>0&&0===a[0].index&&o>0&&"text_special"===i[o-1].type&&(a=a.slice(1));for(let e=0;e<a.length;e++){const r=a[e].url,i=t.md.normalizeLink(r);if(!t.md.validateLink(i))continue;let o=a[e].text;o=a[e].schema?"mailto:"!==a[e].schema||/^mailto:/i.test(o)?t.md.normalizeLinkText(o):t.md.normalizeLinkText("mailto:"+o).replace(/^mailto:/,""):t.md.normalizeLinkText("http://"+o).replace(/^http:\/\//,"");const s=a[e].index;if(s>u){const e=new t.Token("text","",0);e.content=n.slice(u,s),e.level=c,l.push(e)}const h=new t.Token("link_open","a",1);h.attrs=[["href",i]],h.level=c++,h.markup="linkify",h.info="auto",l.push(h);const d=new t.Token("text","",0);d.content=o,d.level=c,l.push(d);const p=new t.Token("link_close","a",-1);p.level=--c,p.markup="linkify",p.info="auto",l.push(p),u=a[e].lastIndex}if(u<n.length){const e=new t.Token("text","",0);e.content=n.slice(u),e.level=c,l.push(e)}e[r].children=i=vr(i,o,l)}}else for(o--;i[o].level!==s.level&&"link_open"!==i[o].type;)o--}}}],["replacements",function(t){let e;if(t.md.options.typographer)for(e=t.tokens.length-1;e>=0;e--)"inline"===t.tokens[e].type&&(ii.test(t.tokens[e].content)&&ai(t.tokens[e].children),ri.test(t.tokens[e].content)&&li(t.tokens[e].children))}],["smartquotes",function(t){if(t.md.options.typographer)for(let e=t.tokens.length-1;e>=0;e--)"inline"===t.tokens[e].type&&ci.test(t.tokens[e].content)&&di(t.tokens[e].children,t)}],["text_join",function(t){let e,r;const i=t.tokens,n=i.length;for(let t=0;t<n;t++){if("inline"!==i[t].type)continue;const n=i[t].children,o=n.length;for(e=0;e<o;e++)"text_special"===n[e].type&&(n[e].type="text");for(e=r=0;e<o;e++)"text"===n[e].type&&e+1<o&&"text"===n[e+1].type?n[e+1].content=n[e].content+n[e+1].content:(e!==r&&(n[r]=n[e]),r++);e!==r&&(n.length=r)}}]];function gi(){this.ruler=new Ur;for(let t=0;t<pi.length;t++)this.ruler.push(pi[t][0],pi[t][1])}gi.prototype.process=function(t){const e=this.ruler.getRules("");for(let r=0,i=e.length;r<i;r++)e[r](t)},gi.prototype.State=Jr;const fi=gi;function mi(t,e,r,i){this.src=t,this.md=e,this.env=r,this.tokens=i,this.bMarks=[],this.eMarks=[],this.tShift=[],this.sCount=[],this.bsCount=[],this.blkIndent=0,this.line=0,this.lineMax=0,this.tight=!1,this.ddIndent=-1,this.listIndent=-1,this.parentType="root",this.level=0;const n=this.src;for(let t=0,e=0,r=0,i=0,o=n.length,s=!1;e<o;e++){const a=n.charCodeAt(e);if(!s){if(Mr(a)){r++,9===a?i+=4-i%4:i++;continue}s=!0}10!==a&&e!==o-1||(10!==a&&e++,this.bMarks.push(t),this.eMarks.push(e),this.tShift.push(r),this.sCount.push(i),this.bsCount.push(0),s=!1,r=0,i=0,t=e+1)}this.bMarks.push(n.length),this.eMarks.push(n.length),this.tShift.push(0),this.sCount.push(0),this.bsCount.push(0),this.lineMax=this.bMarks.length-1}mi.prototype.push=function(t,e,r){const i=new Yr(t,e,r);return i.block=!0,r<0&&this.level--,i.level=this.level,r>0&&this.level++,this.tokens.push(i),i},mi.prototype.isEmpty=function(t){return this.bMarks[t]+this.tShift[t]>=this.eMarks[t]},mi.prototype.skipEmptyLines=function(t){for(let e=this.lineMax;t<e&&!(this.bMarks[t]+this.tShift[t]<this.eMarks[t]);t++);return t},mi.prototype.skipSpaces=function(t){for(let e=this.src.length;t<e&&Mr(this.src.charCodeAt(t));t++);return t},mi.prototype.skipSpacesBack=function(t,e){if(t<=e)return t;for(;t>e;)if(!Mr(this.src.charCodeAt(--t)))return t+1;return t},mi.prototype.skipChars=function(t,e){for(let r=this.src.length;t<r&&this.src.charCodeAt(t)===e;t++);return t},mi.prototype.skipCharsBack=function(t,e,r){if(t<=r)return t;for(;t>r;)if(e!==this.src.charCodeAt(--t))return t+1;return t},mi.prototype.getLines=function(t,e,r,i){if(t>=e)return"";const n=new Array(e-t);for(let o=0,s=t;s<e;s++,o++){let t=0;const a=this.bMarks[s];let l,c=a;for(l=s+1<e||i?this.eMarks[s]+1:this.eMarks[s];c<l&&t<r;){const e=this.src.charCodeAt(c);if(Mr(e))9===e?t+=4-(t+this.bsCount[s])%4:t++;else{if(!(c-a<this.tShift[s]))break;t++}c++}n[o]=t>r?new Array(t-r+1).join(" ")+this.src.slice(c,l):this.src.slice(c,l)}return n.join("")},mi.prototype.Token=Yr;const yi=mi;function bi(t,e){const r=t.bMarks[e]+t.tShift[e],i=t.eMarks[e];return t.src.slice(r,i)}function vi(t){const e=[],r=t.length;let i=0,n=t.charCodeAt(i),o=!1,s=0,a="";for(;i<r;)124===n&&(o?(a+=t.substring(s,i-1),s=i):(e.push(a+t.substring(s,i)),a="",s=i+1)),o=92===n,i++,n=t.charCodeAt(i);return e.push(a+t.substring(s)),e}function _i(t,e){const r=t.eMarks[e];let i=t.bMarks[e]+t.tShift[e];const n=t.src.charCodeAt(i++);return 42!==n&&45!==n&&43!==n||i<r&&!Mr(t.src.charCodeAt(i))?-1:i}function Ci(t,e){const r=t.bMarks[e]+t.tShift[e],i=t.eMarks[e];let n=r;if(n+1>=i)return-1;let o=t.src.charCodeAt(n++);if(o<48||o>57)return-1;for(;;){if(n>=i)return-1;if(o=t.src.charCodeAt(n++),!(o>=48&&o<=57)){if(41===o||46===o)break;return-1}if(n-r>=10)return-1}return n<i&&(o=t.src.charCodeAt(n),!Mr(o))?-1:n}const ki="<[A-Za-z][A-Za-z0-9\\-]*(?:\\s+[a-zA-Z_:][a-zA-Z0-9:._-]*(?:\\s*=\\s*(?:[^\"'=<>`\\x00-\\x20]+|'[^']*'|\"[^\"]*\"))?)*\\s*\\/?>",wi="<\\/[A-Za-z][A-Za-z0-9\\-]*\\s*>",Ei=new RegExp("^(?:"+ki+"|"+wi+"|\x3c!---?>|\x3c!--(?:[^-]|-[^-]|--[^>])*--\x3e|<[?][\\s\\S]*?[?]>|<![A-Za-z][^>]*>|<!\\[CDATA\\[[\\s\\S]*?\\]\\]>)"),xi=new RegExp("^(?:"+ki+"|"+wi+")"),Si=[[/^<(script|pre|style|textarea)(?=(\s|>|$))/i,/<\/(script|pre|style|textarea)>/i,!0],[/^<!--/,/-->/,!0],[/^<\?/,/\?>/,!0],[/^<![A-Z]/,/>/,!0],[/^<!\[CDATA\[/,/\]\]>/,!0],[new RegExp("^</?("+["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"].join("|")+")(?=(\\s|/?>|$))","i"),/^$/,!0],[new RegExp(xi.source+"\\s*$"),/^$/,!1]],Ai=[["table",function(t,e,r,i){if(e+2>r)return!1;let n=e+1;if(t.sCount[n]<t.blkIndent)return!1;if(t.sCount[n]-t.blkIndent>=4)return!1;let o=t.bMarks[n]+t.tShift[n];if(o>=t.eMarks[n])return!1;const s=t.src.charCodeAt(o++);if(124!==s&&45!==s&&58!==s)return!1;if(o>=t.eMarks[n])return!1;const a=t.src.charCodeAt(o++);if(124!==a&&45!==a&&58!==a&&!Mr(a))return!1;if(45===s&&Mr(a))return!1;for(;o<t.eMarks[n];){const e=t.src.charCodeAt(o);if(124!==e&&45!==e&&58!==e&&!Mr(e))return!1;o++}let l=bi(t,e+1),c=l.split("|");const u=[];for(let t=0;t<c.length;t++){const e=c[t].trim();if(!e){if(0===t||t===c.length-1)continue;return!1}if(!/^:?-+:?$/.test(e))return!1;58===e.charCodeAt(e.length-1)?u.push(58===e.charCodeAt(0)?"center":"right"):58===e.charCodeAt(0)?u.push("left"):u.push("")}if(l=bi(t,e).trim(),-1===l.indexOf("|"))return!1;if(t.sCount[e]-t.blkIndent>=4)return!1;c=vi(l),c.length&&""===c[0]&&c.shift(),c.length&&""===c[c.length-1]&&c.pop();const h=c.length;if(0===h||h!==u.length)return!1;if(i)return!0;const d=t.parentType;t.parentType="table";const p=t.md.block.ruler.getRules("blockquote"),g=[e,0];t.push("table_open","table",1).map=g,t.push("thead_open","thead",1).map=[e,e+1],t.push("tr_open","tr",1).map=[e,e+1];for(let e=0;e<c.length;e++){const r=t.push("th_open","th",1);u[e]&&(r.attrs=[["style","text-align:"+u[e]]]);const i=t.push("inline","",0);i.content=c[e].trim(),i.children=[],t.push("th_close","th",-1)}let f;t.push("tr_close","tr",-1),t.push("thead_close","thead",-1);let m=0;for(n=e+2;n<r&&!(t.sCount[n]<t.blkIndent);n++){let i=!1;for(let e=0,o=p.length;e<o;e++)if(p[e](t,n,r,!0)){i=!0;break}if(i)break;if(l=bi(t,n).trim(),!l)break;if(t.sCount[n]-t.blkIndent>=4)break;if(c=vi(l),c.length&&""===c[0]&&c.shift(),c.length&&""===c[c.length-1]&&c.pop(),m+=h-c.length,m>65536)break;n===e+2&&(t.push("tbody_open","tbody",1).map=f=[e+2,0]),t.push("tr_open","tr",1).map=[n,n+1];for(let e=0;e<h;e++){const r=t.push("td_open","td",1);u[e]&&(r.attrs=[["style","text-align:"+u[e]]]);const i=t.push("inline","",0);i.content=c[e]?c[e].trim():"",i.children=[],t.push("td_close","td",-1)}t.push("tr_close","tr",-1)}return f&&(t.push("tbody_close","tbody",-1),f[1]=n),t.push("table_close","table",-1),g[1]=n,t.parentType=d,t.line=n,!0},["paragraph","reference"]],["code",function(t,e,r){if(t.sCount[e]-t.blkIndent<4)return!1;let i=e+1,n=i;for(;i<r;)if(t.isEmpty(i))i++;else{if(!(t.sCount[i]-t.blkIndent>=4))break;i++,n=i}t.line=n;const o=t.push("code_block","code",0);return o.content=t.getLines(e,n,4+t.blkIndent,!1)+"\n",o.map=[e,t.line],!0}],["fence",function(t,e,r,i){let n=t.bMarks[e]+t.tShift[e],o=t.eMarks[e];if(t.sCount[e]-t.blkIndent>=4)return!1;if(n+3>o)return!1;const s=t.src.charCodeAt(n);if(126!==s&&96!==s)return!1;let a=n;n=t.skipChars(n,s);let l=n-a;if(l<3)return!1;const c=t.src.slice(a,n),u=t.src.slice(n,o);if(96===s&&u.indexOf(String.fromCharCode(s))>=0)return!1;if(i)return!0;let h=e,d=!1;for(;!(h++,h>=r||(n=a=t.bMarks[h]+t.tShift[h],o=t.eMarks[h],n<o&&t.sCount[h]<t.blkIndent));)if(t.src.charCodeAt(n)===s&&!(t.sCount[h]-t.blkIndent>=4||(n=t.skipChars(n,s),n-a<l||(n=t.skipSpaces(n),n<o)))){d=!0;break}l=t.sCount[e],t.line=h+(d?1:0);const p=t.push("fence","code",0);return p.info=u,p.content=t.getLines(e+1,h,l,!0),p.markup=c,p.map=[e,t.line],!0},["paragraph","reference","blockquote","list"]],["blockquote",function(t,e,r,i){let n=t.bMarks[e]+t.tShift[e],o=t.eMarks[e];const s=t.lineMax;if(t.sCount[e]-t.blkIndent>=4)return!1;if(62!==t.src.charCodeAt(n))return!1;if(i)return!0;const a=[],l=[],c=[],u=[],h=t.md.block.ruler.getRules("blockquote"),d=t.parentType;t.parentType="blockquote";let p,g=!1;for(p=e;p<r;p++){const e=t.sCount[p]<t.blkIndent;if(n=t.bMarks[p]+t.tShift[p],o=t.eMarks[p],n>=o)break;if(62===t.src.charCodeAt(n++)&&!e){let e,r,i=t.sCount[p]+1;32===t.src.charCodeAt(n)?(n++,i++,r=!1,e=!0):9===t.src.charCodeAt(n)?(e=!0,(t.bsCount[p]+i)%4==3?(n++,i++,r=!1):r=!0):e=!1;let s=i;for(a.push(t.bMarks[p]),t.bMarks[p]=n;n<o;){const e=t.src.charCodeAt(n);if(!Mr(e))break;9===e?s+=4-(s+t.bsCount[p]+(r?1:0))%4:s++,n++}g=n>=o,l.push(t.bsCount[p]),t.bsCount[p]=t.sCount[p]+1+(e?1:0),c.push(t.sCount[p]),t.sCount[p]=s-i,u.push(t.tShift[p]),t.tShift[p]=n-t.bMarks[p];continue}if(g)break;let i=!1;for(let e=0,n=h.length;e<n;e++)if(h[e](t,p,r,!0)){i=!0;break}if(i){t.lineMax=p,0!==t.blkIndent&&(a.push(t.bMarks[p]),l.push(t.bsCount[p]),u.push(t.tShift[p]),c.push(t.sCount[p]),t.sCount[p]-=t.blkIndent);break}a.push(t.bMarks[p]),l.push(t.bsCount[p]),u.push(t.tShift[p]),c.push(t.sCount[p]),t.sCount[p]=-1}const f=t.blkIndent;t.blkIndent=0;const m=t.push("blockquote_open","blockquote",1);m.markup=">";const y=[e,0];m.map=y,t.md.block.tokenize(t,e,p),t.push("blockquote_close","blockquote",-1).markup=">",t.lineMax=s,t.parentType=d,y[1]=t.line;for(let r=0;r<u.length;r++)t.bMarks[r+e]=a[r],t.tShift[r+e]=u[r],t.sCount[r+e]=c[r],t.bsCount[r+e]=l[r];return t.blkIndent=f,!0},["paragraph","reference","blockquote","list"]],["hr",function(t,e,r,i){const n=t.eMarks[e];if(t.sCount[e]-t.blkIndent>=4)return!1;let o=t.bMarks[e]+t.tShift[e];const s=t.src.charCodeAt(o++);if(42!==s&&45!==s&&95!==s)return!1;let a=1;for(;o<n;){const e=t.src.charCodeAt(o++);if(e!==s&&!Mr(e))return!1;e===s&&a++}if(a<3)return!1;if(i)return!0;t.line=e+1;const l=t.push("hr","hr",0);return l.map=[e,t.line],l.markup=Array(a+1).join(String.fromCharCode(s)),!0},["paragraph","reference","blockquote","list"]],["list",function(t,e,r,i){let n,o,s,a,l=e,c=!0;if(t.sCount[l]-t.blkIndent>=4)return!1;if(t.listIndent>=0&&t.sCount[l]-t.listIndent>=4&&t.sCount[l]<t.blkIndent)return!1;let u,h,d,p=!1;if(i&&"paragraph"===t.parentType&&t.sCount[l]>=t.blkIndent&&(p=!0),(d=Ci(t,l))>=0){if(u=!0,s=t.bMarks[l]+t.tShift[l],h=Number(t.src.slice(s,d-1)),p&&1!==h)return!1}else{if(!((d=_i(t,l))>=0))return!1;u=!1}if(p&&t.skipSpaces(d)>=t.eMarks[l])return!1;if(i)return!0;const g=t.src.charCodeAt(d-1),f=t.tokens.length;u?(a=t.push("ordered_list_open","ol",1),1!==h&&(a.attrs=[["start",h]])):a=t.push("bullet_list_open","ul",1);const m=[l,0];a.map=m,a.markup=String.fromCharCode(g);let y=!1;const b=t.md.block.ruler.getRules("list"),v=t.parentType;for(t.parentType="list";l<r;){o=d,n=t.eMarks[l];const e=t.sCount[l]+d-(t.bMarks[l]+t.tShift[l]);let i=e;for(;o<n;){const e=t.src.charCodeAt(o);if(9===e)i+=4-(i+t.bsCount[l])%4;else{if(32!==e)break;i++}o++}const h=o;let p;p=h>=n?1:i-e,p>4&&(p=1);const f=e+p;a=t.push("list_item_open","li",1),a.markup=String.fromCharCode(g);const m=[l,0];a.map=m,u&&(a.info=t.src.slice(s,d-1));const v=t.tight,_=t.tShift[l],C=t.sCount[l],k=t.listIndent;if(t.listIndent=t.blkIndent,t.blkIndent=f,t.tight=!0,t.tShift[l]=h-t.bMarks[l],t.sCount[l]=i,h>=n&&t.isEmpty(l+1)?t.line=Math.min(t.line+2,r):t.md.block.tokenize(t,l,r,!0),t.tight&&!y||(c=!1),y=t.line-l>1&&t.isEmpty(t.line-1),t.blkIndent=t.listIndent,t.listIndent=k,t.tShift[l]=_,t.sCount[l]=C,t.tight=v,a=t.push("list_item_close","li",-1),a.markup=String.fromCharCode(g),l=t.line,m[1]=l,l>=r)break;if(t.sCount[l]<t.blkIndent)break;if(t.sCount[l]-t.blkIndent>=4)break;let w=!1;for(let e=0,i=b.length;e<i;e++)if(b[e](t,l,r,!0)){w=!0;break}if(w)break;if(u){if(d=Ci(t,l),d<0)break;s=t.bMarks[l]+t.tShift[l]}else if(d=_i(t,l),d<0)break;if(g!==t.src.charCodeAt(d-1))break}return a=u?t.push("ordered_list_close","ol",-1):t.push("bullet_list_close","ul",-1),a.markup=String.fromCharCode(g),m[1]=l,t.line=l,t.parentType=v,c&&function(t,e){const r=t.level+2;for(let i=e+2,n=t.tokens.length-2;i<n;i++)t.tokens[i].level===r&&"paragraph_open"===t.tokens[i].type&&(t.tokens[i+2].hidden=!0,t.tokens[i].hidden=!0,i+=2)}(t,f),!0},["paragraph","reference","blockquote"]],["reference",function(t,e,r,i){let n=t.bMarks[e]+t.tShift[e],o=t.eMarks[e],s=e+1;if(t.sCount[e]-t.blkIndent>=4)return!1;if(91!==t.src.charCodeAt(n))return!1;function a(e){const r=t.lineMax;if(e>=r||t.isEmpty(e))return null;let i=!1;if(t.sCount[e]-t.blkIndent>3&&(i=!0),t.sCount[e]<0&&(i=!0),!i){const i=t.md.block.ruler.getRules("reference"),n=t.parentType;t.parentType="reference";let o=!1;for(let n=0,s=i.length;n<s;n++)if(i[n](t,e,r,!0)){o=!0;break}if(t.parentType=n,o)return null}const n=t.bMarks[e]+t.tShift[e],o=t.eMarks[e];return t.src.slice(n,o+1)}let l=t.src.slice(n,o+1);o=l.length;let c=-1;for(n=1;n<o;n++){const t=l.charCodeAt(n);if(91===t)return!1;if(93===t){c=n;break}if(10===t){const t=a(s);null!==t&&(l+=t,o=l.length,s++)}else if(92===t&&(n++,n<o&&10===l.charCodeAt(n))){const t=a(s);null!==t&&(l+=t,o=l.length,s++)}}if(c<0||58!==l.charCodeAt(c+1))return!1;for(n=c+2;n<o;n++){const t=l.charCodeAt(n);if(10===t){const t=a(s);null!==t&&(l+=t,o=l.length,s++)}else if(!Mr(t))break}const u=t.md.helpers.parseLinkDestination(l,n,o);if(!u.ok)return!1;const h=t.md.normalizeLink(u.str);if(!t.md.validateLink(h))return!1;n=u.pos;const d=n,p=s,g=n;for(;n<o;n++){const t=l.charCodeAt(n);if(10===t){const t=a(s);null!==t&&(l+=t,o=l.length,s++)}else if(!Mr(t))break}let f,m=t.md.helpers.parseLinkTitle(l,n,o);for(;m.can_continue;){const e=a(s);if(null===e)break;l+=e,n=o,o=l.length,s++,m=t.md.helpers.parseLinkTitle(l,n,o,m)}for(n<o&&g!==n&&m.ok?(f=m.str,n=m.pos):(f="",n=d,s=p);n<o&&Mr(l.charCodeAt(n));)n++;if(n<o&&10!==l.charCodeAt(n)&&f)for(f="",n=d,s=p;n<o&&Mr(l.charCodeAt(n));)n++;if(n<o&&10!==l.charCodeAt(n))return!1;const y=Pr(l.slice(1,c));return!!y&&(i||(void 0===t.env.references&&(t.env.references={}),void 0===t.env.references[y]&&(t.env.references[y]={title:f,href:h}),t.line=s),!0)}],["html_block",function(t,e,r,i){let n=t.bMarks[e]+t.tShift[e],o=t.eMarks[e];if(t.sCount[e]-t.blkIndent>=4)return!1;if(!t.md.options.html)return!1;if(60!==t.src.charCodeAt(n))return!1;let s=t.src.slice(n,o),a=0;for(;a<Si.length&&!Si[a][0].test(s);a++);if(a===Si.length)return!1;if(i)return Si[a][2];let l=e+1;if(!Si[a][1].test(s))for(;l<r&&!(t.sCount[l]<t.blkIndent);l++)if(n=t.bMarks[l]+t.tShift[l],o=t.eMarks[l],s=t.src.slice(n,o),Si[a][1].test(s)){0!==s.length&&l++;break}t.line=l;const c=t.push("html_block","",0);return c.map=[e,l],c.content=t.getLines(e,l,t.blkIndent,!0),!0},["paragraph","reference","blockquote"]],["heading",function(t,e,r,i){let n=t.bMarks[e]+t.tShift[e],o=t.eMarks[e];if(t.sCount[e]-t.blkIndent>=4)return!1;let s=t.src.charCodeAt(n);if(35!==s||n>=o)return!1;let a=1;for(s=t.src.charCodeAt(++n);35===s&&n<o&&a<=6;)a++,s=t.src.charCodeAt(++n);if(a>6||n<o&&!Mr(s))return!1;if(i)return!0;o=t.skipSpacesBack(o,n);const l=t.skipCharsBack(o,35,n);l>n&&Mr(t.src.charCodeAt(l-1))&&(o=l),t.line=e+1;const c=t.push("heading_open","h"+String(a),1);c.markup="########".slice(0,a),c.map=[e,t.line];const u=t.push("inline","",0);return u.content=t.src.slice(n,o).trim(),u.map=[e,t.line],u.children=[],t.push("heading_close","h"+String(a),-1).markup="########".slice(0,a),!0},["paragraph","reference","blockquote"]],["lheading",function(t,e,r){const i=t.md.block.ruler.getRules("paragraph");if(t.sCount[e]-t.blkIndent>=4)return!1;const n=t.parentType;t.parentType="paragraph";let o,s=0,a=e+1;for(;a<r&&!t.isEmpty(a);a++){if(t.sCount[a]-t.blkIndent>3)continue;if(t.sCount[a]>=t.blkIndent){let e=t.bMarks[a]+t.tShift[a];const r=t.eMarks[a];if(e<r&&(o=t.src.charCodeAt(e),(45===o||61===o)&&(e=t.skipChars(e,o),e=t.skipSpaces(e),e>=r))){s=61===o?1:2;break}}if(t.sCount[a]<0)continue;let e=!1;for(let n=0,o=i.length;n<o;n++)if(i[n](t,a,r,!0)){e=!0;break}if(e)break}if(!s)return!1;const l=t.getLines(e,a,t.blkIndent,!1).trim();t.line=a+1;const c=t.push("heading_open","h"+String(s),1);c.markup=String.fromCharCode(o),c.map=[e,t.line];const u=t.push("inline","",0);return u.content=l,u.map=[e,t.line-1],u.children=[],t.push("heading_close","h"+String(s),-1).markup=String.fromCharCode(o),t.parentType=n,!0}],["paragraph",function(t,e,r){const i=t.md.block.ruler.getRules("paragraph"),n=t.parentType;let o=e+1;for(t.parentType="paragraph";o<r&&!t.isEmpty(o);o++){if(t.sCount[o]-t.blkIndent>3)continue;if(t.sCount[o]<0)continue;let e=!1;for(let n=0,s=i.length;n<s;n++)if(i[n](t,o,r,!0)){e=!0;break}if(e)break}const s=t.getLines(e,o,t.blkIndent,!1).trim();t.line=o,t.push("paragraph_open","p",1).map=[e,t.line];const a=t.push("inline","",0);return a.content=s,a.map=[e,t.line],a.children=[],t.push("paragraph_close","p",-1),t.parentType=n,!0}]];function Di(){this.ruler=new Ur;for(let t=0;t<Ai.length;t++)this.ruler.push(Ai[t][0],Ai[t][1],{alt:(Ai[t][2]||[]).slice()})}Di.prototype.tokenize=function(t,e,r){const i=this.ruler.getRules(""),n=i.length,o=t.md.options.maxNesting;let s=e,a=!1;for(;s<r&&(t.line=s=t.skipEmptyLines(s),!(s>=r))&&!(t.sCount[s]<t.blkIndent);){if(t.level>=o){t.line=r;break}const e=t.line;let l=!1;for(let o=0;o<n;o++)if(l=i[o](t,s,r,!1),l){if(e>=t.line)throw new Error("block rule didn't increment state.line");break}if(!l)throw new Error("none of the block rules matched");t.tight=!a,t.isEmpty(t.line-1)&&(a=!0),s=t.line,s<r&&t.isEmpty(s)&&(a=!0,s++,t.line=s)}},Di.prototype.parse=function(t,e,r,i){if(!t)return;const n=new this.State(t,e,r,i);this.tokenize(n,n.line,n.lineMax)},Di.prototype.State=yi;const Ii=Di;function Fi(t,e,r,i){this.src=t,this.env=r,this.md=e,this.tokens=i,this.tokens_meta=Array(i.length),this.pos=0,this.posMax=this.src.length,this.level=0,this.pending="",this.pendingLevel=0,this.cache={},this.delimiters=[],this._prev_delimiters=[],this.backticks={},this.backticksScanned=!1,this.linkLevel=0}Fi.prototype.pushPending=function(){const t=new Yr("text","",0);return t.content=this.pending,t.level=this.pendingLevel,this.tokens.push(t),this.pending="",t},Fi.prototype.push=function(t,e,r){this.pending&&this.pushPending();const i=new Yr(t,e,r);let n=null;return r<0&&(this.level--,this.delimiters=this._prev_delimiters.pop()),i.level=this.level,r>0&&(this.level++,this._prev_delimiters.push(this.delimiters),this.delimiters=[],n={delimiters:this.delimiters}),this.pendingLevel=this.level,this.tokens.push(i),this.tokens_meta.push(n),i},Fi.prototype.scanDelims=function(t,e){const r=this.posMax,i=this.src.charCodeAt(t),n=t>0?this.src.charCodeAt(t-1):32;let o=t;for(;o<r&&this.src.charCodeAt(o)===i;)o++;const s=o-t,a=o<r?this.src.charCodeAt(o):32,l=Br(n)||Or(String.fromCharCode(n)),c=Br(a)||Or(String.fromCharCode(a)),u=qr(n),h=qr(a),d=!h&&(!c||u||l),p=!u&&(!l||h||c);return{can_open:d&&(e||!p||l),can_close:p&&(e||!d||c),length:s}},Fi.prototype.Token=Yr;const Li=Fi;function Ti(t){switch(t){case 10:case 33:case 35:case 36:case 37:case 38:case 42:case 43:case 45:case 58:case 60:case 61:case 62:case 64:case 91:case 92:case 93:case 94:case 95:case 96:case 123:case 125:case 126:return!0;default:return!1}}const zi=/(?:^|[^a-z0-9.+-])([a-z][a-z0-9.+-]*)$/i,Mi=[];for(let t=0;t<256;t++)Mi.push(0);function qi(t,e){let r;const i=[],n=e.length;for(let o=0;o<n;o++){const n=e[o];if(126!==n.marker)continue;if(-1===n.end)continue;const s=e[n.end];r=t.tokens[n.token],r.type="s_open",r.tag="s",r.nesting=1,r.markup="~~",r.content="",r=t.tokens[s.token],r.type="s_close",r.tag="s",r.nesting=-1,r.markup="~~",r.content="","text"===t.tokens[s.token-1].type&&"~"===t.tokens[s.token-1].content&&i.push(s.token-1)}for(;i.length;){const e=i.pop();let n=e+1;for(;n<t.tokens.length&&"s_close"===t.tokens[n].type;)n++;n--,e!==n&&(r=t.tokens[n],t.tokens[n]=t.tokens[e],t.tokens[e]=r)}}"\\!\"#$%&'()*+,./:;<=>?@[]^_`{|}~-".split("").forEach(function(t){Mi[t.charCodeAt(0)]=1});const Oi={tokenize:function(t,e){const r=t.pos,i=t.src.charCodeAt(r);if(e)return!1;if(126!==i)return!1;const n=t.scanDelims(t.pos,!0);let o=n.length;const s=String.fromCharCode(i);if(o<2)return!1;let a;o%2&&(a=t.push("text","",0),a.content=s,o--);for(let e=0;e<o;e+=2)a=t.push("text","",0),a.content=s+s,t.delimiters.push({marker:i,length:0,token:t.tokens.length-1,end:-1,open:n.can_open,close:n.can_close});return t.pos+=n.length,!0},postProcess:function(t){const e=t.tokens_meta,r=t.tokens_meta.length;qi(t,t.delimiters);for(let i=0;i<r;i++)e[i]&&e[i].delimiters&&qi(t,e[i].delimiters)}};function Bi(t,e){for(let r=e.length-1;r>=0;r--){const i=e[r];if(95!==i.marker&&42!==i.marker)continue;if(-1===i.end)continue;const n=e[i.end],o=r>0&&e[r-1].end===i.end+1&&e[r-1].marker===i.marker&&e[r-1].token===i.token-1&&e[i.end+1].token===n.token+1,s=String.fromCharCode(i.marker),a=t.tokens[i.token];a.type=o?"strong_open":"em_open",a.tag=o?"strong":"em",a.nesting=1,a.markup=o?s+s:s,a.content="";const l=t.tokens[n.token];l.type=o?"strong_close":"em_close",l.tag=o?"strong":"em",l.nesting=-1,l.markup=o?s+s:s,l.content="",o&&(t.tokens[e[r-1].token].content="",t.tokens[e[i.end+1].token].content="",r--)}}const Pi={tokenize:function(t,e){const r=t.pos,i=t.src.charCodeAt(r);if(e)return!1;if(95!==i&&42!==i)return!1;const n=t.scanDelims(t.pos,42===i);for(let e=0;e<n.length;e++)t.push("text","",0).content=String.fromCharCode(i),t.delimiters.push({marker:i,length:n.length,token:t.tokens.length-1,end:-1,open:n.can_open,close:n.can_close});return t.pos+=n.length,!0},postProcess:function(t){const e=t.tokens_meta,r=t.tokens_meta.length;Bi(t,t.delimiters);for(let i=0;i<r;i++)e[i]&&e[i].delimiters&&Bi(t,e[i].delimiters)}},Ni=/^([a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*)$/,Ri=/^([a-zA-Z][a-zA-Z0-9+.-]{1,31}):([^<>\x00-\x20]*)$/,Gi=/^&#((?:x[a-f0-9]{1,6}|[0-9]{1,7}));/i,Hi=/^&([a-z][a-z0-9]{1,31});/i;function $i(t){const e={},r=t.length;if(!r)return;let i=0,n=-2;const o=[];for(let s=0;s<r;s++){const r=t[s];if(o.push(0),t[i].marker===r.marker&&n===r.token-1||(i=s),n=r.token,r.length=r.length||0,!r.close)continue;e.hasOwnProperty(r.marker)||(e[r.marker]=[-1,-1,-1,-1,-1,-1]);const a=e[r.marker][(r.open?3:0)+r.length%3];let l=i-o[i]-1,c=l;for(;l>a;l-=o[l]+1){const e=t[l];if(e.marker===r.marker&&e.open&&e.end<0){let i=!1;if((e.close||r.open)&&(e.length+r.length)%3==0&&(e.length%3==0&&r.length%3==0||(i=!0)),!i){const i=l>0&&!t[l-1].open?o[l-1]+1:0;o[s]=s-l+i,o[l]=i,r.open=!1,e.end=s,e.close=!1,c=-1,n=-2;break}}}-1!==c&&(e[r.marker][(r.open?3:0)+(r.length||0)%3]=c)}}const ji=[["text",function(t,e){let r=t.pos;for(;r<t.posMax&&!Ti(t.src.charCodeAt(r));)r++;return r!==t.pos&&(e||(t.pending+=t.src.slice(t.pos,r)),t.pos=r,!0)}],["linkify",function(t,e){if(!t.md.options.linkify)return!1;if(t.linkLevel>0)return!1;const r=t.pos;if(r+3>t.posMax)return!1;if(58!==t.src.charCodeAt(r))return!1;if(47!==t.src.charCodeAt(r+1))return!1;if(47!==t.src.charCodeAt(r+2))return!1;const i=t.pending.match(zi);if(!i)return!1;const n=i[1],o=t.md.linkify.matchAtStart(t.src.slice(r-n.length));if(!o)return!1;let s=o.url;if(s.length<=n.length)return!1;s=s.replace(/\*+$/,"");const a=t.md.normalizeLink(s);if(!t.md.validateLink(a))return!1;if(!e){t.pending=t.pending.slice(0,-n.length);const e=t.push("link_open","a",1);e.attrs=[["href",a]],e.markup="linkify",e.info="auto",t.push("text","",0).content=t.md.normalizeLinkText(s);const r=t.push("link_close","a",-1);r.markup="linkify",r.info="auto"}return t.pos+=s.length-n.length,!0}],["newline",function(t,e){let r=t.pos;if(10!==t.src.charCodeAt(r))return!1;const i=t.pending.length-1,n=t.posMax;if(!e)if(i>=0&&32===t.pending.charCodeAt(i))if(i>=1&&32===t.pending.charCodeAt(i-1)){let e=i-1;for(;e>=1&&32===t.pending.charCodeAt(e-1);)e--;t.pending=t.pending.slice(0,e),t.push("hardbreak","br",0)}else t.pending=t.pending.slice(0,-1),t.push("softbreak","br",0);else t.push("softbreak","br",0);for(r++;r<n&&Mr(t.src.charCodeAt(r));)r++;return t.pos=r,!0}],["escape",function(t,e){let r=t.pos;const i=t.posMax;if(92!==t.src.charCodeAt(r))return!1;if(r++,r>=i)return!1;let n=t.src.charCodeAt(r);if(10===n){for(e||t.push("hardbreak","br",0),r++;r<i&&(n=t.src.charCodeAt(r),Mr(n));)r++;return t.pos=r,!0}let o=t.src[r];if(n>=55296&&n<=56319&&r+1<i){const e=t.src.charCodeAt(r+1);e>=56320&&e<=57343&&(o+=t.src[r+1],r++)}const s="\\"+o;if(!e){const e=t.push("text_special","",0);n<256&&0!==Mi[n]?e.content=o:e.content=s,e.markup=s,e.info="escape"}return t.pos=r+1,!0}],["backticks",function(t,e){let r=t.pos;if(96!==t.src.charCodeAt(r))return!1;const i=r;r++;const n=t.posMax;for(;r<n&&96===t.src.charCodeAt(r);)r++;const o=t.src.slice(i,r),s=o.length;if(t.backticksScanned&&(t.backticks[s]||0)<=i)return e||(t.pending+=o),t.pos+=s,!0;let a,l=r;for(;-1!==(a=t.src.indexOf("`",l));){for(l=a+1;l<n&&96===t.src.charCodeAt(l);)l++;const i=l-a;if(i===s){if(!e){const e=t.push("code_inline","code",0);e.markup=o,e.content=t.src.slice(r,a).replace(/\n/g," ").replace(/^ (.+) $/,"$1")}return t.pos=l,!0}t.backticks[i]=a}return t.backticksScanned=!0,e||(t.pending+=o),t.pos+=s,!0}],["strikethrough",Oi.tokenize],["emphasis",Pi.tokenize],["link",function(t,e){let r,i,n,o,s="",a="",l=t.pos,c=!0;if(91!==t.src.charCodeAt(t.pos))return!1;const u=t.pos,h=t.posMax,d=t.pos+1,p=t.md.helpers.parseLinkLabel(t,t.pos,!0);if(p<0)return!1;let g=p+1;if(g<h&&40===t.src.charCodeAt(g)){for(c=!1,g++;g<h&&(r=t.src.charCodeAt(g),Mr(r)||10===r);g++);if(g>=h)return!1;if(l=g,n=t.md.helpers.parseLinkDestination(t.src,g,t.posMax),n.ok){for(s=t.md.normalizeLink(n.str),t.md.validateLink(s)?g=n.pos:s="",l=g;g<h&&(r=t.src.charCodeAt(g),Mr(r)||10===r);g++);if(n=t.md.helpers.parseLinkTitle(t.src,g,t.posMax),g<h&&l!==g&&n.ok)for(a=n.str,g=n.pos;g<h&&(r=t.src.charCodeAt(g),Mr(r)||10===r);g++);}(g>=h||41!==t.src.charCodeAt(g))&&(c=!0),g++}if(c){if(void 0===t.env.references)return!1;if(g<h&&91===t.src.charCodeAt(g)?(l=g+1,g=t.md.helpers.parseLinkLabel(t,g),g>=0?i=t.src.slice(l,g++):g=p+1):g=p+1,i||(i=t.src.slice(d,p)),o=t.env.references[Pr(i)],!o)return t.pos=u,!1;s=o.href,a=o.title}if(!e){t.pos=d,t.posMax=p;const e=[["href",s]];t.push("link_open","a",1).attrs=e,a&&e.push(["title",a]),t.linkLevel++,t.md.inline.tokenize(t),t.linkLevel--,t.push("link_close","a",-1)}return t.pos=g,t.posMax=h,!0}],["image",function(t,e){let r,i,n,o,s,a,l,c,u="";const h=t.pos,d=t.posMax;if(33!==t.src.charCodeAt(t.pos))return!1;if(91!==t.src.charCodeAt(t.pos+1))return!1;const p=t.pos+2,g=t.md.helpers.parseLinkLabel(t,t.pos+1,!1);if(g<0)return!1;if(o=g+1,o<d&&40===t.src.charCodeAt(o)){for(o++;o<d&&(r=t.src.charCodeAt(o),Mr(r)||10===r);o++);if(o>=d)return!1;for(c=o,a=t.md.helpers.parseLinkDestination(t.src,o,t.posMax),a.ok&&(u=t.md.normalizeLink(a.str),t.md.validateLink(u)?o=a.pos:u=""),c=o;o<d&&(r=t.src.charCodeAt(o),Mr(r)||10===r);o++);if(a=t.md.helpers.parseLinkTitle(t.src,o,t.posMax),o<d&&c!==o&&a.ok)for(l=a.str,o=a.pos;o<d&&(r=t.src.charCodeAt(o),Mr(r)||10===r);o++);else l="";if(o>=d||41!==t.src.charCodeAt(o))return t.pos=h,!1;o++}else{if(void 0===t.env.references)return!1;if(o<d&&91===t.src.charCodeAt(o)?(c=o+1,o=t.md.helpers.parseLinkLabel(t,o),o>=0?n=t.src.slice(c,o++):o=g+1):o=g+1,n||(n=t.src.slice(p,g)),s=t.env.references[Pr(n)],!s)return t.pos=h,!1;u=s.href,l=s.title}if(!e){i=t.src.slice(p,g);const e=[];t.md.inline.parse(i,t.md,t.env,e);const r=t.push("image","img",0),n=[["src",u],["alt",""]];r.attrs=n,r.children=e,r.content=i,l&&n.push(["title",l])}return t.pos=o,t.posMax=d,!0}],["autolink",function(t,e){let r=t.pos;if(60!==t.src.charCodeAt(r))return!1;const i=t.pos,n=t.posMax;for(;;){if(++r>=n)return!1;const e=t.src.charCodeAt(r);if(60===e)return!1;if(62===e)break}const o=t.src.slice(i+1,r);if(Ri.test(o)){const r=t.md.normalizeLink(o);if(!t.md.validateLink(r))return!1;if(!e){const e=t.push("link_open","a",1);e.attrs=[["href",r]],e.markup="autolink",e.info="auto",t.push("text","",0).content=t.md.normalizeLinkText(o);const i=t.push("link_close","a",-1);i.markup="autolink",i.info="auto"}return t.pos+=o.length+2,!0}if(Ni.test(o)){const r=t.md.normalizeLink("mailto:"+o);if(!t.md.validateLink(r))return!1;if(!e){const e=t.push("link_open","a",1);e.attrs=[["href",r]],e.markup="autolink",e.info="auto",t.push("text","",0).content=t.md.normalizeLinkText(o);const i=t.push("link_close","a",-1);i.markup="autolink",i.info="auto"}return t.pos+=o.length+2,!0}return!1}],["html_inline",function(t,e){if(!t.md.options.html)return!1;const r=t.posMax,i=t.pos;if(60!==t.src.charCodeAt(i)||i+2>=r)return!1;const n=t.src.charCodeAt(i+1);if(33!==n&&63!==n&&47!==n&&!function(t){const e=32|t;return e>=97&&e<=122}(n))return!1;const o=t.src.slice(i).match(Ei);if(!o)return!1;if(!e){const e=t.push("html_inline","",0);e.content=o[0],s=e.content,/^<a[>\s]/i.test(s)&&t.linkLevel++,function(t){return/^<\/a\s*>/i.test(t)}(e.content)&&t.linkLevel--}var s;return t.pos+=o[0].length,!0}],["entity",function(t,e){const r=t.pos,i=t.posMax;if(38!==t.src.charCodeAt(r))return!1;if(r+1>=i)return!1;if(35===t.src.charCodeAt(r+1)){const i=t.src.slice(r).match(Gi);if(i){if(!e){const e="x"===i[1][0].toLowerCase()?parseInt(i[1].slice(1),16):parseInt(i[1],10),r=t.push("text_special","",0);r.content=_r(e)?Cr(e):Cr(65533),r.markup=i[0],r.info="entity"}return t.pos+=i[0].length,!0}}else{const i=t.src.slice(r).match(Hi);if(i){const r=cr(i[0]);if(r!==i[0]){if(!e){const e=t.push("text_special","",0);e.content=r,e.markup=i[0],e.info="entity"}return t.pos+=i[0].length,!0}}}return!1}]],Zi=[["balance_pairs",function(t){const e=t.tokens_meta,r=t.tokens_meta.length;$i(t.delimiters);for(let t=0;t<r;t++)e[t]&&e[t].delimiters&&$i(e[t].delimiters)}],["strikethrough",Oi.postProcess],["emphasis",Pi.postProcess],["fragments_join",function(t){let e,r,i=0;const n=t.tokens,o=t.tokens.length;for(e=r=0;e<o;e++)n[e].nesting<0&&i--,n[e].level=i,n[e].nesting>0&&i++,"text"===n[e].type&&e+1<o&&"text"===n[e+1].type?n[e+1].content=n[e].content+n[e+1].content:(e!==r&&(n[r]=n[e]),r++);e!==r&&(n.length=r)}]];function Vi(){this.ruler=new Ur;for(let t=0;t<ji.length;t++)this.ruler.push(ji[t][0],ji[t][1]);this.ruler2=new Ur;for(let t=0;t<Zi.length;t++)this.ruler2.push(Zi[t][0],Zi[t][1])}Vi.prototype.skipToken=function(t){const e=t.pos,r=this.ruler.getRules(""),i=r.length,n=t.md.options.maxNesting,o=t.cache;if(void 0!==o[e])return void(t.pos=o[e]);let s=!1;if(t.level<n){for(let n=0;n<i;n++)if(t.level++,s=r[n](t,!0),t.level--,s){if(e>=t.pos)throw new Error("inline rule didn't increment state.pos");break}}else t.pos=t.posMax;s||t.pos++,o[e]=t.pos},Vi.prototype.tokenize=function(t){const e=this.ruler.getRules(""),r=e.length,i=t.posMax,n=t.md.options.maxNesting;for(;t.pos<i;){const o=t.pos;let s=!1;if(t.level<n)for(let i=0;i<r;i++)if(s=e[i](t,!1),s){if(o>=t.pos)throw new Error("inline rule didn't increment state.pos");break}if(s){if(t.pos>=i)break}else t.pending+=t.src[t.pos++]}t.pending&&t.pushPending()},Vi.prototype.parse=function(t,e,r,i){const n=new this.State(t,e,r,i);this.tokenize(n);const o=this.ruler2.getRules(""),s=o.length;for(let t=0;t<s;t++)o[t](n)},Vi.prototype.State=Li;const Ui=Vi;function Wi(t){return Array.prototype.slice.call(arguments,1).forEach(function(e){e&&Object.keys(e).forEach(function(r){t[r]=e[r]})}),t}function Yi(t){return Object.prototype.toString.call(t)}function Xi(t){return"[object Function]"===Yi(t)}function Ji(t){return t.replace(/[.?*+^$[\]\\(){}|-]/g,"\\$&")}const Ki={fuzzyLink:!0,fuzzyEmail:!0,fuzzyIP:!1},Qi={"http:":{validate:function(t,e,r){const i=t.slice(e);return r.re.http||(r.re.http=new RegExp("^\\/\\/"+r.re.src_auth+r.re.src_host_port_strict+r.re.src_path,"i")),r.re.http.test(i)?i.match(r.re.http)[0].length:0}},"https:":"http:","ftp:":"http:","//":{validate:function(t,e,r){const i=t.slice(e);return r.re.no_http||(r.re.no_http=new RegExp("^"+r.re.src_auth+"(?:localhost|(?:(?:"+r.re.src_domain+")\\.)+"+r.re.src_domain_root+")"+r.re.src_port+r.re.src_host_terminator+r.re.src_path,"i")),r.re.no_http.test(i)?e>=3&&":"===t[e-3]||e>=3&&"/"===t[e-3]?0:i.match(r.re.no_http)[0].length:0}},"mailto:":{validate:function(t,e,r){const i=t.slice(e);return r.re.mailto||(r.re.mailto=new RegExp("^"+r.re.src_email_name+"@"+r.re.src_host_strict,"i")),r.re.mailto.test(i)?i.match(r.re.mailto)[0].length:0}}},tn="biz|com|edu|gov|net|org|pro|web|xxx|aero|asia|coop|info|museum|name|shop|".split("|");function en(t){const e=t.re=function(t){const e={};t=t||{},e.src_Any=He.source,e.src_Cc=$e.source,e.src_Z=Ze.source,e.src_P=Re.source,e.src_ZPCc=[e.src_Z,e.src_P,e.src_Cc].join("|"),e.src_ZCc=[e.src_Z,e.src_Cc].join("|");return e.src_pseudo_letter="(?:(?![><]|"+e.src_ZPCc+")"+e.src_Any+")",e.src_ip4="(?:(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\\.){3}(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)",e.src_auth="(?:(?:(?!"+e.src_ZCc+"|[@/\\[\\]()]).)+@)?",e.src_port="(?::(?:6(?:[0-4]\\d{3}|5(?:[0-4]\\d{2}|5(?:[0-2]\\d|3[0-5])))|[1-5]?\\d{1,4}))?",e.src_host_terminator="(?=$|[><]|"+e.src_ZPCc+")(?!"+(t["---"]?"-(?!--)|":"-|")+"_|:\\d|\\.-|\\.(?!$|"+e.src_ZPCc+"))",e.src_path="(?:[/?#](?:(?!"+e.src_ZCc+"|[><]|[()[\\]{}.,\"'?!\\-;]).|\\[(?:(?!"+e.src_ZCc+"|\\]).)*\\]|\\((?:(?!"+e.src_ZCc+"|[)]).)*\\)|\\{(?:(?!"+e.src_ZCc+'|[}]).)*\\}|\\"(?:(?!'+e.src_ZCc+'|["]).)+\\"|\\\'(?:(?!'+e.src_ZCc+"|[']).)+\\'|\\'(?="+e.src_pseudo_letter+"|[-])|\\.{2,}[a-zA-Z0-9%/&]|\\.(?!"+e.src_ZCc+"|[.]|$)|"+(t["---"]?"\\-(?!--(?:[^-]|$))(?:-*)|":"\\-+|")+",(?!"+e.src_ZCc+"|$)|;(?!"+e.src_ZCc+"|$)|\\!+(?!"+e.src_ZCc+"|[!]|$)|\\?(?!"+e.src_ZCc+"|[?]|$))+|\\/)?",e.src_email_name='[\\-;:&=\\+\\$,\\.a-zA-Z0-9_][\\-;:&=\\+\\$,\\"\\.a-zA-Z0-9_]*',e.src_xn="xn--[a-z0-9\\-]{1,59}",e.src_domain_root="(?:"+e.src_xn+"|"+e.src_pseudo_letter+"{1,63})",e.src_domain="(?:"+e.src_xn+"|(?:"+e.src_pseudo_letter+")|(?:"+e.src_pseudo_letter+"(?:-|"+e.src_pseudo_letter+"){0,61}"+e.src_pseudo_letter+"))",e.src_host="(?:(?:(?:(?:"+e.src_domain+")\\.)*"+e.src_domain+"))",e.tpl_host_fuzzy="(?:"+e.src_ip4+"|(?:(?:(?:"+e.src_domain+")\\.)+(?:%TLDS%)))",e.tpl_host_no_ip_fuzzy="(?:(?:(?:"+e.src_domain+")\\.)+(?:%TLDS%))",e.src_host_strict=e.src_host+e.src_host_terminator,e.tpl_host_fuzzy_strict=e.tpl_host_fuzzy+e.src_host_terminator,e.src_host_port_strict=e.src_host+e.src_port+e.src_host_terminator,e.tpl_host_port_fuzzy_strict=e.tpl_host_fuzzy+e.src_port+e.src_host_terminator,e.tpl_host_port_no_ip_fuzzy_strict=e.tpl_host_no_ip_fuzzy+e.src_port+e.src_host_terminator,e.tpl_host_fuzzy_test="localhost|www\\.|\\.\\d{1,3}\\.|(?:\\.(?:%TLDS%)(?:"+e.src_ZPCc+"|>|$))",e.tpl_email_fuzzy='(^|[><]|"|\\(|'+e.src_ZCc+")("+e.src_email_name+"@"+e.tpl_host_fuzzy_strict+")",e.tpl_link_fuzzy="(^|(?![.:/\\-_@])(?:[$+<=>^`|]|"+e.src_ZPCc+"))((?![$+<=>^`|])"+e.tpl_host_port_fuzzy_strict+e.src_path+")",e.tpl_link_no_ip_fuzzy="(^|(?![.:/\\-_@])(?:[$+<=>^`|]|"+e.src_ZPCc+"))((?![$+<=>^`|])"+e.tpl_host_port_no_ip_fuzzy_strict+e.src_path+")",e}(t.__opts__),r=t.__tlds__.slice();function i(t){return t.replace("%TLDS%",e.src_tlds)}t.onCompile(),t.__tlds_replaced__||r.push("a[cdefgilmnoqrstuwxz]|b[abdefghijmnorstvwyz]|c[acdfghiklmnoruvwxyz]|d[ejkmoz]|e[cegrstu]|f[ijkmor]|g[abdefghilmnpqrstuwy]|h[kmnrtu]|i[delmnoqrst]|j[emop]|k[eghimnprwyz]|l[abcikrstuvy]|m[acdeghklmnopqrstuvwxyz]|n[acefgilopruz]|om|p[aefghklmnrstwy]|qa|r[eosuw]|s[abcdeghijklmnortuvxyz]|t[cdfghjklmnortvwz]|u[agksyz]|v[aceginu]|w[fs]|y[et]|z[amw]"),r.push(e.src_xn),e.src_tlds=r.join("|"),e.email_fuzzy=RegExp(i(e.tpl_email_fuzzy),"i"),e.link_fuzzy=RegExp(i(e.tpl_link_fuzzy),"i"),e.link_no_ip_fuzzy=RegExp(i(e.tpl_link_no_ip_fuzzy),"i"),e.host_fuzzy_test=RegExp(i(e.tpl_host_fuzzy_test),"i");const n=[];function o(t,e){throw new Error('(LinkifyIt) Invalid schema "'+t+'": '+e)}t.__compiled__={},Object.keys(t.__schemas__).forEach(function(e){const r=t.__schemas__[e];if(null===r)return;const i={validate:null,link:null};if(t.__compiled__[e]=i,"[object Object]"===Yi(r))return"[object RegExp]"!==Yi(r.validate)?Xi(r.validate)?i.validate=r.validate:o(e,r):i.validate=function(t){return function(e,r){const i=e.slice(r);return t.test(i)?i.match(t)[0].length:0}}(r.validate),void(Xi(r.normalize)?i.normalize=r.normalize:r.normalize?o(e,r):i.normalize=function(t,e){e.normalize(t)});!function(t){return"[object String]"===Yi(t)}(r)?o(e,r):n.push(e)}),n.forEach(function(e){t.__compiled__[t.__schemas__[e]]&&(t.__compiled__[e].validate=t.__compiled__[t.__schemas__[e]].validate,t.__compiled__[e].normalize=t.__compiled__[t.__schemas__[e]].normalize)}),t.__compiled__[""]={validate:null,normalize:function(t,e){e.normalize(t)}};const s=Object.keys(t.__compiled__).filter(function(e){return e.length>0&&t.__compiled__[e]}).map(Ji).join("|");t.re.schema_test=RegExp("(^|(?!_)(?:[><]|"+e.src_ZPCc+"))("+s+")","i"),t.re.schema_search=RegExp("(^|(?!_)(?:[><]|"+e.src_ZPCc+"))("+s+")","ig"),t.re.schema_at_start=RegExp("^"+t.re.schema_search.source,"i"),t.re.pretest=RegExp("("+t.re.schema_test.source+")|("+t.re.host_fuzzy_test.source+")|@","i"),function(t){t.__index__=-1,t.__text_cache__=""}(t)}function rn(t,e){const r=t.__index__,i=t.__last_index__,n=t.__text_cache__.slice(r,i);this.schema=t.__schema__.toLowerCase(),this.index=r+e,this.lastIndex=i+e,this.raw=n,this.text=n,this.url=n}function nn(t,e){const r=new rn(t,e);return t.__compiled__[r.schema].normalize(r,t),r}function on(t,e){if(!(this instanceof on))return new on(t,e);var r;e||(r=t,Object.keys(r||{}).reduce(function(t,e){return t||Ki.hasOwnProperty(e)},!1)&&(e=t,t={})),this.__opts__=Wi({},Ki,e),this.__index__=-1,this.__last_index__=-1,this.__schema__="",this.__text_cache__="",this.__schemas__=Wi({},Qi,t),this.__compiled__={},this.__tlds__=tn,this.__tlds_replaced__=!1,this.re={},en(this)}on.prototype.add=function(t,e){return this.__schemas__[t]=e,en(this),this},on.prototype.set=function(t){return this.__opts__=Wi(this.__opts__,t),this},on.prototype.test=function(t){if(this.__text_cache__=t,this.__index__=-1,!t.length)return!1;let e,r,i,n,o,s,a,l,c;if(this.re.schema_test.test(t))for(a=this.re.schema_search,a.lastIndex=0;null!==(e=a.exec(t));)if(n=this.testSchemaAt(t,e[2],a.lastIndex),n){this.__schema__=e[2],this.__index__=e.index+e[1].length,this.__last_index__=e.index+e[0].length+n;break}return this.__opts__.fuzzyLink&&this.__compiled__["http:"]&&(l=t.search(this.re.host_fuzzy_test),l>=0&&(this.__index__<0||l<this.__index__)&&null!==(r=t.match(this.__opts__.fuzzyIP?this.re.link_fuzzy:this.re.link_no_ip_fuzzy))&&(o=r.index+r[1].length,(this.__index__<0||o<this.__index__)&&(this.__schema__="",this.__index__=o,this.__last_index__=r.index+r[0].length))),this.__opts__.fuzzyEmail&&this.__compiled__["mailto:"]&&(c=t.indexOf("@"),c>=0&&null!==(i=t.match(this.re.email_fuzzy))&&(o=i.index+i[1].length,s=i.index+i[0].length,(this.__index__<0||o<this.__index__||o===this.__index__&&s>this.__last_index__)&&(this.__schema__="mailto:",this.__index__=o,this.__last_index__=s))),this.__index__>=0},on.prototype.pretest=function(t){return this.re.pretest.test(t)},on.prototype.testSchemaAt=function(t,e,r){return this.__compiled__[e.toLowerCase()]?this.__compiled__[e.toLowerCase()].validate(t,r,this):0},on.prototype.match=function(t){const e=[];let r=0;this.__index__>=0&&this.__text_cache__===t&&(e.push(nn(this,r)),r=this.__last_index__);let i=r?t.slice(r):t;for(;this.test(i);)e.push(nn(this,r)),i=i.slice(this.__last_index__),r+=this.__last_index__;return e.length?e:null},on.prototype.matchAtStart=function(t){if(this.__text_cache__=t,this.__index__=-1,!t.length)return null;const e=this.re.schema_at_start.exec(t);if(!e)return null;const r=this.testSchemaAt(t,e[2],e[0].length);return r?(this.__schema__=e[2],this.__index__=e.index+e[1].length,this.__last_index__=e.index+e[0].length+r,nn(this,0)):null},on.prototype.tlds=function(t,e){return t=Array.isArray(t)?t:[t],e?(this.__tlds__=this.__tlds__.concat(t).sort().filter(function(t,e,r){return t!==r[e-1]}).reverse(),en(this),this):(this.__tlds__=t.slice(),this.__tlds_replaced__=!0,en(this),this)},on.prototype.normalize=function(t){t.schema||(t.url="http://"+t.url),"mailto:"!==t.schema||/^mailto:/i.test(t.url)||(t.url="mailto:"+t.url)},on.prototype.onCompile=function(){};const sn=on,an=2147483647,ln=36,cn=/^xn--/,un=/[^\0-\x7F]/,hn=/[\x2E\u3002\uFF0E\uFF61]/g,dn={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},pn=Math.floor,gn=String.fromCharCode;function fn(t){throw new RangeError(dn[t])}function mn(t,e){const r=t.split("@");let i="";r.length>1&&(i=r[0]+"@",t=r[1]);const n=function(t,e){const r=[];let i=t.length;for(;i--;)r[i]=e(t[i]);return r}((t=t.replace(hn,".")).split("."),e).join(".");return i+n}function yn(t){const e=[];let r=0;const i=t.length;for(;r<i;){const n=t.charCodeAt(r++);if(n>=55296&&n<=56319&&r<i){const i=t.charCodeAt(r++);56320==(64512&i)?e.push(((1023&n)<<10)+(1023&i)+65536):(e.push(n),r--)}else e.push(n)}return e}const bn=function(t){return t>=48&&t<58?t-48+26:t>=65&&t<91?t-65:t>=97&&t<123?t-97:ln},vn=function(t,e){return t+22+75*(t<26)-((0!=e)<<5)},_n=function(t,e,r){let i=0;for(t=r?pn(t/700):t>>1,t+=pn(t/e);t>455;i+=ln)t=pn(t/35);return pn(i+36*t/(t+38))},Cn=function(t){const e=[],r=t.length;let i=0,n=128,o=72,s=t.lastIndexOf("-");s<0&&(s=0);for(let r=0;r<s;++r)t.charCodeAt(r)>=128&&fn("not-basic"),e.push(t.charCodeAt(r));for(let a=s>0?s+1:0;a<r;){const s=i;for(let e=1,n=ln;;n+=ln){a>=r&&fn("invalid-input");const s=bn(t.charCodeAt(a++));s>=ln&&fn("invalid-input"),s>pn((an-i)/e)&&fn("overflow"),i+=s*e;const l=n<=o?1:n>=o+26?26:n-o;if(s<l)break;const c=ln-l;e>pn(an/c)&&fn("overflow"),e*=c}const l=e.length+1;o=_n(i-s,l,0==s),pn(i/l)>an-n&&fn("overflow"),n+=pn(i/l),i%=l,e.splice(i++,0,n)}return String.fromCodePoint(...e)},kn=function(t){const e=[],r=(t=yn(t)).length;let i=128,n=0,o=72;for(const r of t)r<128&&e.push(gn(r));const s=e.length;let a=s;for(s&&e.push("-");a<r;){let r=an;for(const e of t)e>=i&&e<r&&(r=e);const l=a+1;r-i>pn((an-n)/l)&&fn("overflow"),n+=(r-i)*l,i=r;for(const r of t)if(r<i&&++n>an&&fn("overflow"),r===i){let t=n;for(let r=ln;;r+=ln){const i=r<=o?1:r>=o+26?26:r-o;if(t<i)break;const n=t-i,s=ln-i;e.push(gn(vn(i+n%s,0))),t=pn(n/s)}e.push(gn(vn(t,0))),o=_n(n,l,a===s),n=0,++a}++n,++i}return e.join("")},wn=function(t){return mn(t,function(t){return un.test(t)?"xn--"+kn(t):t})},En=function(t){return mn(t,function(t){return cn.test(t)?Cn(t.slice(4).toLowerCase()):t})},xn={default:{options:{html:!1,xhtmlOut:!1,breaks:!1,langPrefix:"language-",linkify:!1,typographer:!1,quotes:"",highlight:null,maxNesting:100},components:{core:{},block:{},inline:{}}},zero:{options:{html:!1,xhtmlOut:!1,breaks:!1,langPrefix:"language-",linkify:!1,typographer:!1,quotes:"",highlight:null,maxNesting:20},components:{core:{rules:["normalize","block","inline","text_join"]},block:{rules:["paragraph"]},inline:{rules:["text"],rules2:["balance_pairs","fragments_join"]}}},commonmark:{options:{html:!0,xhtmlOut:!0,breaks:!1,langPrefix:"language-",linkify:!1,typographer:!1,quotes:"",highlight:null,maxNesting:20},components:{core:{rules:["normalize","block","inline","text_join"]},block:{rules:["blockquote","code","fence","heading","hr","html_block","lheading","list","reference","paragraph"]},inline:{rules:["autolink","backticks","emphasis","entity","escape","html_inline","image","link","newline","text"],rules2:["balance_pairs","emphasis","fragments_join"]}}}},Sn=/^(vbscript|javascript|file|data):/,An=/^data:image\/(gif|png|jpeg|webp);/;function Dn(t){const e=t.trim().toLowerCase();return!Sn.test(e)||An.test(e)}const In=["http:","https:","mailto:"];function Fn(t){const e=Ne(t,!0);if(e.hostname&&(!e.protocol||In.indexOf(e.protocol)>=0))try{e.hostname=wn(e.hostname)}catch(t){}return xe(Se(e))}function Ln(t){const e=Ne(t,!0);if(e.hostname&&(!e.protocol||In.indexOf(e.protocol)>=0))try{e.hostname=En(e.hostname)}catch(t){}return ke(Se(e),ke.defaultChars+"%")}function Tn(t,e){if(!(this instanceof Tn))return new Tn(t,e);e||fr(t)||(e=t||{},t="default"),this.inline=new Ui,this.block=new Ii,this.core=new fi,this.renderer=new Zr,this.linkify=new sn,this.validateLink=Dn,this.normalizeLink=Fn,this.normalizeLinkText=Ln,this.utils=i,this.helpers=br({},n),this.options={},this.configure(t),e&&this.set(e)}Tn.prototype.set=function(t){return br(this.options,t),this},Tn.prototype.configure=function(t){const e=this;if(fr(t)){const e=t;if(!(t=xn[e]))throw new Error('Wrong `markdown-it` preset "'+e+'", check name')}if(!t)throw new Error("Wrong `markdown-it` preset, can't be empty");return t.options&&e.set(t.options),t.components&&Object.keys(t.components).forEach(function(r){t.components[r].rules&&e[r].ruler.enableOnly(t.components[r].rules),t.components[r].rules2&&e[r].ruler2.enableOnly(t.components[r].rules2)}),this},Tn.prototype.enable=function(t,e){let r=[];Array.isArray(t)||(t=[t]),["core","block","inline"].forEach(function(e){r=r.concat(this[e].ruler.enable(t,!0))},this),r=r.concat(this.inline.ruler2.enable(t,!0));const i=t.filter(function(t){return r.indexOf(t)<0});if(i.length&&!e)throw new Error("MarkdownIt. Failed to enable unknown rule(s): "+i);return this},Tn.prototype.disable=function(t,e){let r=[];Array.isArray(t)||(t=[t]),["core","block","inline"].forEach(function(e){r=r.concat(this[e].ruler.disable(t,!0))},this),r=r.concat(this.inline.ruler2.disable(t,!0));const i=t.filter(function(t){return r.indexOf(t)<0});if(i.length&&!e)throw new Error("MarkdownIt. Failed to disable unknown rule(s): "+i);return this},Tn.prototype.use=function(t){const e=[this].concat(Array.prototype.slice.call(arguments,1));return t.apply(t,e),this},Tn.prototype.parse=function(t,e){if("string"!=typeof t)throw new Error("Input data should be a String");const r=new this.core.State(t,this,e);return this.core.process(r),r.tokens},Tn.prototype.render=function(t,e){return e=e||{},this.renderer.render(this.parse(t,e),this.options,e)},Tn.prototype.parseInline=function(t,e){const r=new this.core.State(t,this,e);return r.inlineMode=!0,this.core.process(r),r.tokens},Tn.prototype.renderInline=function(t,e){return e=e||{},this.renderer.render(this.parseInline(t,e),this.options,e)};const zn=Tn;class Mn{constructor(t){this.el=t,this.buffer="",this.md=new zn({html:!1,linkify:!0,breaks:!0}),this.md.linkify.set({fuzzyLink:!1})}setText(t){this.buffer=t}append(t){this.buffer+=t,this.renderStreaming()}renderStreaming(){const t=(this.buffer.match(/```/g)||[]).length%2==1;let e=this.buffer.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;");t||(e=e.replace(/`([^`]+)`/g,"<code>$1</code>").replace(/\*\*([^*]+)\*\*/g,"<strong>$1</strong>")),this.el.innerHTML=e.replace(/\n/g,"<br>")}renderFinal(){this.el.innerHTML=this.md.render(this.buffer.trim())}}class qn{constructor(t){this.chatWrapper=t.querySelector(".chat--wrapper"),this.form=t.querySelector("form"),this.button=this.form.querySelector("button.send-message"),this.textInput=this.form.querySelector("input.message"),this.spinner=this.form.querySelector("div.spinner"),this.clearButton=t.querySelector("button.clear-chat"),this.placeholderIdle=this.textInput.getAttribute("data-placeholder-idle"),this.placeholderProcessing=this.textInput.getAttribute("data-placeholder-processing"),this.commands=JSON.parse(this.chatWrapper.getAttribute("data-chat-commands")||"{}"),this.autoCompleteJS=null}toggleElements(t){this.textInput.disabled=t,this.button.disabled=t,this.button.classList.toggle("inline-flex",!t),this.button.classList.toggle("hidden",t),this.form.classList.toggle("disabled",t),this.spinner.classList.toggle("hidden",!t),this.textInput.value="",this.textInput.placeholder=t?this.placeholderProcessing:this.placeholderIdle}initAutoComplete(){this.commands&&0!==Object.keys(this.commands).length&&(this.autoCompleteJS=new(ve())({selector:()=>this.textInput,data:{src:Object.keys(this.commands)},threshold:1,trigger:t=>t.startsWith("/"),resultsList:{tabSelect:!0,position:"beforebegin"},resultItem:{highlight:!0,element:(t,e)=>{t.innerHTML=`\n                        <div>${e.match}</div>\n                        <div class="text-xs text-gray-500">${this.commands[e.value]}</div>\n                    `}},events:{input:{focus:()=>{this.autoCompleteJS.input.value.length&&this.autoCompleteJS.start()}}}}),this.autoCompleteJS.input.addEventListener("selection",t=>{const e=t.detail;this.autoCompleteJS.input.value=this.commands[e.selection.value]||""}))}handleSSE(t){const e=new EventSource(`/chat/sse?message=${encodeURIComponent(t)}`);let r=null;e.addEventListener("fullMessage",t=>{this.chatWrapper.insertAdjacentHTML("beforeend",t.data.replace(/\\n/g,"\n"));const e=this.chatWrapper.querySelector("div.message-wrapper:last-child > div.message");r=new Mn(e)}),e.addEventListener("removeThinking",()=>{this.chatWrapper.querySelector(".thinking")?.remove()}),e.addEventListener("agentResponse",t=>{r&&r.append(t.data.replace(/\\n/g,"\n"))}),e.addEventListener("done",()=>{e.close(),r?.renderFinal(),this.toggleElements(!1),this.textInput.focus()})}bindEvents(){this.form.addEventListener("submit",t=>{t.preventDefault();const e=new FormData(this.form);this.toggleElements(!0),this.handleSSE(e.get("form[message]"))}),this.textInput.addEventListener("keydown",t=>{"Enter"!==t.key||t.shiftKey||(t.preventDefault(),this.form.requestSubmit())}),this.clearButton&&this.clearButton.addEventListener("click",()=>this.clearChat())}async clearChat(){if(confirm("Are you sure you want to clear the chat history?"))try{await fetch("/chat/clear",{method:"POST"}),this.chatWrapper.innerHTML=""}catch(t){console.error("Failed to clear chat:",t)}}parseExistingMessages(){this.chatWrapper.querySelectorAll("div.message").forEach(t=>{if("true"===t.dataset.parsed)return;const e=t.textContent;if(!e)return;const r=new Mn(t);r.setText(e),r.renderFinal(),t.dataset.parsed="true"})}render(){this.parseExistingMessages(),this.initAutoComplete(),this.bindEvents()}}const On=document.querySelector("main"),Bn=new h,Pn=new class{constructor(t){this.app=t,this.appContent=t.querySelector("#js-loaded-content"),this.spinner=t.querySelector("#spinner"),this.menu=document.querySelector("aside"),this.menuItems=document.querySelectorAll("nav a[data-router-navigate]:not([data-router-disabled]), aside li a[data-router-navigate]:not([data-router-disabled])"),this.mobileNavTriggerEl=document.querySelector('[data-drawer-target="drawer-navigation"]'),this.defaultRoute="/dashboard"}showLoader(){this.spinner.classList.remove("hidden"),this.spinner.classList.add("flex"),this.appContent.classList.add("hidden")}hideLoader(){this.spinner.classList.remove("flex"),this.spinner.classList.add("hidden"),this.appContent.classList.remove("hidden")}determineActiveMenuLink(t){const e=document.querySelector(`aside li a[data-router-navigate="${t}"]`);if(e)return e;const r=t.replace(/\/[^\/]*$/,"");return r===t||""===r?null:this.determineActiveMenuLink(r)}async renderContent(t,e){this.menu.hasAttribute("aria-hidden")||this.mobileNavTriggerEl.dispatchEvent(new MouseEvent("click",{bubbles:!0,cancelable:!0,view:window})),this.showLoader();const r=await fetch(`${t}.html`,{cache:"no-store"});this.appContent.innerHTML=await r.text(),window.scrollTo(0,0),this.hideLoader(),this.app.setAttribute("data-router-current",t),this.app.setAttribute("data-modal-current",e),this.menuItems.forEach(t=>t.setAttribute("aria-selected","false"));const i=this.determineActiveMenuLink(t);i?.setAttribute("aria-selected","true"),i?.hasAttribute("data-router-sub-menu")&&i.closest("ul")?.classList.remove("hidden");const n=document.querySelectorAll("main a[data-router-navigate]:not([data-router-disabled])");this.registerNavItems(n);const o=t.replace(window.statisticsForStrava.appUrl.basePath,"").replace(/^\/+/,"").replaceAll("/","-");document.dispatchEvent(new CustomEvent("pageWasLoaded",{bubbles:!0,detail:{page:o,modalId:e}})),document.dispatchEvent(new CustomEvent(`pageWasLoaded.${o}`,{bubbles:!0,detail:{page:o,modalId:e}}))}registerNavItems(t){t.forEach(t=>{t.addEventListener("click",e=>{e.preventDefault();const r=t.getAttribute("data-router-navigate");document.dispatchEvent(new CustomEvent("navigationLinkHasBeenClicked",{bubbles:!0,detail:{link:t}})),this.navigateTo(r,null,t.hasAttribute("data-router-force-reload"))})})}registerBrowserBackAndForth(){window.onpopstate=t=>{t.state&&this.renderContent(t.state.route,t.state.modal)}}navigateTo(t,e,r=!1){(this.app.getAttribute("data-router-current")!==t||r)&&(this.renderContent(t,e),this.pushRouteToHistoryState(t,e))}pushRouteToHistoryState(t,e){const r=e?`${t}#${e}`:t;window.history.pushState({route:t,modal:e},"",r)}pushCurrentRouteToHistoryState(t){this.pushRouteToHistoryState(this.currentRoute(),t)}currentRoute(){return location.pathname.replace("/","")?location.pathname:this.defaultRoute}boot(){if(null===this.appContent)return;const t=this.currentRoute(),e=location.hash.replace("#","");this.registerNavItems(this.menuItems),this.registerBrowserBackAndForth(),this.renderContent(t,e),window.history.replaceState({route:t,modal:e},"",t+location.hash)}}(On);Pn.boot();const Nn=new class{constructor(t){this.$main=t,this.$sideNav=document.querySelector("aside"),this.$topNav=document.querySelector("nav")}init(){const t="true"===localStorage.getItem("sideNavCollapsed");[this.$main,this.$sideNav,this.$topNav].forEach(e=>e.classList.toggle("sidebar-is-collapsed",t)),document.getElementById("toggle-sidebar-collapsed-state").addEventListener("click",()=>{const t=this.$main.classList.toggle("sidebar-is-collapsed");[this.$sideNav,this.$topNav].forEach(e=>e.classList.toggle("sidebar-is-collapsed",t)),localStorage.setItem("sideNavCollapsed",String(t)),document.dispatchEvent(new Event("sidebarWasResized"))})}}(On),Rn=new class{constructor(t){this.router=t,this.initElements=null,this.modalSkeletonNode=document.getElementById("modal-skeleton"),this.modalContent=this.modalSkeletonNode.querySelector("#modal-content"),this.modalSpinner=this.modalSkeletonNode.querySelector(".spinner"),this.modal=null}setInitElements(t){this.initElements=t}init(t){t.querySelectorAll("a[data-model-content-url]").forEach(t=>{t.addEventListener("click",e=>{e.preventDefault(),e.stopPropagation();const r=t.getAttribute("data-model-content-url");this.open(r),this.router.pushCurrentRouteToHistoryState(r)})})}open(t){this.close(),this.modalSpinner.classList.remove("hidden"),this.modalSpinner.classList.add("flex"),this.modal=new Modal(this.modalSkeletonNode,{placement:"bottom",closable:!0,backdropClasses:"bg-gray-900/50 fixed inset-0 z-1400",onShow:async()=>{const e=await fetch(t,{cache:"no-store"});this.modalSpinner.classList.add("hidden"),this.modalSpinner.classList.remove("flex"),this.modalContent.innerHTML=await e.text(),this.initElements(this.modalSkeletonNode),this.modalContent.querySelector("button.close")&&this.modalContent.querySelector("button.close").addEventListener("click",t=>{t.preventDefault(),t.stopPropagation(),this.modal.hide(),this.router.pushCurrentRouteToHistoryState()}),document.body.addEventListener("keydown",t=>{"Escape"===t.key&&this.router.pushCurrentRouteToHistoryState()},{once:!0}),document.body.addEventListener("click",t=>{"modal-skeleton"===t.target.id&&this.router.pushCurrentRouteToHistoryState()},{once:!0});const r=this.modalSkeletonNode.querySelectorAll("a[data-router-navigate]:not([data-router-disabled])");this.router.registerNavItems(r);const i=t.replace(/^\/+/,"").replaceAll("/","-");document.dispatchEvent(new CustomEvent("modalWasLoaded."+i,{bubbles:!0,cancelable:!1,detail:{modal:this.modalSkeletonNode}}))},onHide:()=>{this.modalContent.innerHTML=""}}),this.modal.show()}close(){this.modal&&this.modal.hide()}}(Pn),Gn=new class{constructor(t,e,r){this.router=t,this.dataTableStorage=e,this.modalManager=r,this.allCharts=[],this.chartsPerTab=[],echarts.registerTheme("v5",(()=>{const t=["#f6efa6","#d88273","#bf444c"];return{color:["#5470c6","#91cc75","#fac858","#ee6666","#73c0de","#3ba272","#fc8452","#9a60b4","#ea7ccc"],gradientColor:t,loading:{textColor:"red"},bar:{defaultBarGap:"20%",select:{itemStyle:{borderColor:"#212121",borderWidth:1}}},boxplot:{emphasis:{itemStyle:{shadowColor:"rgba(0,0,0,0.2)"}}},graph:{lineStyle:{color:"#aaa"},select:{itemStyle:{borderColor:"#212121"}}},heatmap:{select:{itemStyle:{borderColor:"#212121"}}},line:{symbolSize:4},pictorialBar:{select:{itemStyle:{borderColor:"#212121",borderWidth:1}}},pie:{radius:[0,"75%"],labelLine:{length2:15}},map:{defaultItemStyleColor:"#eee",label:{color:"#000"},itemStyle:{borderColor:"#444",areaColor:"#eee"},emphasis:{label:{color:"rgb(100,0,0)"},itemStyle:{areaColor:"rgba(255,215,0,0.8)"}},select:{label:{color:"rgb(100,0,0)"},itemStyle:{color:"rgba(255,215,0,0.8)"}}},timeAxis:{axisLine:{lineStyle:{color:"#6E7079"}},axisLabel:{color:null},splitLine:{lineStyle:{color:["#E0E6F1"]}},splitArea:{areaStyle:{color:["rgba(250,250,250,0.2)","rgba(210,219,238,0.2)"]}},minorSplitLine:{color:"#F4F7FD"}},logAxis:{axisLine:{lineStyle:{color:"#6E7079"}},axisLabel:{color:null},splitLine:{lineStyle:{color:["#E0E6F1"]}},splitArea:{areaStyle:{color:["rgba(250,250,250,0.2)","rgba(210,219,238,0.2)"]}},minorSplitLine:{color:"#F4F7FD"}},valueAxis:{axisLine:{lineStyle:{color:"#6E7079"}},axisLabel:{color:null},splitLine:{lineStyle:{color:["#E0E6F1"]}},splitArea:{areaStyle:{color:["rgba(250,250,250,0.2)","rgba(210,219,238,0.2)"]}},minorSplitLine:{color:"#F4F7FD"}},categoryAxis:{axisLine:{lineStyle:{color:"#6E7079"}},axisLabel:{color:null},splitLine:{lineStyle:{color:["#E0E6F1"]}},splitArea:{areaStyle:{color:["rgba(250,250,250,0.2)","rgba(210,219,238,0.2)"]}},minorSplitLine:{color:"#F4F7FD"},axisTick:{show:!0}},axisPointer:{lineStyle:{color:"#B9BEC9"},shadowStyle:{color:"rgba(210,219,238,0.2)"},label:{backgroundColor:"auto",color:"#fff"},handle:{color:"#333",shadowBlur:3,shadowColor:"#aaa",shadowOffsetX:0,shadowOffsetY:2}},brush:{brushStyle:{color:"rgba(210,219,238,0.3)",borderColor:"#D2DBEE"},defaultOutOfBrushColor:"#ddd"},calendar:{splitLine:{lineStyle:{color:"#000"}},itemStyle:{borderColor:"#ccc"},dayLabel:{margin:"50%",color:"#000"},monthLabel:{margin:5,color:"#000"},yearLabel:{margin:30,color:"#ccc"}},dataZoom:{borderColor:"#d2dbee",borderRadius:3,backgroundColor:"rgba(47,69,84,0)",dataBackground:{lineStyle:{color:"#d2dbee",width:.5},areaStyle:{color:"#d2dbee",opacity:.2}},selectedDataBackground:{lineStyle:{color:"#8fb0f7",width:.5},areaStyle:{color:"#8fb0f7",opacity:.2}},handleStyle:{color:"#fff",borderColor:"#ACB8D1"},moveHandleStyle:{color:"#D2DBEE",opacity:.7},textStyle:{color:"#6E7079"},brushStyle:{color:"rgba(135,175,274,0.15)"},emphasis:{handleStyle:{borderColor:"#8FB0F7"},moveHandleStyle:{color:"#8FB0F7",opacity:.7}},defaultLocationEdgeGap:7},geo:{defaultItemStyleColor:"#eee",label:{color:"#000"},itemStyle:{borderColor:"#444"},emphasis:{label:{color:"rgb(100,0,0)"},itemStyle:{color:"rgba(255,215,0,0.8)"}},select:{label:{color:"rgb(100,0,0)"},itemStyle:{color:"rgba(255,215,0,0.8)"}}},grid:{left:"10%",top:60,bottom:70,borderColor:"#ccc"},legend:{top:0,bottom:null,backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",itemGap:10,inactiveColor:"#ccc",inactiveBorderColor:"#ccc",lineStyle:{inactiveColor:"#ccc"},textStyle:{color:"#333"},selectorLabel:{color:"#666",borderColor:"#666"},emphasis:{selectorLabel:{color:"#eee",backgroundColor:"#666"}},pageIconColor:"#2f4554",pageIconInactiveColor:"#aaa",pageTextStyle:{color:"#333"}},title:{left:0,top:0,backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",textStyle:{color:"#464646"},subtextStyle:{color:"#6E7079"}},toolbox:{borderColor:"#ccc",padding:5,itemGap:8,iconStyle:{borderColor:"#666"},emphasis:{iconStyle:{borderColor:"#3E98C5"}}},tooltip:{axisPointer:{crossStyle:{color:"#999"}},textStyle:{color:"#666"},backgroundColor:"#fff",borderWidth:1,defaultBorderColor:"#fff"},visualMap:{color:[t[2],t[1],t[0]],inactive:["rgba(0,0,0,0)"],indicatorStyle:{shadowColor:"rgba(0,0,0,0.2)"},backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",contentColor:"#5793f3",inactiveColor:"#aaa",padding:5,textStyle:{color:"#333"}}}})())}init(t){const e=this.getClickHandlers(),r=[];t.querySelectorAll("[data-echarts-options]").forEach(t=>{const i=echarts.init(t,"v5"),n=JSON.parse(t.getAttribute("data-echarts-options"));["tooltip.formatter","tooltip.valueFormatter","yAxis.axisLabel.formatter","yAxis[].axisLabel.formatter","series.symbolSize","dataZoom[].labelFormatter"].forEach(t=>((t,e)=>{const r=e.split("."),i=(t,e)=>{if(!t||0===e.length)return;const r=e[0],n=e.slice(1),o=r.endsWith("[]"),s=o?r.slice(0,-2):r;if(o){const e=t?.[s];Array.isArray(e)&&e.forEach(t=>i(t,n))}else 0===n.length?t?.[s]&&t[s]in window.statisticsForStrava.callbacks&&(t[s]=window.statisticsForStrava.callbacks[t[s]]):i(t?.[s],n)};i(t,r)})(n,t)),i.setOption(n);const o=t.getAttribute("data-echarts-click");o&&e[o]&&i.on("click",function(r){const i=JSON.parse(t.getAttribute("data-echarts-click-data")||"{}");e[o](r,i)}),t.hasAttribute("data-echarts-connect")&&r.push(i),this.allCharts.push(i);const s=((t,e)=>{const r=[];let i=t.parentElement;for(;i;)e&&!i.matches(e)||r.push(i),i=i.parentElement;return r})(t,'div[role="tabpanel"]');for(const t of s){const e=t.getAttribute("id");this.chartsPerTab[e]??=[],this.chartsPerTab[e].push(i)}}),echarts.connect(r)}getClickHandlers(){return{handleMonthlyStatsClick:(t,e)=>{if(!t||!t.dataIndex||!t.seriesName)return;const r=(t.dataIndex+1).toString().padStart(2,"0"),i=`month/month-${t.seriesName}-${r}.html`;this.modalManager.open(i),this.router.pushCurrentRouteToHistoryState(i)},handleWeeklyStatsClick:(t,e)=>{if(!t||!t.dataIndex)return;const r=e.weeks;!t.dataIndex in r||(this.dataTableStorage.set({activities:{sportType:e.sportTypes,"start-date":{from:r[t.dataIndex].from,to:r[t.dataIndex].to}}}),this.router.navigateTo("/activities"))},handleActivityGridChartClick:(t,e)=>{!t||!t.value||t.value<1||(this.dataTableStorage.set({activities:{"start-date":{from:t.value[0],to:t.value[0]}}}),this.router.navigateTo("/activities"))}}}reset(){this.allCharts=[],this.chartsPerTab=[]}resizeAll(){this.allCharts.filter(t=>t.getDom().offsetParent).forEach(t=>t.resize())}resizeInTab(t){t in this.chartsPerTab&&this.chartsPerTab[t].filter(t=>t.getDom().offsetParent).forEach(t=>t.resize())}}(Pn,Bn,Rn),Hn=new class{init(t){t.querySelectorAll("[data-leaflet]").forEach(function(t){const e=JSON.parse(t.getAttribute("data-leaflet")),r=L.map(t,{scrollWheelZoom:e.scrollWheelZoom||!1,minZoom:e.minZoom,maxZoom:e.maxZoom,zoomSnap:.5,zoomDelta:.5});e.tileLayer&&L.tileLayer(e.tileLayer).addTo(r);const i=L.featureGroup();if(e.routes.forEach(t=>{const r=L.Polyline.fromEncoded(t).getLatLngs();L.polyline(r,{color:"#fc6719",weight:2,opacity:.9,lineJoin:"round"}).addTo(i);const n=(t,e)=>{L.circleMarker(t,{radius:8,color:"#303030",fillColor:e,fillOpacity:1,opacity:1}).addTo(i)};e.showStartMarker&&n(r[0],"#3ba272"),e.showEndMarker&&n(r.at(-1),"#BD2D22")}),e.imageOverlay&&(L.imageOverlay(e.imageOverlay,e.bounds,{attribution:' <a href="https://zwift.com" rel="noreferrer noopener">Zwift</a>'}).addTo(r),r.setMaxBounds(e.bounds)),i.addTo(r),r.fitBounds(i.getBounds(),{maxZoom:e.maxZoom}),e.gpxLink&&L.control.downloadGpx({gpxLink:e.gpxLink}).addTo(r),!t.hasAttribute("data-leaflet-echart-connect"))return;const n=document.querySelector("div[data-echarts-options][data-leaflet-echart-connect]");if(!n)return;const o=JSON.parse(n.getAttribute("data-leaflet-echart-connect"));if(!o)return;const s=L.circleMarker([0,0],{radius:6,color:"#303030",fillColor:"#F26722",fillOpacity:0,opacity:0}).addTo(r),a=echarts.getInstanceByDom(n),l=r.getZoom();a.on("updateAxisPointer",function(t){if(!t.dataIndex||!t.dataIndex in o)return void s.setStyle({opacity:0,fillOpacity:0});const e=o[t.dataIndex];s.setLatLng(e),s.setStyle({opacity:1,fillOpacity:1}),(r.getZoom()>l||!r.getBounds().contains(e))&&r.panTo(e)})})}},$n=new class{constructor(t){this.chartManager=t}init(t){t.querySelectorAll("[data-tabs]").forEach(t=>{const e=[];let r=null;t.querySelectorAll('[role="tab"]').forEach(function(t){const i=t.getAttribute("data-tabs-target");e.push({id:i,triggerEl:t,targetEl:document.querySelector(i)}),t.hasAttribute("data-tab-default")&&(r=i)}),new Tabs(t,e,{defaultTabId:r,activeClasses:t.getAttribute("data-tabs-active-classes")||"text-strava-orange border-strava-orange hover:text-gray-600 hover:border-gray-300",inactiveClasses:t.getAttribute("data-tabs-inactive-classes")||"text-gray-500 hover:text-gray-600 border-gray-100 hover:border-gray-300",onShow:(t,e)=>{const r=e.id.replace("#","");this.chartManager.resizeInTab(r)}})})}}(Gn),jn=new class{constructor(t){this.storage=t}init(){document.querySelectorAll("div[data-dataTable-settings]").forEach(t=>{const e=t.querySelector("table"),r=e?.querySelector("tbody"),i=t.querySelector(".scroll-area"),n=t.querySelector('input[type="search"]'),o=t.querySelector("[data-dataTable-reset]"),s=JSON.parse(t.getAttribute("data-dataTable-settings")),l=new a(t,this.storage),h=new u(t,r,i),d=new c(t.querySelectorAll("thead th[data-dataTable-sort]"));e&&r&&n&&(t.querySelectorAll('input[type="date"][data-default-to-today]').forEach(t=>t.valueAsDate=new Date),fetch(s.url,{cache:"no-store"}).then(async e=>{const r=await e.json();h.init(r);const a=()=>{const t=n.value.trim(),e=l.getActiveFilters();l.updateDropdownState(e);const i=l.applyFiltersToRows(r,t);h.update(i),o.classList.toggle("hidden",!(Object.keys(e).length>0||t.length>0))};l.prefillFromStorage(s.name),a(),n.addEventListener("input",((t,e=300)=>{let r;return(...i)=>{clearTimeout(r),r=setTimeout(()=>{t.apply(void 0,i)},e)}})(a)),t.querySelectorAll("[data-dataTable-filter]").forEach(t=>t.addEventListener("input",a)),d.attachListeners(r,h.cluster,i),o&&o.addEventListener("click",t=>{t.preventDefault(),n.value="",l.resetAll(),a()}),t.querySelectorAll("[data-datatable-filter-clear]").forEach(t=>{t.addEventListener("click",e=>{e.preventDefault();const r=t.getAttribute("data-datatable-filter-clear");l.resetOne(r),a()})})}))})}}(Bn),Zn=new class{constructor(t){this.chartManager=t}init(t){t.querySelectorAll("[data-fullscreen-trigger]").forEach(t=>{t.addEventListener("click",e=>{if(e.preventDefault(),document.fullscreenElement)return;const r=t.closest("[data-fullscreen-content]");r.requestFullscreen().then(()=>{this.chartManager.resizeAll()}),r.addEventListener("fullscreenchange",()=>{t.classList.toggle("hidden",Boolean(document.fullscreenElement)),r.classList.toggle("fullscreen-is-enabled",Boolean(document.fullscreenElement)),r.classList.toggle("group",Boolean(document.fullscreenElement))})})})}}(Gn),Vn=new ye({thresholds:"50px",callback_error:t=>{t.setAttribute("src",window.statisticsForStrava.placeholderBrokenImage)}}),Un=t=>{Vn.update(),$n.init(t),initPopovers(),initTooltips(),initDropdowns(),initAccordions(),Rn.init(t),Gn.init(t),Hn.init(t),Zn.init(t)};Rn.setInitElements(Un),Nn.init(),document.addEventListener("pageWasLoaded",t=>{Rn.close(),jn.init(),Gn.reset(),Un(document),t.detail&&t.detail.modalId&&Rn.open(t.detail.modalId)}),document.addEventListener("pageWasLoaded.heatmap",()=>{const t=document.querySelector(".heatmap-wrapper");new U(t,Rn).render()}),document.addEventListener("pageWasLoaded.photos",()=>{const t=document.querySelector(".photo-wall-wrapper");new rt(t,Bn).render()}),document.addEventListener("navigationLinkHasBeenClicked",t=>{t.detail&&t.detail.link&&t.detail.link.hasAttribute("data-dataTable-filters")&&Bn.set(JSON.parse(t.detail.link.getAttribute("data-dataTable-filters")))}),document.addEventListener("dataTableClusterWasChanged",()=>{Rn.init(document)}),window.addEventListener("resize",function(){Gn.resizeAll()}),document.addEventListener("sidebarWasResized",function(){Gn.resizeAll()});const Wn=document.querySelector("a[data-modal-custom-ai]");Wn&&Wn.addEventListener("click",t=>{t.preventDefault(),t.stopPropagation();const e=Wn.getAttribute("data-modal-custom-ai");Rn.open(e),Pn.pushCurrentRouteToHistoryState(e)}),document.addEventListener("modalWasLoaded.ai-chat",async t=>{const e=t.detail.modal;new qn(e).render()}),(async()=>{await(async()=>{const t=document.querySelector("[data-latest-version]");if(!t)return;const e=t.dataset.currentVersion;if(!e)return;const r="latestReleaseCache",i=Date.now(),n=JSON.parse(localStorage.getItem(r)||"null");if(n&&i-n.timestamp<216e5)((t,e)=>{t=t.replace(/^v/,""),e=e.replace(/^v/,"");const r=t.split(".").map(Number),i=e.split(".").map(Number);for(let t=0;t<Math.max(r.length,i.length);t++){const e=r[t]||0,n=i[t]||0;if(e>n)return 1;if(e<n)return-1}return 0})(e,n.latestVersion)<0&&W(n.latestVersion);else try{const t=await fetch("https://api.github.com/repos/robiningelbrecht/statistics-for-strava/releases/latest",{headers:{Accept:"application/vnd.github+json"}});if(!t.ok)throw new Error("Failed to fetch latest release");const n=(await t.json()).name;if(e===n)return void localStorage.setItem(r,JSON.stringify({latestVersion:n,timestamp:i}));const o=await fetch(`https://api.github.com/repos/robiningelbrecht/statistics-for-strava/actions/runs?event=push&status=completed&conclusion=success&exclude_pull_requests=true&branch=${n}`,{headers:{Accept:"application/vnd.github+json"}});if(!o.ok)throw new Error("Failed to fetch workflow runs");const{workflow_runs:s=[]}=await o.json();if(!s.find(t=>".github/workflows/docker-image.yml"===t.path))return;W(n),localStorage.setItem(r,JSON.stringify({latestVersion:n,timestamp:i}))}catch(t){console.error("Error checking latest release:",t)}})()})()})()})();